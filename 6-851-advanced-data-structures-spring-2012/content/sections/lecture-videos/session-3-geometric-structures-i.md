---
about_this_resource_text: '<p><strong>Description:</strong> Point location and range
  searching: persistence, retroactivity, dynamization of augmentation through weight
  balance, and fractional cascading.</p> <p><strong>Speaker:</strong> Prof. Erik Demaine</p>'
course_id: 6-851-advanced-data-structures-spring-2012
embedded_media:
- id: Video-YouTube-Stream
  media_location: NMxLL3D5qd8
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Video-YouTube-Stream
  type: Video
  uid: 28d382d85264a5f00eb0a544a9cc24b4
- id: Video-iTunesU-MP4
  media_location: https://itunes.apple.com/us/itunes-u/session-3-geometric-structures/id735348884?i=169609878
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Video-iTunes U-MP4
  type: Video
  uid: 83f01f126b6284c08caf7c54304923bf
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.851S12/MIT6_851S12_lec03_300k.mp4
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Video-Internet Archive-MP4
  type: Video
  uid: 3e3e5887a37868d63d1b5d3671b4ef80
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/NMxLL3D5qd8/default.jpg
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 7100f56476b5fbc6513de96fccdd4f97
- id: 3Play-3PlayYouTubeid-MP4
  media_location: NMxLL3D5qd8
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 2f7a2d5716ab8c127b4ee73abd5e1d16
- id: NMxLL3D5qd8.srt
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-3-geometric-structures-i/NMxLL3D5qd8.srt
  title: 3play caption file
  type: null
  uid: 6d4cf78c3a6e959fcce316043c5d8d76
- id: NMxLL3D5qd8.pdf
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-3-geometric-structures-i/NMxLL3D5qd8.pdf
  title: 3play pdf file
  type: null
  uid: bc453a5c280a30d29259af756c980e20
- id: Caption-3Play YouTube id-SRT
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 8cc4974f02931d11f073f7be84bf5c51
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 35f5e21ff0ace3b604d3bd819a66744c
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: d0493e0698469f337a6749f1a91a6120
inline_embed_id: 75142520session3:geometricstructuresi39024660
layout: video
order_index: null
parent_uid: b66cbbb7b35e74ff17cdbf44e5fb6b1d
related_resources_text: ''
short_url: session-3-geometric-structures-i
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-3-geometric-structures-i
template_type: Tabbed
title: 'Session 3: Geometric Structures I'
transcript: <p><span m='90'>The</span> <span m='180'>following</span> <span m='630'>content</span>
  <span m='1200'>is</span> <span m='1320'>provided</span> <span m='1770'>under</span>
  <span m='2009'>a</span> <span m='2070'>Creative</span> <span m='2490'>Commons</span>
  <span m='2910'>license.</span> <span m='4030'>Your</span> <span m='4200'>support</span>
  <span m='4710'>will</span> <span m='4860'>help</span> <span m='5100'>MIT</span>
  <span m='5550'>OpenCourseWare</span> <span m='6360'>continue</span> <span m='6870'>to</span>
  <span m='6960'>offer</span> <span m='7380'>high</span> <span m='7620'>quality</span>
  <span m='8100'>educational</span> <span m='8730'>resources</span> <span m='9360'>for</span>
  <span m='9510'>free.</span> <span m='10720'>To</span> <span m='10740'>make</span>
  <span m='10920'>a</span> <span m='10980'>donation</span> <span m='11730'>or</span>
  <span m='11940'>view</span> <span m='12390'>additional</span> <span m='12810'>materials</span>
  <span m='13320'>from</span> <span m='13500'>hundreds</span> <span m='13920'>of</span>
  <span m='14040'>MIT</span> <span m='14460'>courses,</span> <span m='15550'>visit</span>
  <span m='15780'>MIT</span> <span m='16200'>OpenCourseWare</span> <span m='17280'>at</span>
  <span m='17430'>ocw.mit.edu.</span> </p><p><span m='21870'>ERIK DEMAINE:</span>
  <span m='21900'>All</span> <span m='21930'>right,</span> <span m='22110'>let's</span>
  <span m='22260'>get</span> <span m='22380'>started.</span> <span m='23500'>So</span>
  <span m='24150'>today,</span> <span m='24480'>we</span> <span m='24660'>start</span>
  <span m='24990'>out</span> <span m='25590'>geometry,</span> <span m='26280'>geometric</span>
  <span m='26850'>data</span> <span m='27060'>structures.</span> <span m='27960'>There</span>
  <span m='28110'>are</span> <span m='28140'>two</span> <span m='28440'>lectures</span>
  <span m='28830'>on</span> <span m='28980'>this.</span> <span m='29680'>This is</span>
  <span m='29850'>lecture</span> <span m='30120'>one.</span> </p><p><span m='31080'>And</span>
  <span m='31440'>we're</span> <span m='31560'>going</span> <span m='31680'>to</span>
  <span m='31770'>solve</span> <span m='32310'>two</span> <span m='32670'>main</span>
  <span m='32940'>problems</span> <span m='33450'>today.</span> <span m='33910'>One</span>
  <span m='34050'>is point</span> <span m='34200'>location,</span> <span m='35040'>which</span>
  <span m='35190'>is</span> <span m='35310'>finding</span> <span m='35640'>yourself</span>
  <span m='36030'>on</span> <span m='36090'>a</span> <span m='36150'>map.</span> <span
  m='36900'>And</span> <span m='37080'>the</span> <span m='37200'>other</span> <span
  m='37410'>is</span> <span m='37530'>orthogonal</span> <span m='38040'>range</span>
  <span m='38250'>searching,</span> <span m='38740'>which</span> <span m='38850'>is</span>
  <span m='39000'>catching</span> <span m='39480'>a</span> <span m='39540'>bunch</span>
  <span m='39840'>of</span> <span m='40530'>dots</span> <span m='40980'>with</span>
  <span m='41220'>a</span> <span m='41340'>rectangular</span> <span m='41970'>net.</span>
  </p><p><span m='43280'>And</span> <span m='44030'>they're</span> <span m='44130'>fun</span>
  <span m='44340'>problems.</span> <span m='44700'>And</span> <span m='44820'>they're</span>
  <span m='44940'>good</span> <span m='45120'>illustrations</span> <span m='46110'>of</span>
  <span m='47060'>a</span> <span m='47460'>couple</span> <span m='47730'>of</span>
  <span m='47820'>techniques.</span> <span m='48420'>We're</span> <span m='48510'>going</span>
  <span m='48630'>to</span> <span m='48870'>cover</span> <span m='49110'>two</span>
  <span m='50070'>general</span> <span m='50400'>techniques</span> <span m='50880'>for</span>
  <span m='51120'>data</span> <span m='51330'>structure</span> <span m='51690'>building.</span>
  <span m='52020'>One</span> <span m='52200'>is</span> <span m='52320'>dynamizing</span>
  <span m='53120'>static</span> <span m='53520'>data</span> <span m='53700'>structures,</span>
  <span m='54120'>turning</span> <span m='54390'>static</span> <span m='54750'>into</span>
  <span m='54960'>dynamic</span> <span m='55980'>using</span> <span m='56280'>a</span>
  <span m='56340'>technique</span> <span m='56610'>called</span> <span m='56820'>weight</span>
  <span m='57030'>balance,</span> <span m='57315'>which is</span> <span m='57600'>really</span>
  <span m='57810'>cool.</span> <span m='58590'>And</span> <span m='58860'>another</span>
  <span m='59010'>one is</span> <span m='59250'>called</span> <span m='59430'>fractional</span>
  <span m='59910'>cascading,</span> <span m='60540'>which</span> <span m='60690'>has</span>
  <span m='60900'>probably</span> <span m='61230'>one</span> <span m='61350'>of</span>
  <span m='61440'>the</span> <span m='61530'>coolest</span> <span m='61920'>names</span>
  <span m='62220'>of</span> <span m='62340'>any</span> <span m='63050'>algorithmic</span>
  <span m='63620'>or</span> <span m='63750'>data</span> <span m='63990'>structures</span>
  <span m='64379'>technique.</span> <span m='64739'>It's</span> <span m='64830'>actually</span>
  <span m='65099'>a</span> <span m='65129'>very</span> <span m='65280'>simple</span>
  <span m='65610'>idea,</span> <span m='66030'>but</span> <span m='66450'>sounds</span>
  <span m='66780'>very</span> <span m='67050'>scary.</span> </p><p><span m='70710'>And</span>
  <span m='71330'>with</span> <span m='71580'>point</span> <span m='71820'>location,</span>
  <span m='72270'>we're</span> <span m='72360'>going</span> <span m='72470'>to</span>
  <span m='72540'>see</span> <span m='72690'>some</span> <span m='72870'>fun</span>
  <span m='73080'>connections</span> <span m='73530'>to</span> <span m='73680'>persistence</span>
  <span m='74250'>and</span> <span m='74370'>retroactivity,</span> <span m='75180'>which</span>
  <span m='75360'>was</span> <span m='75870'>the</span> <span m='75930'>topic</span>
  <span m='76260'>of</span> <span m='76350'>the</span> <span m='76410'>last</span>
  <span m='76650'>two</span> <span m='76770'>lectures,</span> <span m='77130'>you</span>
  <span m='77190'>may</span> <span m='77340'>recall.</span> <span m='78840'>And</span>
  <span m='78990'>so</span> <span m='79140'>we'll</span> <span m='79260'>start</span>
  <span m='79470'>out</span> <span m='79560'>with</span> <span m='79710'>that.</span>
  <span m='82970'>Planar</span> <span m='83660'>point</span> <span m='83940'>location,</span>
  <span m='85680'>you</span> <span m='85800'>can</span> <span m='85950'>do</span>
  <span m='86070'>it</span> <span m='86220'>in</span> <span m='86460'>higher</span>
  <span m='86700'>dimensions</span> <span m='87600'>as</span> <span m='87750'>well.</span>
  </p><p><span m='88500'>In</span> <span m='88620'>general,</span> <span m='88950'>geometric</span>
  <span m='89430'>data</span> <span m='89640'>structures</span> <span m='90060'>are</span>
  <span m='90150'>about</span> <span m='90600'>going</span> <span m='90930'>to</span>
  <span m='91110'>more</span> <span m='91440'>than</span> <span m='91590'>one</span>
  <span m='91770'>dimension.</span> <span m='92680'>Most</span> <span m='92850'>data</span>
  <span m='93060'>structures</span> <span m='93510'>are</span> <span m='93570'>about</span>
  <span m='93780'>one</span> <span m='93960'>dimensional</span> <span m='94440'>ordered</span>
  <span m='94790'>data.</span> <span m='95850'>Now,</span> <span m='96090'>we</span>
  <span m='96240'>have</span> <span m='97380'>points</span> <span m='98400'>in</span>
  <span m='98580'>the</span> <span m='98670'>plane.</span> </p><p><span m='99430'>We</span>
  <span m='99560'>might</span> <span m='99690'>have</span> <span m='100380'>polygons</span>
  <span m='101190'>in</span> <span m='101370'>the</span> <span m='101460'>plane.</span>
  <span m='102630'>So</span> <span m='102990'>this</span> <span m='103260'>is</span>
  <span m='104640'>what</span> <span m='104820'>we</span> <span m='104940'>call</span>
  <span m='105450'>a</span> <span m='105780'>planar</span> <span m='106320'>map,</span>
  <span m='108810'>got</span> <span m='108960'>a</span> <span m='109020'>bunch</span>
  <span m='109290'>of</span> <span m='109380'>line</span> <span m='109590'>segments</span>
  <span m='110070'>and</span> <span m='110160'>points</span> <span m='110550'>forming</span>
  <span m='111000'>a</span> <span m='111120'>graph</span> <span m='111450'>structure.</span>
  <span m='111930'>So</span> <span m='112080'>think</span> <span m='112290'>of</span>
  <span m='112390'>it as</span> <span m='112500'>a</span> <span m='112560'>planar</span>
  <span m='112890'>graph</span> <span m='113310'>drawn</span> <span m='113610'>in</span>
  <span m='113700'>the</span> <span m='113790'>plane</span> <span m='114150'>where</span>
  <span m='114270'>every</span> <span m='114570'>edge</span> <span m='114870'>is</span>
  <span m='115110'>a</span> <span m='115230'>straight</span> <span m='115620'>line</span>
  <span m='115890'>segment.</span> <span m='117060'>And</span> <span m='117240'>none</span>
  <span m='117420'>of</span> <span m='117510'>the</span> <span m='117630'>edges</span>
  <span m='117870'>cross,</span> <span m='118850'>let's</span> <span m='119090'>say.</span>
  </p><p><span m='121050'>So</span> <span m='121260'>this</span> <span m='121470'>is</span>
  <span m='121770'>a</span> <span m='121950'>planar</span> <span m='124080'>map.</span>
  <span m='124335'>It's</span> <span m='124590'>also</span> <span m='124830'>called</span>
  <span m='125040'>a</span> <span m='125100'>planar</span> <span m='125460'>straight</span>
  <span m='125730'>line</span> <span m='125940'>graph.</span> <span m='128520'>And</span>
  <span m='130350'>the</span> <span m='130530'>static</span> <span m='131070'>version</span>
  <span m='131340'>of</span> <span m='131400'>this</span> <span m='131550'>problem--</span>
  <span m='132010'>so</span> <span m='132020'>there's</span> <span m='132130'>two</span>
  <span m='132330'>versions,</span> <span m='132690'>one</span> <span m='132900'>is</span>
  <span m='132960'>static--</span> <span m='134910'>you</span> <span m='135030'>want</span>
  <span m='135300'>to</span> <span m='135810'>preprocess</span> <span m='136710'>the</span>
  <span m='136830'>map.</span> </p><p><span m='138490'>So</span> <span m='138510'>I</span>
  <span m='139110'>give</span> <span m='139290'>you</span> <span m='139620'>a</span>
  <span m='139740'>single</span> <span m='140070'>map</span> <span m='140430'>up</span>
  <span m='140630'>front.</span> <span m='141960'>And</span> <span m='142110'>then</span>
  <span m='142320'>I</span> <span m='142410'>want</span> <span m='142590'>to</span>
  <span m='142680'>support</span> <span m='143220'>dynamic</span> <span m='143790'>queries,</span>
  <span m='145650'>which</span> <span m='145890'>are</span> <span m='147120'>which</span>
  <span m='148470'>face</span> <span m='151380'>contains</span> <span m='152910'>a</span>
  <span m='153000'>point</span> <span m='153360'>p.</span> <span m='158010'>So</span>
  <span m='158220'>that</span> <span m='158370'>point</span> <span m='158850'>is</span>
  <span m='158940'>going</span> <span m='159090'>to</span> <span m='159180'>be</span>
  <span m='159270'>given</span> <span m='159570'>to</span> <span m='159690'>you</span>
  <span m='159840'>as</span> <span m='160200'>coordinates</span> <span m='160740'>x</span>
  <span m='160950'>and</span> <span m='161070'>y.</span> </p><p><span m='162750'>So</span>
  <span m='162990'>maybe</span> <span m='163480'>I</span> <span m='163820'>mark</span>
  <span m='165210'>a</span> <span m='165270'>point</span> <span m='165660'>like</span>
  <span m='166320'>this</span> <span m='166530'>one.</span> <span m='167430'>I</span>
  <span m='167610'>give</span> <span m='167820'>you</span> <span m='167880'>those</span>
  <span m='168060'>x</span> <span m='168210'>and</span> <span m='168300'>y</span>
  <span m='168450'>coordinates.</span> <span m='169000'>I</span> <span m='169100'>want</span>
  <span m='169110'>to</span> <span m='169170'>quickly</span> <span m='169560'>determine</span>
  <span m='170510'>that</span> <span m='170660'>this</span> <span m='171330'>face</span>
  <span m='171810'>is</span> <span m='171930'>the</span> <span m='172050'>one</span>
  <span m='172170'>that</span> <span m='172260'>contains</span> <span m='172710'>it.</span>
  <span m='173355'>I</span> <span m='173760'>give</span> <span m='173940'>you</span>
  <span m='174060'>another</span> <span m='174270'>point</span> <span m='174510'>over</span>
  <span m='174690'>here.</span> <span m='174960'>It quickly</span> <span m='175320'>determines</span>
  <span m='175890'>this</span> <span m='176500'>face.</span> </p><p><span m='177250'>This</span>
  <span m='177360'>has</span> <span m='177540'>a</span> <span m='177600'>lot</span>
  <span m='177780'>of</span> <span m='177870'>applications.</span> <span m='178590'>If</span>
  <span m='178740'>you're</span> <span m='178860'>writing</span> <span m='179700'>a</span>
  <span m='179790'>GUI</span> <span m='180270'>and</span> <span m='180390'>someone</span>
  <span m='180720'>clicks</span> <span m='181530'>on</span> <span m='181680'>the</span>
  <span m='181770'>screen,</span> <span m='182220'>you</span> <span m='182310'>need</span>
  <span m='182460'>to</span> <span m='182580'>map</span> <span m='182820'>the</span>
  <span m='182940'>coordinates</span> <span m='183360'>that</span> <span m='183570'>the</span>
  <span m='183690'>mouse</span> <span m='183960'>gives</span> <span m='184200'>you</span>
  <span m='184470'>to</span> <span m='185220'>which</span> <span m='185490'>GUI</span>
  <span m='185790'>element</span> <span m='186150'>you're</span> <span m='186270'>clicking</span>
  <span m='186630'>on.</span> <span m='188760'>If</span> <span m='189030'>you</span>
  <span m='189570'>have</span> <span m='189780'>a</span> <span m='189840'>GPS</span>
  <span m='190290'>device</span> <span m='191130'>and</span> <span m='191250'>it</span>
  <span m='191310'>has</span> <span m='191520'>a</span> <span m='191580'>map,</span>
  <span m='192070'>so</span> <span m='192120'>it's</span> <span m='192240'>preprocessed</span>
  <span m='192930'>the</span> <span m='193020'>map</span> <span m='193260'>all</span>
  <span m='193410'>at</span> <span m='193510'>once.</span> <span m='194370'>And</span>
  <span m='194520'>now,</span> <span m='194700'>given</span> <span m='195000'>two</span>
  <span m='195480'>GPS</span> <span m='195870'>coordinates,</span> <span m='196200'>latitude,</span>
  <span m='196560'>longitude,</span> <span m='197040'>it</span> <span m='197100'>needs</span>
  <span m='197280'>to</span> <span m='197370'>know</span> <span m='198300'>which</span>
  <span m='198480'>city</span> <span m='198860'>you're</span> <span m='198990'>in,</span>
  <span m='199230'>which</span> <span m='199410'>part</span> <span m='199620'>of</span>
  <span m='199680'>the</span> <span m='199770'>map</span> <span m='200040'>you're</span>
  <span m='200190'>in,</span> <span m='200340'>so</span> <span m='200520'>that</span>
  <span m='200670'>it</span> <span m='200730'>knows</span> <span m='201030'>what</span>
  <span m='201270'>to</span> <span m='202050'>display,</span> <span m='202650'>that</span>
  <span m='202800'>sort</span> <span m='202920'>of</span> <span m='202980'>thing.</span>
  </p><p><span m='204250'>These</span> <span m='204420'>are all</span> <span m='204510'>planar</span>
  <span m='205260'>point</span> <span m='205480'>location</span> <span m='205860'>problems.</span>
  <span m='206190'>It comes</span> <span m='206400'>up</span> <span m='206550'>in</span>
  <span m='206640'>simulation,</span> <span m='207510'>lots</span> <span m='207690'>of</span>
  <span m='207750'>things.</span> <span m='208150'>It's actually</span> <span m='208320'>one</span>
  <span m='208470'>of</span> <span m='208530'>the</span> <span m='208620'>first</span>
  <span m='208860'>problems</span> <span m='209250'>I</span> <span m='210060'>got</span>
  <span m='210300'>interested</span> <span m='210810'>in</span> <span m='211950'>algorithms</span>
  <span m='213360'>way</span> <span m='213540'>back</span> <span m='213930'>in</span>
  <span m='214110'>my</span> <span m='215040'>oceanography</span> <span m='215670'>days.</span>
  <span m='216600'>So</span> <span m='217920'>that's</span> <span m='218100'>planar</span>
  <span m='218370'>point</span> <span m='218550'>location.</span> <span m='219660'>That's</span>
  <span m='219870'>the</span> <span m='219930'>static</span> <span m='220320'>version.</span>
  </p><p><span m='220770'>The</span> <span m='220890'>dynamic</span> <span m='221400'>version--</span>
  <span m='222750'>make</span> <span m='222930'>things</span> <span m='223170'>harder--</span>
  <span m='224010'>is</span> <span m='224370'>the</span> <span m='224520'>map</span>
  <span m='224970'>is</span> <span m='225180'>dynamic.</span> <span m='226020'>So</span>
  <span m='226170'>here,</span> <span m='226320'>the</span> <span m='226410'>map</span>
  <span m='226650'>is</span> <span m='226740'>static.</span> <span m='227100'>The</span>
  <span m='227190'>queries</span> <span m='227490'>are</span> <span m='227550'>still</span>
  <span m='227760'>coming</span> <span m='228060'>online.</span> <span m='229110'>Dynamic</span>
  <span m='229500'>version,</span> <span m='230730'>you</span> <span m='231000'>can</span>
  <span m='231210'>insert</span> <span m='232380'>and</span> <span m='232560'>delete</span>
  <span m='232920'>edges</span> <span m='233340'>in</span> <span m='233430'>your</span>
  <span m='233580'>map.</span> </p><p><span m='237390'>And</span> <span m='237570'>let's</span>
  <span m='237750'>say</span> <span m='237930'>if</span> <span m='238020'>you</span>
  <span m='238140'>get</span> <span m='238290'>a</span> <span m='238350'>vertex</span>
  <span m='238710'>down</span> <span m='238900'>to</span> <span m='238980'>degree</span>
  <span m='239280'>0,</span> <span m='239730'>you</span> <span m='239880'>can</span>
  <span m='240060'>delete</span> <span m='240480'>the</span> <span m='240570'>vertex</span>
  <span m='241010'>as</span> <span m='241110'>well,</span> <span m='241410'>add</span>
  <span m='241620'>new</span> <span m='241770'>degrees</span> <span m='242180'>0</span>
  <span m='242340'>vertices.</span> <span m='243390'>As</span> <span m='243510'>long</span>
  <span m='243720'>as</span> <span m='243810'>you</span> <span m='243870'>don't</span>
  <span m='244080'>have</span> <span m='244240'>crossings</span> <span m='245220'>introduced</span>
  <span m='245670'>by</span> <span m='245820'>inserting</span> <span m='246180'>edges,</span>
  <span m='247170'>you</span> <span m='247320'>can</span> <span m='247500'>change</span>
  <span m='247770'>things.</span> <span m='247980'>So</span> <span m='248100'>that's</span>
  <span m='248340'>obviously</span> <span m='248700'>harder.</span> </p><p><span m='251040'>And</span>
  <span m='251400'>we</span> <span m='251520'>can</span> <span m='251670'>solve</span>
  <span m='252060'>this</span> <span m='252240'>problem</span> <span m='252750'>using</span>
  <span m='253290'>persistence</span> <span m='253950'>and</span> <span m='254050'>using</span>
  <span m='254150'>retroactivity</span> <span m='255450'>in</span> <span m='255600'>a</span>
  <span m='255660'>pretty</span> <span m='255870'>simple</span> <span m='256200'>way</span>
  <span m='257820'>using</span> <span m='258269'>a</span> <span m='258360'>technique</span>
  <span m='258750'>which</span> <span m='258959'>you</span> <span m='259079'>may</span>
  <span m='259230'>have</span> <span m='259709'>seen</span> <span m='259980'>before,</span>
  <span m='261329'>pretty</span> <span m='262019'>classic</span> <span m='262530'>technique</span>
  <span m='263040'>in</span> <span m='263250'>computational</span> <span m='263940'>geometry.</span>
  <span m='264490'>So this</span> <span m='264660'>is a</span> <span m='264780'>technique</span>
  <span m='265170'>that</span> <span m='265290'>comes</span> <span m='265560'>from</span>
  <span m='265770'>the</span> <span m='265890'>algorithms</span> <span m='266370'>world.</span>
  <span m='267120'>And</span> <span m='267210'>we're</span> <span m='267360'>going</span>
  <span m='267570'>to</span> <span m='267720'>apply</span> <span m='268140'>it</span>
  <span m='268650'>to</span> <span m='268800'>the</span> <span m='268920'>data</span>
  <span m='269130'>structures</span> <span m='269520'>world.</span> </p><p><span m='271860'>So,</span>
  <span m='272130'>sweep</span> <span m='272380'>line</span> <span m='272610'>technique,</span>
  <span m='274270'>it's</span> <span m='274410'>a</span> <span m='274440'>very</span>
  <span m='274590'>simple</span> <span m='274920'>idea.</span> <span m='277360'>So</span>
  <span m='277410'>you</span> <span m='277560'>have</span> <span m='277740'>some</span>
  <span m='277950'>line</span> <span m='278190'>segments</span> <span m='278670'>in</span>
  <span m='278790'>the</span> <span m='278880'>plane,</span> <span m='282900'>something</span>
  <span m='283230'>like</span> <span m='283380'>this.</span> <span m='285000'>And</span>
  <span m='286140'>I'm</span> <span m='286290'>going</span> <span m='286410'>to</span>
  <span m='286500'>take</span> <span m='286800'>a</span> <span m='287040'>vertical</span>
  <span m='287490'>line.</span> <span m='288750'>So</span> <span m='289320'>the</span>
  <span m='290520'>algorithmic</span> <span m='291000'>problem</span> <span m='291330'>is</span>
  <span m='291450'>I</span> <span m='291540'>want</span> <span m='291720'>to</span>
  <span m='291780'>know</span> <span m='292900'>are</span> <span m='292980'>there</span>
  <span m='293130'>any</span> <span m='293310'>crossings.</span> </p><p><span m='293910'>Do</span>
  <span m='294060'>any</span> <span m='294150'>of</span> <span m='294210'>these</span>
  <span m='294330'>segments</span> <span m='294720'>cross?</span> <span m='295080'>This</span>
  <span m='295260'>is</span> <span m='295380'>where</span> <span m='296060'>sweep</span>
  <span m='296180'>line</span> <span m='296400'>technique</span> <span m='296730'>comes</span>
  <span m='297000'>from,</span> <span m='297240'>I</span> <span m='297330'>believe.</span>
  <span m='298460'>So the</span> <span m='298660'>idea</span> <span m='298960'>is</span>
  <span m='300430'>we</span> <span m='300620'>want</span> <span m='300770'>to</span>
  <span m='300870'>linearize</span> <span m='301710'>or</span> <span m='301770'>one-dimensionalify</span>
  <span m='302650'>the</span> <span m='302820'>problem.</span> </p><p><span m='303160'>So</span>
  <span m='303330'>just</span> <span m='303510'>take</span> <span m='303690'>a</span>
  <span m='303750'>slice</span> <span m='304230'>of</span> <span m='304320'>the</span>
  <span m='304440'>problem</span> <span m='304890'>with</span> <span m='305040'>a</span>
  <span m='305100'>vertical</span> <span m='305490'>line.</span> <span m='306210'>And</span>
  <span m='306330'>imagine</span> <span m='306690'>sweeping</span> <span m='307170'>that</span>
  <span m='307380'>line</span> <span m='307710'>from</span> <span m='307890'>left</span>
  <span m='308100'>to</span> <span m='308220'>right.</span> <span m='309370'>So</span>
  <span m='309920'>you</span> <span m='310090'>imagine</span> <span m='310500'>it</span>
  <span m='310590'>moving</span> <span m='310860'>continuously.</span> <span m='311610'>Of</span>
  <span m='311700'>course,</span> <span m='311940'>in</span> <span m='312060'>reality,</span>
  <span m='313210'>it</span> <span m='313320'>moves</span> <span m='314000'>discretely.</span>
  <span m='320390'>Let me</span> <span m='322250'>unambiguate</span> <span m='322880'>this</span>
  <span m='323090'>a</span> <span m='323110'>little</span> <span m='323330'>bit.</span>
  </p><p><span m='333630'>OK.</span> <span m='333790'>There</span> <span m='333880'>are</span>
  <span m='333910'>discrete</span> <span m='334330'>moments</span> <span m='334780'>in</span>
  <span m='334900'>time</span> <span m='335320'>when</span> <span m='336000'>what</span>
  <span m='336670'>is</span> <span m='336970'>hit</span> <span m='337240'>by</span>
  <span m='337420'>the</span> <span m='337730'>sweep line</span> <span m='338050'>changes.</span>
  <span m='341370'>Let</span> <span m='341560'>me</span> <span m='341800'>maybe</span>
  <span m='342010'>label</span> <span m='342350'>these</span> <span m='342480'>segments.</span>
  <span m='342930'>We've got</span> <span m='343150'>a,</span> <span m='344075'>b,</span>
  <span m='345410'>c,</span> <span m='346750'>and</span> <span m='346900'>d.</span>
  </p><p><span m='348790'>So</span> <span m='348910'>initially,</span> <span m='349270'>we</span>
  <span m='349390'>hit</span> <span m='349540'>nothing.</span> <span m='350620'>Then</span>
  <span m='350800'>we</span> <span m='350950'>hit</span> <span m='351130'>a,</span>
  <span m='352390'>then</span> <span m='352840'>we</span> <span m='353050'>hit</span>
  <span m='353260'>b.</span> <span m='354070'>Why</span> <span m='354220'>do</span>
  <span m='354310'>we</span> <span m='354400'>hit</span> <span m='354510'>b?</span>
  <span m='354730'>Because</span> <span m='355030'>we</span> <span m='355120'>saw</span>
  <span m='355360'>the</span> <span m='355480'>left</span> <span m='355720'>end</span>
  <span m='355840'>point</span> <span m='356050'>of</span> <span m='356110'>b.</span>
  <span m='357040'>Then</span> <span m='357220'>we</span> <span m='357310'>see</span>
  <span m='357430'>the</span> <span m='357520'>right</span> <span m='357700'>endpoint</span>
  <span m='358000'>of a</span> <span m='358270'>which</span> <span m='358450'>means</span>
  <span m='358660'>we</span> <span m='358750'>no</span> <span m='358900'>longer--</span>
  <span m='359560'>sorry,</span> <span m='360220'>at</span> <span m='360310'>this</span>
  <span m='360460'>point,</span> <span m='360640'>we</span> <span m='360730'>see</span>
  <span m='361120'>both</span> <span m='361510'>a</span> <span m='361900'>and</span>
  <span m='362320'>b</span> <span m='362920'>in</span> <span m='363040'>that</span>
  <span m='363190'>order.</span> </p><p><span m='364610'>Then</span> <span m='364690'>we</span>
  <span m='364810'>lose</span> <span m='365080'>a,</span> <span m='365410'>so</span>
  <span m='365590'>we're</span> <span m='365680'>down</span> <span m='365890'>to</span>
  <span m='365980'>b.</span> <span m='367230'>Then</span> <span m='367380'>we</span>
  <span m='367510'>see</span> <span m='367720'>c.</span> <span m='368410'>c is</span>
  <span m='368560'>above</span> <span m='369160'>b.</span> <span m='371050'>Then</span>
  <span m='371200'>we</span> <span m='371320'>see</span> <span m='371530'>d.</span>
  <span m='371800'>d</span> <span m='372070'>is</span> <span m='372190'>above</span>
  <span m='372550'>c and</span> <span m='372890'>b.</span> </p><p><span m='375760'>Then</span>
  <span m='376180'>c</span> <span m='376390'>and</span> <span m='376480'>d</span>
  <span m='376640'>cross.</span> <span m='378180'>So</span> <span m='378580'>c</span>
  <span m='378970'>and</span> <span m='379060'>d</span> <span m='379180'>change</span>
  <span m='379600'>positions.</span> <span m='380920'>And</span> <span m='381010'>then</span>
  <span m='381130'>we</span> <span m='381220'>have</span> <span m='381460'>b.</span>
  <span m='382900'>Then</span> <span m='383170'>we</span> <span m='383350'>lose</span>
  <span m='384460'>b,</span> <span m='386770'>then</span> <span m='386890'>we</span>
  <span m='387010'>lose</span> <span m='387220'>c.</span> <span m='388630'>Then</span>
  <span m='388780'>we</span> <span m='389305'>lose</span> <span m='389560'>d.</span>
  </p><p><span m='390970'>This</span> <span m='392500'>is</span> <span m='392650'>a</span>
  <span m='392680'>classic</span> <span m='393070'>algorithm</span> <span m='393400'>for</span>
  <span m='393580'>detecting</span> <span m='394150'>these</span> <span m='394300'>intersections.</span>
  <span m='394930'>I</span> <span m='394960'>don't</span> <span m='395080'>want</span>
  <span m='395200'>to</span> <span m='395260'>get</span> <span m='395380'>into</span>
  <span m='395530'>details</span> <span m='395890'>how</span> <span m='396070'>you</span>
  <span m='396220'>do</span> <span m='396370'>this.</span> <span m='397090'>But</span>
  <span m='397300'>you're</span> <span m='397540'>trying</span> <span m='397870'>to</span>
  <span m='397960'>look</span> <span m='398170'>for</span> <span m='398440'>when</span>
  <span m='398740'>things</span> <span m='399040'>change</span> <span m='399850'>in</span>
  <span m='400000'>order</span> <span m='401110'>in</span> <span m='401740'>these</span>
  <span m='401920'>cross-sections.</span> <span m='402880'>The</span> <span m='403000'>way</span>
  <span m='403120'>you</span> <span m='403210'>do</span> <span m='403360'>that</span>
  <span m='403570'>is</span> <span m='403690'>you</span> <span m='403780'>maintain</span>
  <span m='404140'>the</span> <span m='404230'>cross-section</span> <span m='404950'>in</span>
  <span m='405190'>a</span> <span m='405250'>binary</span> <span m='405580'>search</span>
  <span m='405850'>tree,</span> <span m='406670'>so</span> <span m='406690'>you</span>
  <span m='406840'>maintain</span> <span m='407170'>the</span> <span m='407290'>order.</span>
  </p><p><span m='408040'>If</span> <span m='408160'>you</span> <span m='408220'>hit</span>
  <span m='408340'>a</span> <span m='408400'>left</span> <span m='408610'>endpoint,</span>
  <span m='408910'>you</span> <span m='409030'>insert</span> <span m='409330'>into</span>
  <span m='409480'>the</span> <span m='409570'>binary</span> <span m='409840'>search</span>
  <span m='410080'>tree.</span> <span m='410260'>If</span> <span m='410350'>you</span>
  <span m='410410'>see</span> <span m='410580'>a</span> <span m='410620'>right</span>
  <span m='410800'>endpoint,</span> <span m='411130'>you</span> <span m='411220'>delete</span>
  <span m='411520'>from</span> <span m='411640'>the</span> <span m='411730'>binary</span>
  <span m='412030'>search</span> <span m='412300'>tree.</span> <span m='413110'>And</span>
  <span m='413290'>you</span> <span m='413350'>do</span> <span m='413490'>some</span>
  <span m='413620'>stuff</span> <span m='413830'>to</span> <span m='413920'>check</span>
  <span m='414130'>for</span> <span m='414250'>crossings.</span> <span m='414670'>In</span>
  <span m='414760'>this</span> <span m='414910'>problem,</span> <span m='415180'>there</span>
  <span m='415330'>are</span> <span m='415450'>no</span> <span m='415600'>crossings.</span>
  <span m='416150'>So</span> <span m='416230'>we</span> <span m='416290'>don't</span>
  <span m='416410'>need</span> <span m='416530'>to</span> <span m='416650'>worry</span>
  <span m='416830'>about</span> <span m='417040'>that.</span> </p><p><span m='419290'>But</span>
  <span m='419500'>we're</span> <span m='419620'>taking</span> <span m='419920'>this</span>
  <span m='420070'>technique.</span> <span m='421280'>Say,</span> <span m='421620'>OK,</span>
  <span m='422330'>there's</span> <span m='422470'>a</span> <span m='422530'>data</span>
  <span m='422800'>structure</span> <span m='423160'>here,</span> <span m='423470'>which</span>
  <span m='423520'>is</span> <span m='423640'>the</span> <span m='423730'>binary</span>
  <span m='424090'>search</span> <span m='424390'>tree</span> <span m='424600'>maintaining</span>
  <span m='425170'>the</span> <span m='425260'>cross-section.</span> <span m='428800'>OK.</span>
  <span m='429330'>So,</span> <span m='429720'>typically,</span> <span m='434190'>the</span>
  <span m='434510'>cross-section</span> <span m='435450'>data</span> <span m='435690'>structure</span>
  <span m='446120'>is</span> <span m='446840'>regular</span> <span m='448520'>balanced</span>
  <span m='449000'>binary</span> <span m='449360'>search</span> <span m='449660'>tree.</span>
  </p><p><span m='454150'>Our</span> <span m='454370'>idea</span> <span m='454730'>is</span>
  <span m='455360'>what</span> <span m='455690'>if</span> <span m='455900'>we</span>
  <span m='456890'>add</span> <span m='457430'>persistence</span> <span m='459260'>to</span>
  <span m='459380'>that</span> <span m='459580'>binary</span> <span m='459780'>search</span>
  <span m='459990'>tree?</span> <span m='460400'>So instead</span> <span m='460700'>of</span>
  <span m='460760'>using a</span> <span m='461000'>regular</span> <span m='461320'>binary</span>
  <span m='461540'>search</span> <span m='461750'>tree,</span> <span m='461990'>we</span>
  <span m='462110'>use</span> <span m='462350'>a</span> <span m='463040'>partially</span>
  <span m='463520'>persistent</span> <span m='464450'>balanced</span> <span m='464840'>binary</span>
  <span m='465170'>search</span> <span m='465440'>tree,</span> <span m='466420'>which</span>
  <span m='466490'>we</span> <span m='466610'>know</span> <span m='466760'>how</span>
  <span m='466910'>to</span> <span m='467030'>do.</span> <span m='467180'>This</span>
  <span m='467390'>is</span> <span m='467540'>a</span> <span m='467810'>bounded</span>
  <span m='467900'>n</span> <span m='468050'>degree</span> <span m='468260'>structure.</span>
  <span m='468680'>We</span> <span m='468830'>can</span> <span m='468950'>make</span>
  <span m='469130'>it</span> <span m='469190'>partially</span> <span m='469550'>persistent,</span>
  <span m='470120'>constant</span> <span m='470540'>overhead.</span> </p><p><span
  m='473070'>So</span> <span m='475700'>if</span> <span m='475940'>we</span> <span
  m='476180'>add</span> <span m='478220'>partial</span> <span m='478640'>persistence,</span>
  <span m='487430'>what</span> <span m='487640'>does</span> <span m='487880'>that</span>
  <span m='488300'>let</span> <span m='488540'>us</span> <span m='488660'>do?</span>
  <span m='489590'>Well,</span> <span m='489740'>let's</span> <span m='489960'>just</span>
  <span m='490100'>look</span> <span m='490280'>at</span> <span m='490400'>a</span>
  <span m='490490'>moment</span> <span m='491360'>in</span> <span m='491540'>the</span>
  <span m='491630'>past,</span> <span m='492110'>partial</span> <span m='492440'>persistence</span>
  <span m='492950'>about</span> <span m='493190'>querying</span> <span m='493700'>the</span>
  <span m='493790'>past.</span> <span m='494340'>So</span> <span m='494930'>there's</span>
  <span m='495380'>a</span> <span m='495440'>sequence</span> <span m='495860'>of</span>
  <span m='495980'>insertions</span> <span m='496490'>and</span> <span m='496580'>deletions</span>
  <span m='497210'>that</span> <span m='497390'>occur</span> <span m='497720'>from</span>
  <span m='497990'>the</span> <span m='498080'>sweep</span> <span m='498350'>line.</span>
  <span m='499530'>But</span> <span m='499580'>now,</span> <span m='499850'>if we</span>
  <span m='499940'>can</span> <span m='500060'>query</span> <span m='500370'>in</span>
  <span m='500450'>the</span> <span m='500510'>past,</span> <span m='500840'>that's</span>
  <span m='501050'>like</span> <span m='501230'>going</span> <span m='501560'>to</span>
  <span m='501710'>a</span> <span m='502010'>desired</span> <span m='502700'>x-coordinate</span>
  <span m='504140'>and</span> <span m='504290'>saying,</span> <span m='504860'>what</span>
  <span m='505070'>does</span> <span m='505190'>my</span> <span m='505370'>data</span>
  <span m='505580'>structure</span> <span m='505940'>look</span> <span m='506120'>like</span>
  <span m='506330'>at</span> <span m='506480'>this</span> <span m='506660'>moment?</span>
  </p><p><span m='508620'>OK.</span> <span m='509740'>Now,</span> <span m='510040'>the</span>
  <span m='510190'>data</span> <span m='510430'>structure,</span> <span m='510970'>let's</span>
  <span m='511150'>maybe</span> <span m='511390'>look</span> <span m='511570'>at</span>
  <span m='511690'>this</span> <span m='511870'>one,</span> <span m='512049'>because</span>
  <span m='512200'>it's</span> <span m='512500'>got</span> <span m='512799'>three</span>
  <span m='513130'>elements,</span> <span m='513549'>very</span> <span m='513669'>exciting.</span>
  <span m='515870'>So</span> <span m='515919'>you've</span> <span m='516039'>got</span>
  <span m='516700'>d,</span> <span m='517240'>then</span> <span m='517510'>c,</span>
  <span m='518830'>then</span> <span m='519039'>b.</span> <span m='519970'>So</span>
  <span m='520059'>you've</span> <span m='520179'>got</span> <span m='520360'>a</span>
  <span m='520390'>little</span> <span m='521080'>data</span> <span m='521320'>structure
  that</span> <span m='521740'>looks</span> <span m='522640'>something</span> <span
  m='523030'>like</span> <span m='523240'>this.</span> </p><p><span m='524870'>It</span>
  <span m='524920'>understands</span> <span m='525490'>the</span> <span m='525610'>order</span>
  <span m='525940'>of</span> <span m='526030'>the</span> <span m='526120'>cross-section</span>
  <span m='526780'>of</span> <span m='526960'>those</span> <span m='527710'>segments.</span>
  <span m='528670'>And</span> <span m='528790'>so,</span> <span m='528940'>for</span>
  <span m='529060'>example,</span> <span m='529670'>if</span> <span m='529780'>I</span>
  <span m='529930'>was</span> <span m='530170'>given</span> <span m='531370'>a</span>
  <span m='531940'>query</span> <span m='532330'>point</span> <span m='532690'>like</span>
  <span m='532930'>this</span> <span m='533170'>one,</span> <span m='536080'>I</span>
  <span m='536170'>could</span> <span m='536380'>figure</span> <span m='536770'>out</span>
  <span m='537370'>what</span> <span m='537730'>is</span> <span m='537860'>the</span>
  <span m='537940'>segment</span> <span m='538270'>above</span> <span m='538540'>me,</span>
  <span m='538720'>what</span> <span m='538870'>is</span> <span m='538990'>the</span>
  <span m='539080'>segment</span> <span m='539410'>below</span> <span m='539740'>me.</span>
  <span m='540010'>That</span> <span m='540220'>is</span> <span m='540430'>a</span>
  <span m='540520'>successor</span> <span m='541060'>query</span> <span m='542050'>and</span>
  <span m='542170'>a</span> <span m='542230'>predecessor</span> <span m='542800'>query</span>
  <span m='543190'>in</span> <span m='543370'>that</span> <span m='544060'>binary</span>
  <span m='544390'>search</span> <span m='544630'>tree.</span> </p><p><span m='551500'>This</span>
  <span m='552250'>notation</span> <span m='552700'>maybe--</span> <span m='553000'>a</span>
  <span m='553060'>query</span> <span m='553450'>at</span> <span m='553540'>time</span>
  <span m='553900'>t</span> <span m='555310'>of,</span> <span m='556260'>let's</span>
  <span m='556600'>say,</span> <span m='556750'>successor</span> <span m='559570'>of</span>
  <span m='559930'>y</span> <span m='563350'>is</span> <span m='563680'>what</span>
  <span m='563830'>we</span> <span m='563950'>call</span> <span m='564490'>an</span>
  <span m='564910'>upward</span> <span m='566920'>ray</span> <span m='567250'>shooting</span>
  <span m='567580'>query</span> <span m='575370'>from</span> <span m='575880'>coordinates</span>
  <span m='577350'>t,y.</span> <span m='578620'>So</span> <span m='579095'>t,</span>
  <span m='579570'>the</span> <span m='579690'>time,</span> <span m='580170'>is</span>
  <span m='580290'>acting</span> <span m='580620'>as</span> <span m='580770'>x-coordinate.</span>
  <span m='582330'>Time</span> <span m='582750'>is</span> <span m='582930'>left to</span>
  <span m='583260'>right</span> <span m='583470'>here.</span> </p><p><span m='585640'>And</span>
  <span m='585690'>so</span> <span m='586110'>what's</span> <span m='586620'>happening</span>
  <span m='587040'>is</span> <span m='587160'>we're</span> <span m='587700'>imagining,</span>
  <span m='588330'>from</span> <span m='588600'>this</span> <span m='588750'>point,</span>
  <span m='589080'>shooting</span> <span m='589500'>a ray</span> <span m='589890'>upward</span>
  <span m='590760'>and</span> <span m='591060'>asking</span> <span m='591570'>what</span>
  <span m='591840'>is</span> <span m='591960'>the</span> <span m='592080'>segment</span>
  <span m='592470'>that</span> <span m='592620'>I</span> <span m='592710'>hit</span>
  <span m='592920'>first.</span> <span m='593670'>That's</span> <span m='593880'>an</span>
  <span m='594000'>upward</span> <span m='594770'>ray shooting</span> <span m='595160'>query.</span>
  <span m='596130'>And</span> <span m='596220'>this</span> <span m='596430'>is</span>
  <span m='597690'>from</span> <span m='597960'>a</span> <span m='598020'>problem</span>
  <span m='598380'>called</span> <span m='598650'>vertical</span> <span m='599120'>ray
  shooting,</span> <span m='601710'>which</span> <span m='601920'>is</span> <span
  m='602100'>more</span> <span m='602430'>or</span> <span m='602460'>less</span> <span
  m='602790'>equivalent</span> <span m='603360'>to</span> <span m='604320'>planar</span>
  <span m='604590'>point</span> <span m='604800'>location.</span> </p><p><span m='610710'>So</span>
  <span m='610860'>vertical</span> <span m='611220'>ray</span> <span m='611730'>shooting,</span>
  <span m='612180'>again,</span> <span m='612570'>you're</span> <span m='612720'>given</span>
  <span m='612960'>a</span> <span m='613020'>map,</span> <span m='613990'>planar</span>
  <span m='614280'>map.</span> <span m='616560'>And</span> <span m='617280'>the</span>
  <span m='617370'>queries</span> <span m='617820'>are</span> <span m='617940'>like</span>
  <span m='618180'>this.</span> <span m='619540'>What</span> <span m='619800'>is</span>
  <span m='620130'>the</span> <span m='620280'>first</span> <span m='620700'>segment</span>
  <span m='621300'>that</span> <span m='621450'>you</span> <span m='621570'>hit</span>
  <span m='622110'>with</span> <span m='622410'>an</span> <span m='622830'>upward</span>
  <span m='623130'>ray?</span> </p><p><span m='635750'>So</span> <span m='635920'>I</span>
  <span m='635990'>give</span> <span m='636260'>you</span> <span m='636480'>a</span>
  <span m='636590'>point,</span> <span m='637640'>x,y.</span> <span m='639110'>And</span>
  <span m='639260'>I</span> <span m='639350'>ask,</span> <span m='639620'>if</span>
  <span m='639740'>I</span> <span m='639830'>go</span> <span m='639980'>up</span>
  <span m='640190'>from</span> <span m='640370'>there,</span> <span m='641060'>what's</span>
  <span m='641330'>the</span> <span m='641450'>next</span> <span m='641930'>edge</span>
  <span m='642200'>that</span> <span m='642350'>I</span> <span m='642440'>get?</span>
  <span m='643720'>That's</span> <span m='643910'>the</span> <span m='643970'>vertical</span>
  <span m='644300'>ray shooting</span> <span m='644750'>problem.</span> <span m='645800'>And</span>
  <span m='645950'>we</span> <span m='646100'>just</span> <span m='646280'>solved</span>
  <span m='646590'>the</span> <span m='646700'>vertical</span> <span m='647030'>ray
  shooting</span> <span m='647480'>problem</span> <span m='648530'>for</span> <span
  m='648890'>static.</span> </p><p><span m='649340'>If</span> <span m='649780'>you're</span>
  <span m='649930'>given</span> <span m='650210'>a</span> <span m='650270'>static</span>
  <span m='650600'>map,</span> <span m='651140'>you</span> <span m='651260'>run</span>
  <span m='651530'>this</span> <span m='651710'>algorithm</span> <span m='652160'>once,</span>
  <span m='652430'>assume</span> <span m='652730'>there</span> <span m='652850'>are</span>
  <span m='652880'>no</span> <span m='653060'>crossings.</span> <span m='655070'>Then</span>
  <span m='655460'>to</span> <span m='655670'>answer</span> <span m='655940'>vertical</span>
  <span m='656240'>ray shooting</span> <span m='656540'>query,</span> <span m='656840'>we</span>
  <span m='656960'>just</span> <span m='657080'>go</span> <span m='657260'>back</span>
  <span m='657650'>in</span> <span m='657800'>time</span> <span m='658290'>to</span>
  <span m='658310'>time</span> <span m='658580'>t,</span> <span m='659390'>do</span>
  <span m='659630'>the</span> <span m='659990'>successor</span> <span m='660530'>query,</span>
  <span m='660860'>which</span> <span m='661010'>takes</span> <span m='661190'>log</span>
  <span m='661460'>n</span> <span m='661610'>time,</span> <span m='662540'>and</span>
  <span m='662690'>then</span> <span m='662870'>we</span> <span m='662990'>get</span>
  <span m='663860'>the</span> <span m='663950'>answer</span> <span m='664190'>to</span>
  <span m='664310'>this.</span> <span m='664680'>So we</span> <span m='664820'>can</span>
  <span m='664970'>do</span> <span m='665060'>this</span> <span m='665300'>in</span>
  <span m='665570'>log</span> <span m='665930'>n</span> <span m='667310'>per</span>
  <span m='667490'>query</span> <span m='670460'>static.</span> </p><p><span m='673220'>This</span>
  <span m='673400'>is</span> <span m='673520'>all</span> <span m='673700'>two</span>
  <span m='673880'>dimensional.</span> <span m='675881'>I should</span> <span m='676370'>probably</span>
  <span m='677440'>say</span> <span m='677700'>that.</span> <span m='677840'>You</span>
  <span m='678020'>can</span> <span m='678200'>generalize.</span> <span m='682560'>Questions?</span>
  <span m='683100'>This</span> <span m='683310'>is</span> <span m='683400'>actually</span>
  <span m='683700'>really</span> <span m='684000'>easy.</span> <span m='684360'>This</span>
  <span m='684540'>is</span> <span m='684720'>the</span> <span m='684840'>stuff</span>
  <span m='685110'>we</span> <span m='685200'>get</span> <span m='685380'>for</span>
  <span m='685500'>free</span> <span m='685770'>out</span> <span m='685870'>of</span>
  <span m='685920'>persistence</span> <span m='686640'>and,</span> <span m='687200'>at</span>
  <span m='687330'>the</span> <span m='687420'>moment,</span> <span m='687820'>retroactivity.</span>
  </p><p><span m='688920'>I</span> <span m='689070'>believe</span> <span m='689490'>this</span>
  <span m='689700'>is</span> <span m='689850'>one</span> <span m='690030'>of</span>
  <span m='690120'>the</span> <span m='690210'>reasons</span> <span m='690660'>persistence</span>
  <span m='691230'>was</span> <span m='691410'>invented</span> <span m='691800'>in</span>
  <span m='691860'>the</span> <span m='691950'>first</span> <span m='692190'>place.</span>
  <span m='693190'>There</span> <span m='693290'>were</span> <span m='693390'>a</span>
  <span m='693490'>bunch</span> <span m='693600'>of</span> <span m='693720'>early</span>
  <span m='693990'>persistent</span> <span m='694410'>data</span> <span m='694620'>structures.</span>
  <span m='695020'>Then</span> <span m='695220'>there</span> <span m='695310'>was</span>
  <span m='695480'>a</span> <span m='695550'>general</span> <span m='695910'>Driscoll</span>
  <span m='696300'>paper,</span> <span m='696630'>which</span> <span m='696840'>I</span>
  <span m='696900'>talked</span> <span m='697170'>about.</span> </p><p><span m='698286'>But</span>
  <span m='698680'>I</span> <span m='698760'>think</span> <span m='699750'>geometry</span>
  <span m='700290'>was</span> <span m='700500'>one</span> <span m='700650'>of</span>
  <span m='700710'>the</span> <span m='700800'>main</span> <span m='701040'>motivations.</span>
  <span m='702300'>Because</span> <span m='702480'>it</span> <span m='702540'>lets</span>
  <span m='702750'>you</span> <span m='703440'>add</span> <span m='703680'>a</span>
  <span m='703740'>dimension.</span> <span m='706960'>As</span> <span m='707080'>long</span>
  <span m='707290'>as</span> <span m='707380'>that</span> <span m='707530'>dimension</span>
  <span m='708010'>is</span> <span m='708820'>time-like,</span> <span m='710470'>then</span>
  <span m='710800'>you</span> <span m='710890'>get</span> <span m='711070'>the</span>
  <span m='711160'>dimension</span> <span m='711580'>sort</span> <span m='711730'>of</span>
  <span m='711790'>for</span> <span m='711940'>free.</span> <span m='713410'>So</span>
  <span m='713810'>that's</span> <span m='714000'>nice.</span> </p><p><span m='714900'>OK.</span>
  <span m='715140'>What</span> <span m='715350'>about</span> <span m='715620'>retroactivity?</span>
  <span m='719730'>Again,</span> <span m='720000'>we're</span> <span m='720120'>going</span>
  <span m='720200'>to</span> <span m='720330'>use</span> <span m='720510'>partial</span>
  <span m='721860'>retroactivity.</span> <span m='722790'>And</span> <span m='722970'>I</span>
  <span m='723030'>can</span> <span m='723180'>tell</span> <span m='723360'>you</span>
  <span m='723510'>for</span> <span m='723660'>certainty,</span> <span m='724080'>because</span>
  <span m='724290'>I</span> <span m='724380'>was</span> <span m='724530'>there,</span>
  <span m='725230'>this</span> <span m='725340'>is</span> <span m='725460'>why</span>
  <span m='725730'>retroactivity</span> <span m='726480'>was</span> <span m='726690'>invented.</span>
  </p><p><span m='729930'>So</span> <span m='731140'>retroactivity,</span> <span m='732480'>so</span>
  <span m='732660'>that</span> <span m='732870'>would</span> <span m='733020'>mean</span>
  <span m='733260'>that</span> <span m='733380'>we</span> <span m='733560'>get</span>
  <span m='733800'>to</span> <span m='735600'>dynamically</span> <span m='736350'>add</span>
  <span m='736650'>and</span> <span m='736770'>delete</span> <span m='737250'>insertions</span>
  <span m='737820'>and</span> <span m='737910'>deletions.</span> <span m='739560'>So</span>
  <span m='739770'>that's</span> <span m='740010'>like</span> <span m='740280'>adding</span>
  <span m='740700'>and</span> <span m='740820'>deleting</span> <span m='741240'>segments</span>
  <span m='742350'>from</span> <span m='742530'>the</span> <span m='742630'>structure.</span>
  <span m='743460'>Again,</span> <span m='743730'>we</span> <span m='743820'>have</span>
  <span m='743940'>a</span> <span m='743970'>linear</span> <span m='744270'>timeline.</span>
  </p><p><span m='744720'>We</span> <span m='744840'>always</span> <span m='745080'>want</span>
  <span m='745260'>to</span> <span m='745320'>maintain</span> <span m='745710'>a</span>
  <span m='745770'>linear</span> <span m='746040'>timeline,</span> <span m='746490'>because</span>
  <span m='746760'>that</span> <span m='747030'>is</span> <span m='747750'>reality.</span>
  <span m='748260'>That</span> <span m='748380'>corresponds</span> <span m='748900'>to</span>
  <span m='749000'>the</span> <span m='749010'>x-coordinate.</span> <span m='750240'>And</span>
  <span m='750350'>now</span> <span m='750470'>I</span> <span m='750540'>want</span>
  <span m='750720'>to</span> <span m='750780'>be</span> <span m='750900'>able</span>
  <span m='751080'>to</span> <span m='751290'>add</span> <span m='752340'>a</span>
  <span m='752370'>segment</span> <span m='752730'>like</span> <span m='752910'>this,</span>
  <span m='753220'>which</span> <span m='753270'>means</span> <span m='753450'>there</span>
  <span m='753560'>was</span> <span m='753630'>an</span> <span m='753690'>insertion</span>
  <span m='754140'>at</span> <span m='754230'>this</span> <span m='754410'>time,</span>
  <span m='755120'>a</span> <span m='755220'>deletion</span> <span m='755580'>at</span>
  <span m='755670'>this</span> <span m='755820'>time.</span> </p><p><span m='757380'>Now,</span>
  <span m='757530'>this</span> <span m='757680'>doesn't</span> <span m='757950'>quite</span>
  <span m='758220'>work.</span> <span m='758680'>Because</span> <span m='760050'>this</span>
  <span m='760230'>point</span> <span m='760740'>in</span> <span m='760890'>cross-section,</span>
  <span m='761350'>it's</span> <span m='761520'>actually</span> <span m='761820'>moving</span>
  <span m='762240'>over</span> <span m='762450'>time.</span> <span m='763300'>Binary</span>
  <span m='763630'>search</span> <span m='763840'>trees,</span> <span m='764070'>that's</span>
  <span m='764280'>OK,</span> <span m='764850'>because</span> <span m='765200'>things</span>
  <span m='765540'>are</span> <span m='766350'>simple.</span> <span m='767460'>But</span>
  <span m='767970'>at</span> <span m='768180'>the</span> <span m='768300'>moment,</span>
  <span m='769070'>all</span> <span m='769260'>we</span> <span m='769410'>know</span>
  <span m='769530'>how</span> <span m='769620'>to</span> <span m='769710'>do</span>
  <span m='769890'>is</span> <span m='770010'>actually</span> <span m='770550'>horizontal</span>
  <span m='771300'>segments,</span> <span m='772470'>which</span> <span m='773070'>are</span>
  <span m='773250'>inserted</span> <span m='773850'>and</span> <span m='774060'>deleted</span>
  <span m='774960'>at</span> <span m='775170'>the</span> <span m='775260'>same</span>
  <span m='775710'>y-coordinate.</span> </p><p><span m='778420'>So</span> <span m='778590'>then</span>
  <span m='778980'>we</span> <span m='779130'>can</span> <span m='779310'>do</span>
  <span m='779640'>insert</span> <span m='782530'>at</span> <span m='782630'>time</span>
  <span m='783640'>t1,</span> <span m='785316'>an</span> <span m='785730'>insertion</span>
  <span m='787800'>of</span> <span m='788970'>some</span> <span m='789270'>y-coordinate,</span>
  <span m='790650'>and</span> <span m='790800'>then</span> <span m='791140'>an</span>
  <span m='791250'>insert</span> <span m='792940'>at</span> <span m='793080'>some</span>
  <span m='793320'>later</span> <span m='793620'>time,</span> <span m='795380'>the</span>
  <span m='795540'>deletion</span> <span m='796020'>of</span> <span m='796110'>that</span>
  <span m='796290'>y-coordinate.</span> <span m='800650'>So</span> <span m='800760'>this</span>
  <span m='801000'>is</span> <span m='801150'>a</span> <span m='801390'>partially</span>
  <span m='801840'>retroactive</span> <span m='802950'>successor</span> <span m='804810'>problem.</span>
  <span m='805320'>This</span> <span m='805620'>is</span> <span m='805920'>equal</span>
  <span m='806250'>to</span> <span m='807240'>dynamic</span> <span m='811110'>vertical</span>
  <span m='811560'>ray shooting.</span> </p><p><span m='816930'>I</span> <span m='817020'>guess</span>
  <span m='817530'>this</span> <span m='817740'>insertion</span> <span m='819470'>corresponds</span>
  <span m='819760'>to</span> <span m='819900'>the</span> <span m='819960'>insertion</span>
  <span m='820500'>of</span> <span m='820620'>a</span> <span m='820680'>thing.</span>
  <span m='821040'>If</span> <span m='821160'>you</span> <span m='821460'>instead</span>
  <span m='821910'>do</span> <span m='822120'>delete</span> <span m='822540'>here,</span>
  <span m='823890'>then</span> <span m='824070'>you're</span> <span m='824220'>deleting</span>
  <span m='824730'>one</span> <span m='824880'>of</span> <span m='824970'>the</span>
  <span m='825060'>segments.</span> <span m='827040'>This</span> <span m='827090'>is</span>
  <span m='827280'>among</span> <span m='828840'>horizontal</span> <span m='829590'>segments.</span>
  <span m='835720'>So</span> <span m='835800'>if</span> <span m='836070'>your</span>
  <span m='836190'>map</span> <span m='836580'>is</span> <span m='836700'>made</span>
  <span m='837060'>of</span> <span m='837360'>horizontal</span> <span m='838140'>and</span>
  <span m='838320'>vertical</span> <span m='838680'>segments--</span> <span m='839890'>so</span>
  <span m='839910'>it's</span> <span m='840030'>an</span> <span m='840090'>orthogonal</span>
  <span m='840660'>map--</span> <span m='841590'>then</span> <span m='841920'>you</span>
  <span m='842070'>can</span> <span m='842280'>solve</span> <span m='842520'>the</span>
  <span m='842640'>dynamic</span> <span m='843120'>problem</span> <span m='843540'>using</span>
  <span m='843900'>a</span> <span m='843990'>partially</span> <span m='844410'>retroactive</span>
  <span m='845010'>successor.</span> </p><p><span m='846120'>Again,</span> <span m='846420'>we</span>
  <span m='846540'>want</span> <span m='846720'>to</span> <span m='846780'>do</span>
  <span m='846930'>successor</span> <span m='847950'>just</span> <span m='848130'>like</span>
  <span m='848310'>before,</span> <span m='849260'>querying</span> <span m='849600'>the</span>
  <span m='849690'>past.</span> <span m='850920'>But</span> <span m='851140'>now,</span>
  <span m='851310'>our</span> <span m='851460'>updates</span> <span m='851850'>are</span>
  <span m='851910'>different.</span> <span m='853080'>Now,</span> <span m='853230'>we</span>
  <span m='853350'>have</span> <span m='853440'>retroactive</span> <span m='853950'>updates.</span>
  <span m='854310'>That</span> <span m='854490'>lets</span> <span m='854760'>us</span>
  <span m='855030'>dynamically</span> <span m='855750'>change</span> <span m='856140'>the</span>
  <span m='856260'>past,</span> <span m='857410'>which</span> <span m='857520'>is</span>
  <span m='857640'>like</span> <span m='857940'>inserting</span> <span m='858390'>and</span>
  <span m='858500'>deleting</span> <span m='858810'>edges</span> <span m='859920'>through</span>
  <span m='860190'>that</span> <span m='860370'>algorithm.</span> </p><p><span m='861180'>But</span>
  <span m='861390'>at</span> <span m='861540'>the</span> <span m='861630'>moment,</span>
  <span m='862090'>we</span> <span m='862140'>only</span> <span m='862320'>know</span>
  <span m='862440'>how</span> <span m='862530'>to</span> <span m='862650'>do</span>
  <span m='862740'>this</span> <span m='862890'>for</span> <span m='863040'>horizontal</span>
  <span m='863580'>segments.</span> <span m='864520'>So</span> <span m='864570'>this</span>
  <span m='864810'>gives</span> <span m='865110'>us,</span> <span m='865920'>if</span>
  <span m='866070'>you</span> <span m='866130'>remember,</span> <span m='866550'>the</span>
  <span m='867660'>retroactive</span> <span m='868230'>successor</span> <span m='868830'>result.</span>
  <span m='870260'>We</span> <span m='870360'>haven't</span> <span m='870570'>seen
  that,</span> <span m='870840'>how</span> <span m='871350'>it</span> <span m='871410'>works.</span>
  </p><p><span m='872380'>It's</span> <span m='872480'>complicated.</span> <span m='873360'>But</span>
  <span m='873540'>it</span> <span m='873660'>achieves</span> <span m='874020'>log</span>
  <span m='874350'>n</span> <span m='875010'>insert,</span> <span m='875440'>delete</span>
  <span m='875580'>successor</span> <span m='876960'>retroactively.</span> <span m='878970'>And</span>
  <span m='879060'>so</span> <span m='879210'>we</span> <span m='879300'>get</span>
  <span m='879450'>a</span> <span m='879510'>log</span> <span m='879840'>n,</span>
  <span m='880250'>which</span> <span m='880500'>is an</span> <span m='880620'>optimal</span>
  <span m='881160'>solution</span> <span m='881670'>for</span> <span m='882510'>dynamic</span>
  <span m='882930'>vertical</span> <span m='883230'>ray</span> <span m='883440'>shooting</span>
  <span m='883800'>among</span> <span m='884130'>horizontal</span> <span m='884760'>segments.</span>
  </p><p><span m='887010'>There</span> <span m='887100'>are</span> <span m='887130'>a</span>
  <span m='887160'>bunch</span> <span m='887400'>of</span> <span m='887470'>open</span>
  <span m='887760'>problems.</span> <span m='889620'>What</span> <span m='889830'>about</span>
  <span m='891330'>general</span> <span m='891660'>maps?</span> <span m='896220'>So</span>
  <span m='896460'>for</span> <span m='896640'>a</span> <span m='896700'>dynamic</span>
  <span m='897960'>vertical</span> <span m='900180'>ray</span> <span m='900360'>shooting</span>
  <span m='907890'>in</span> <span m='908070'>general</span> <span m='908430'>maps,</span>
  <span m='910210'>if</span> <span m='910410'>you</span> <span m='910530'>want</span>
  <span m='910710'>log</span> <span m='911220'>n</span> <span m='911520'>query,</span>
  <span m='913140'>the</span> <span m='913230'>best</span> <span m='913440'>results</span>
  <span m='913860'>are</span> <span m='913980'>log</span> <span m='914450'>to</span>
  <span m='914550'>the</span> <span m='914670'>1</span> <span m='914850'>plus</span>
  <span m='915060'>epsilon</span> <span m='915450'>insert</span> <span m='915750'>log</span>
  <span m='915960'>to</span> <span m='916080'>the</span> <span m='916200'>2</span>
  <span m='916380'>plus</span> <span m='916620'>epsilon</span> <span m='917040'>delete.</span>
  </p><p><span m='918180'>There's</span> <span m='918300'>some</span> <span m='918480'>other</span>
  <span m='918660'>trade-offs.</span> <span m='919140'>You</span> <span m='919200'>can</span>
  <span m='919320'>get</span> <span m='919440'>log</span> <span m='919770'>times</span>
  <span m='920010'>log</span> <span m='920310'>log</span> <span m='920490'>n</span>
  <span m='920640'>query</span> <span m='921030'>and</span> <span m='921150'>reduce.</span>
  <span m='922000'>Still,</span> <span m='923010'>we</span> <span m='923160'>don't</span>
  <span m='923310'>know</span> <span m='923370'>how</span> <span m='923460'>to</span>
  <span m='924360'>delete</span> <span m='924750'>faster</span> <span m='925110'>than</span>
  <span m='925240'>log</span> <span m='925470'>squared</span> <span m='926550'>in</span>
  <span m='926730'>any</span> <span m='926970'>of</span> <span m='927060'>the</span>
  <span m='927240'>general</span> <span m='927750'>solutions.</span> <span m='928260'>So</span>
  <span m='928470'>you</span> <span m='928590'>can</span> <span m='928710'>do</span>
  <span m='928860'>log</span> <span m='929070'>square</span> <span m='929370'>for</span>
  <span m='929460'>everything.</span> </p><p><span m='930840'>But</span> <span m='931020'>the</span>
  <span m='931110'>hope</span> <span m='931350'>would</span> <span m='931440'>be</span>
  <span m='931590'>you</span> <span m='931680'>could</span> <span m='931800'>do</span>
  <span m='931920'>log</span> <span m='932160'>for</span> <span m='932280'>everything</span>
  <span m='933990'>even</span> <span m='934260'>when</span> <span m='934350'>the</span>
  <span m='934440'>segments</span> <span m='934770'>are</span> <span m='934830'>not</span>
  <span m='934950'>horizontal.</span> <span m='935520'>But</span> <span m='935670'>here,</span>
  <span m='935980'>retroactivity</span> <span m='936720'>doesn't</span> <span m='937560'>seem</span>
  <span m='938130'>to</span> <span m='938400'>buy</span> <span m='938760'>you</span>
  <span m='939120'>things.</span> <span m='941980'>It'd be</span> <span m='942070'>nice</span>
  <span m='942280'>if</span> <span m='942370'>you</span> <span m='942430'>could.</span>
  </p><p><span m='943090'>Another</span> <span m='943480'>fun</span> <span m='943660'>open</span>
  <span m='943870'>problem</span> <span m='946660'>is,</span> <span m='946960'>what</span>
  <span m='947170'>about</span> <span m='947650'>non-vertical</span> <span m='949360'>rays,</span>
  <span m='952300'>general</span> <span m='952820'>rays,</span> <span m='956830'>non-vertical</span>
  <span m='957610'>rays?</span> <span m='961240'>So</span> <span m='963490'>I</span>
  <span m='963550'>give</span> <span m='963700'>you</span> <span m='963760'>a</span>
  <span m='963820'>point</span> <span m='964150'>and</span> <span m='964330'>I</span>
  <span m='964390'>give</span> <span m='964540'>you</span> <span m='964660'>a</span>
  <span m='964690'>vector,</span> <span m='965150'>I</span> <span m='965230'>want</span>
  <span m='965380'>to</span> <span m='965440'>know</span> <span m='965590'>what</span>
  <span m='965740'>do</span> <span m='965860'>I</span> <span m='965950'>hit</span>
  <span m='966100'>in</span> <span m='966190'>that</span> <span m='966340'>direction.</span>
  <span m='967190'>This</span> <span m='967240'>is</span> <span m='967360'>a</span>
  <span m='967420'>lot</span> <span m='967630'>harder.</span> <span m='968000'>You</span>
  <span m='968100'>can't</span> <span m='968230'>use</span> <span m='968380'>any</span>
  <span m='968560'>of</span> <span m='968650'>these</span> <span m='968800'>tricks.</span>
  </p><p><span m='969790'>And</span> <span m='969970'>in</span> <span m='970060'>fact,</span>
  <span m='970330'>it's</span> <span m='970450'>believed</span> <span m='970870'>you</span>
  <span m='970990'>cannot</span> <span m='971350'>get</span> <span m='971540'>polylog</span>
  <span m='972490'>performance</span> <span m='973120'>unless</span> <span m='973330'>you</span>
  <span m='973420'>have</span> <span m='973600'>a</span> <span m='973660'>ton</span>
  <span m='973960'>of</span> <span m='974050'>space.</span> <span m='975410'>So</span>
  <span m='975580'>the</span> <span m='975700'>best</span> <span m='975970'>known</span>
  <span m='976180'>result</span> <span m='976690'>is--</span> <span m='978920'>I'll
  just throw</span> <span m='979180'>this</span> <span m='979360'>up</span> <span
  m='979510'>here.</span> <span m='979690'>You</span> <span m='979840'>can</span>
  <span m='979930'>get</span> <span m='980110'>n</span> <span m='980410'>over</span>
  <span m='980770'>square</span> <span m='981160'>root</span> <span m='981460'>s</span>
  <span m='982500'>polylog</span> <span m='984850'>and</span> <span m='985450'>query.</span>
  <span m='987730'>If</span> <span m='987910'>you</span> <span m='988060'>use,</span>
  <span m='988510'>basically,</span> <span m='988855'>s</span> <span m='989200'>space.</span>
  </p><p><span m='996320'>So</span> <span m='997030'>you</span> <span m='997120'>need</span>
  <span m='997450'>quite</span> <span m='997720'>a</span> <span m='997780'>bit</span>
  <span m='997930'>of</span> <span m='997990'>space.</span> <span m='999080'>Because</span>
  <span m='999280'>if you use</span> <span m='1000840'>n to</span> <span m='1001110'>the</span>
  <span m='1001200'>1</span> <span m='1001350'>plus</span> <span m='1001530'>epsilon</span>
  <span m='1001830'>space,</span> <span m='1002260'>you</span> <span m='1002280'>can</span>
  <span m='1002400'>get</span> <span m='1002610'>roughly</span> <span m='1002970'>root</span>
  <span m='1003210'>n</span> <span m='1003650'>query</span> <span m='1004020'>time.</span>
  <span m='1005090'>If</span> <span m='1005190'>you</span> <span m='1005310'>use</span>
  <span m='1006790'>n</span> <span m='1007330'>to</span> <span m='1008190'>5</span>
  <span m='1008610'>space,</span> <span m='1009930'>then</span> <span m='1010080'>you</span>
  <span m='1010200'>get</span> <span m='1010740'>somewhat</span> <span m='1011070'>better</span>
  <span m='1011320'>query</span> <span m='1011610'>time,</span> <span m='1011880'>but</span>
  <span m='1012510'>still</span> <span m='1012750'>not</span> <span m='1012900'>great.</span>
  <span m='1013655'>You</span> <span m='1014110'>can</span> <span m='1014380'>maybe</span>
  <span m='1014610'>get</span> <span m='1014730'>down</span> <span m='1014940'>to</span>
  <span m='1015010'>n</span> <span m='1015150'>to</span> <span m='1015390'>the</span>
  <span m='1015510'>epsilon</span> <span m='1015960'>if</span> <span m='1016080'>you</span>
  <span m='1016140'>have</span> <span m='1016300'>very</span> <span m='1016560'>large</span>
  <span m='1017490'>polynomial</span> <span m='1018060'>space.</span> </p><p><span
  m='1020520'>But</span> <span m='1020700'>this</span> <span m='1020850'>is</span>
  <span m='1020940'>conjectured</span> <span m='1021510'>to</span> <span m='1021690'>be</span>
  <span m='1021840'>roughly</span> <span m='1022170'>optimal,</span> <span m='1022890'>I</span>
  <span m='1022950'>assume,</span> <span m='1023190'>other</span> <span m='1023400'>than</span>
  <span m='1023520'>the</span> <span m='1023610'>polylog</span> <span m='1024109'>factors.</span>
  <span m='1024730'>The</span> <span m='1025109'>belief</span> <span m='1025440'>is</span>
  <span m='1025560'>you</span> <span m='1025650'>cannot</span> <span m='1025950'>beat</span>
  <span m='1026160'>this</span> <span m='1026400'>for</span> <span m='1026760'>general</span>
  <span m='1027050'>ray.</span> <span m='1027329'>This</span> <span m='1027460'>is</span>
  <span m='1027510'>kind</span> <span m='1027720'>of</span> <span m='1027810'>annoying,</span>
  <span m='1028140'>because</span> <span m='1028319'>this</span> <span m='1028470'>is</span>
  <span m='1028589'>a</span> <span m='1028650'>problem</span> <span m='1028950'>we</span>
  <span m='1029069'>care</span> <span m='1029310'>about.</span> <span m='1029650'>Especially</span>
  <span m='1030000'>in</span> <span m='1030089'>3D,</span> <span m='1030480'>this</span>
  <span m='1030720'>is</span> <span m='1031619'>ray</span> <span m='1031829'>tracing.</span>
  </p><p><span m='1032565'>You</span> <span m='1032880'>shoot a</span> <span m='1033210'>ray,</span>
  <span m='1033630'>what</span> <span m='1033800'>does</span> <span m='1033930'>it</span>
  <span m='1033990'>hit?</span> <span m='1034270'>You bounce it.</span> <span m='1034575'>You</span>
  <span m='1034880'>shoot</span> <span m='1035109'>another</span> <span m='1035280'>ray.</span>
  <span m='1035700'>I</span> <span m='1035970'>always</span> <span m='1036119'>want
  to</span> <span m='1036180'>know</span> <span m='1036359'>what</span> <span m='1036569'>objects</span>
  <span m='1037020'>am I</span> <span m='1037170'>hitting.</span> </p><p><span m='1038160'>And</span>
  <span m='1039089'>for</span> <span m='1039550'>special</span> <span m='1039900'>cases,</span>
  <span m='1040290'>you</span> <span m='1040440'>can</span> <span m='1040560'>do</span>
  <span m='1040650'>better.</span> <span m='1041369'>But</span> <span m='1041550'>in</span>
  <span m='1041640'>general,</span> <span m='1041910'>it</span> <span m='1041970'>seems</span>
  <span m='1042180'>quite</span> <span m='1042359'>hard.</span> <span m='1042540'>This</span>
  <span m='1042720'>is</span> <span m='1042869'>even</span> <span m='1043109'>in</span>
  <span m='1043200'>two</span> <span m='1043380'>dimensions.</span> <span m='1044748'>But</span>
  <span m='1045119'>there</span> <span m='1045270'>are</span> <span m='1045300'>a</span>
  <span m='1045329'>bunch</span> <span m='1045569'>of</span> <span m='1045630'>papers</span>
  <span m='1046349'>on</span> <span m='1048190'>3D</span> <span m='1048700'>and</span>
  <span m='1048790'>so</span> <span m='1048910'>on.</span> </p><p><span m='1050500'>I</span>
  <span m='1050620'>just</span> <span m='1050770'>wanted</span> <span m='1051010'>to</span>
  <span m='1051130'>give</span> <span m='1051310'>you</span> <span m='1051430'>those</span>
  <span m='1051640'>connections</span> <span m='1052090'>to</span> <span m='1052690'>persistence</span>
  <span m='1053260'>and</span> <span m='1053350'>retroactivity.</span> <span m='1054640'>And</span>
  <span m='1054760'>that's</span> <span m='1055240'>point</span> <span m='1055480'>location.</span>
  <span m='1057070'>And</span> <span m='1057320'>now,</span> <span m='1057440'>I</span>
  <span m='1057550'>want</span> <span m='1057700'>to</span> <span m='1057790'>go</span>
  <span m='1057970'>on</span> <span m='1058060'>two</span> <span m='1058390'>orthogonal</span>
  <span m='1059700'>range</span> <span m='1059950'>searching.</span> </p><p><span
  m='1062740'>We</span> <span m='1062890'>can</span> <span m='1063010'>do</span> <span
  m='1063100'>some</span> <span m='1063430'>new</span> <span m='1063670'>data</span>
  <span m='1063910'>structures,</span> <span m='1066140'>new</span> <span m='1066190'>to</span>
  <span m='1066310'>us.</span> <span m='1071480'>So</span> <span m='1072290'>first,</span>
  <span m='1072650'>what</span> <span m='1072890'>is</span> <span m='1073070'>the</span>
  <span m='1073190'>problem?</span> <span m='1090930'>So</span> <span m='1092490'>it's</span>
  <span m='1092640'>sort</span> <span m='1092940'>of</span> <span m='1093030'>the</span>
  <span m='1093150'>reverse</span> <span m='1093540'>kind</span> <span m='1093750'>of</span>
  <span m='1093840'>problem</span> <span m='1094290'>here.</span> <span m='1094470'>You're</span>
  <span m='1094680'>given</span> <span m='1095040'>a</span> <span m='1095100'>bunch</span>
  <span m='1095370'>of</span> <span m='1095460'>points</span> <span m='1099120'>before</span>
  <span m='1099630'>the</span> <span m='1099750'>query</span> <span m='1100140'>was</span>
  <span m='1100290'>a</span> <span m='1100390'>point.</span> </p><p><span m='1101710'>And</span>
  <span m='1102810'>the</span> <span m='1103590'>query,</span> <span m='1104070'>in</span>
  <span m='1104160'>this</span> <span m='1104340'>case,</span> <span m='1104730'>is</span>
  <span m='1104820'>going</span> <span m='1105060'>to</span> <span m='1105180'>be,</span>
  <span m='1105900'>in</span> <span m='1105990'>two</span> <span m='1106140'>dimensions,</span>
  <span m='1106650'>a</span> <span m='1106770'>rectangle,</span> <span m='1108520'>a</span>
  <span m='1109020'>window</span> <span m='1109560'>if</span> <span m='1109650'>you</span>
  <span m='1109770'>will.</span> <span m='1110290'>And</span> <span m='1110400'>you</span>
  <span m='1110460'>want</span> <span m='1110610'>to</span> <span m='1110700'>know</span>
  <span m='1111210'>what</span> <span m='1111480'>points</span> <span m='1111810'>are</span>
  <span m='1111930'>in</span> <span m='1112140'>the</span> <span m='1112230'>rectangle.</span>
  <span m='1115320'>So</span> <span m='1116960'>given</span> <span m='1118940'>n</span>
  <span m='1119385'>points</span> <span m='1122210'>and</span> <span m='1122630'>d</span>
  <span m='1124070'>dimensions,</span> <span m='1126980'>query</span> <span m='1128300'>in</span>
  <span m='1128450'>general</span> <span m='1129950'>is</span> <span m='1130050'>going</span>
  <span m='1130170'>to</span> <span m='1130280'>be</span> <span m='1130550'>a</span>
  <span m='1130610'>box.</span> </p><p><span m='1132410'>So</span> <span m='1133340'>in</span>
  <span m='1133580'>2D,</span> <span m='1133910'>it's</span> <span m='1134060'>an</span>
  <span m='1134150'>interval</span> <span m='1134500'>crossing</span> <span m='1134860'>interval.</span>
  <span m='1135830'>In</span> <span m='1135920'>3D,</span> <span m='1136340'>it's</span>
  <span m='1136670'>three</span> <span m='1136910'>intervals</span> <span m='1138140'>cross-product</span>
  <span m='1138710'>together.</span> <span m='1141960'>OK.</span> <span m='1142300'>So</span>
  <span m='1143680'>in</span> <span m='1143860'>the</span> <span m='1143950'>static</span>
  <span m='1144310'>version,</span> <span m='1144700'>you</span> <span m='1144820'>get</span>
  <span m='1144940'>to</span> <span m='1145030'>preprocess</span> <span m='1145630'>the</span>
  <span m='1145720'>points.</span> <span m='1146020'>In the</span> <span m='1146110'>dynamic</span>
  <span m='1146500'>version,</span> <span m='1146800'>the</span> <span m='1146890'>points</span>
  <span m='1147130'>are</span> <span m='1147220'>being</span> <span m='1147400'>added</span>
  <span m='1147640'>and</span> <span m='1147760'>deleted.</span> </p><p><span m='1149380'>And</span>
  <span m='1149590'>in</span> <span m='1149710'>all</span> <span m='1149830'>cases,</span>
  <span m='1150250'>we</span> <span m='1150340'>have</span> <span m='1150430'>dynamic</span>
  <span m='1150820'>queries,</span> <span m='1151600'>which</span> <span m='1151810'>are</span>
  <span m='1152290'>what</span> <span m='1152440'>are</span> <span m='1152530'>the</span>
  <span m='1152620'>points</span> <span m='1152890'>in</span> <span m='1152980'>the</span>
  <span m='1153070'>box.</span> <span m='1153500'>Now,</span> <span m='1153520'>there</span>
  <span m='1153610'>are</span> <span m='1153640'>different</span> <span m='1153940'>versions</span>
  <span m='1154270'>of</span> <span m='1154330'>this</span> <span m='1154480'>query.</span>
  <span m='1155250'>There</span> <span m='1155360'>is</span> <span m='1155470'>an</span>
  <span m='1155530'>existence</span> <span m='1155980'>query,</span> <span m='1156370'>which</span>
  <span m='1156580'>is</span> <span m='1156880'>are</span> <span m='1157030'>there</span>
  <span m='1157150'>any</span> <span m='1157390'>points</span> <span m='1157690'>in</span>
  <span m='1157750'>the</span> <span m='1157840'>box?</span> <span m='1158600'>That's</span>
  <span m='1158880'>sort</span> <span m='1159040'>of</span> <span m='1159100'>the</span>
  <span m='1159160'>easiest.</span> </p><p><span m='1159970'>Next</span> <span m='1160180'>level</span>
  <span m='1160450'>up</span> <span m='1160600'>is,</span> <span m='1160750'>how</span>
  <span m='1161020'>many</span> <span m='1161230'>points</span> <span m='1161560'>are</span>
  <span m='1161620'>in</span> <span m='1161710'>the</span> <span m='1161800'>box?</span>
  <span m='1162800'>Which</span> <span m='1162940'>you</span> <span m='1163030'>can</span>
  <span m='1163150'>use</span> <span m='1163360'>to</span> <span m='1163480'>solve</span>
  <span m='1163810'>existence.</span> <span m='1164770'>Next</span> <span m='1165100'>level</span>
  <span m='1165490'>up</span> <span m='1165700'>is</span> <span m='1166420'>give</span>
  <span m='1166630'>me</span> <span m='1166780'>all</span> <span m='1166900'>the</span>
  <span m='1166990'>points</span> <span m='1167260'>in</span> <span m='1167350'>the</span>
  <span m='1167410'>box,</span> <span m='1167740'>or</span> <span m='1167860'>give</span>
  <span m='1168070'>me</span> <span m='1168250'>10</span> <span m='1168520'>points</span>
  <span m='1168820'>in</span> <span m='1168880'>the</span> <span m='1168970'>box,</span>
  <span m='1169220'>give</span> <span m='1169360'>me</span> <span m='1169480'>a</span>
  <span m='1169630'>point</span> <span m='1169930'>in</span> <span m='1170020'>the</span>
  <span m='1170080'>box.</span> <span m='1172150'>All</span> <span m='1172350'>of</span>
  <span m='1172390'>these</span> <span m='1172540'>problems</span> <span m='1172870'>are</span>
  <span m='1172960'>more</span> <span m='1173380'>or</span> <span m='1173410'>less</span>
  <span m='1173650'>the</span> <span m='1173740'>same.</span> <span m='1174100'>They</span>
  <span m='1174280'>do</span> <span m='1174490'>differ</span> <span m='1174820'>in</span>
  <span m='1174910'>some</span> <span m='1175120'>cases.</span> <span m='1175510'>But</span>
  <span m='1175630'>the</span> <span m='1175720'>things</span> <span m='1175930'>we'll</span>
  <span m='1176050'>see</span> <span m='1176260'>today,</span> <span m='1176560'>you</span>
  <span m='1176680'>can</span> <span m='1176830'>solve</span> <span m='1177040'>them</span>
  <span m='1177190'>all</span> <span m='1177580'>about</span> <span m='1177850'>as</span>
  <span m='1178000'>efficiently.</span> </p><p><span m='1178850'>But,</span> <span
  m='1178930'>of</span> <span m='1178990'>course,</span> <span m='1179230'>if</span>
  <span m='1179350'>you</span> <span m='1179470'>want</span> <span m='1179680'>to</span>
  <span m='1179830'>list</span> <span m='1180130'>all</span> <span m='1180340'>the</span>
  <span m='1180430'>points</span> <span m='1180670'>in</span> <span m='1180730'>the</span>
  <span m='1180820'>box,</span> <span m='1181070'>it</span> <span m='1181150'>could</span>
  <span m='1181270'>be</span> <span m='1181420'>everything.</span> <span m='1181960'>And</span>
  <span m='1182080'>so</span> <span m='1182230'>that</span> <span m='1182380'>could</span>
  <span m='1182530'>take</span> <span m='1182680'>linear</span> <span m='1183010'>time.</span>
  <span m='1184190'>So</span> <span m='1184240'>in</span> <span m='1184300'>general,</span>
  <span m='1185020'>our</span> <span m='1185230'>goal</span> <span m='1185500'>is</span>
  <span m='1185650'>to</span> <span m='1185770'>get</span> <span m='1186040'>a</span>
  <span m='1186100'>running</span> <span m='1186400'>time</span> <span m='1186670'>something</span>
  <span m='1187000'>like</span> <span m='1187270'>log</span> <span m='1187630'>n</span>
  <span m='1188230'>plus</span> <span m='1188650'>k,</span> <span m='1189770'>where</span>
  <span m='1189850'>k</span> <span m='1190330'>is</span> <span m='1190630'>the</span>
  <span m='1190720'>size</span> <span m='1191050'>of</span> <span m='1191170'>the</span>
  <span m='1191290'>output.</span> </p><p><span m='1194630'>So</span> <span m='1194920'>if</span>
  <span m='1195160'>you're</span> <span m='1195460'>asking</span> <span m='1195880'>how</span>
  <span m='1196060'>many</span> <span m='1196270'>points</span> <span m='1196570'>are</span>
  <span m='1196660'>in</span> <span m='1196750'>there, the</span> <span m='1196920'>size</span>
  <span m='1197230'>the</span> <span m='1197350'>output</span> <span m='1197650'>is</span>
  <span m='1197770'>a</span> <span m='1197830'>single</span> <span m='1198130'>number.</span>
  <span m='1198640'>So</span> <span m='1198850'>k is</span> <span m='1199230'>1,</span>
  <span m='1199505'>you</span> <span m='1199780'>should</span> <span m='1199960'>get</span>
  <span m='1200140'>log</span> <span m='1200400'>n</span> <span m='1200560'>time.</span>
  <span m='1201280'>If</span> <span m='1201400'>you</span> <span m='1201520'>want</span>
  <span m='1201670'>to</span> <span m='1201730'>list</span> <span m='1202540'>100</span>
  <span m='1202870'>points</span> <span m='1203200'>in</span> <span m='1203290'>there,</span>
  <span m='1203550'>k is</span> <span m='1203830'>100.</span> <span m='1204520'>And</span>
  <span m='1204790'>so</span> <span m='1204970'>you</span> <span m='1205090'>have</span>
  <span m='1205210'>to</span> <span m='1205270'>pay</span> <span m='1205510'>that</span>
  <span m='1205990'>to</span> <span m='1206080'>list</span> <span m='1206320'>them.</span>
  </p><p><span m='1207340'>If</span> <span m='1207580'>you</span> <span m='1207700'>want</span>
  <span m='1207850'>to</span> <span m='1207910'>know</span> <span m='1208030'>all</span>
  <span m='1208210'>of</span> <span m='1208330'>them,</span> <span m='1208520'>well,</span>
  <span m='1208740'>then</span> <span m='1209050'>k is</span> <span m='1209260'>the</span>
  <span m='1209350'>number</span> <span m='1209560'>of</span> <span m='1209620'>points</span>
  <span m='1209890'>that</span> <span m='1210010'>are</span> <span m='1210100'>in</span>
  <span m='1210250'>there.</span> <span m='1211270'>And</span> <span m='1211420'>we'll</span>
  <span m='1211540'>be</span> <span m='1211660'>able</span> <span m='1211810'>to</span>
  <span m='1211870'>achieve</span> <span m='1213916'>these</span> <span m='1214330'>kinds</span>
  <span m='1214690'>of</span> <span m='1214750'>bounds</span> <span m='1217990'>pretty</span>
  <span m='1218140'>much</span> <span m='1218320'>all</span> <span m='1218440'>the</span>
  <span m='1218530'>time,</span> <span m='1219610'>definitely</span> <span m='1219940'>in</span>
  <span m='1220030'>two</span> <span m='1220180'>dimensions.</span> <span m='1220750'>In</span>
  <span m='1220850'>D</span> <span m='1221060'>dimensions,</span> <span m='1221620'>it's</span>
  <span m='1221830'>going</span> <span m='1221980'>to</span> <span m='1222070'>get</span>
  <span m='1222820'>harder.</span> </p><p><span m='1225470'>OK.</span> <span m='1228760'>So</span>
  <span m='1229330'>I</span> <span m='1229420'>want</span> <span m='1229570'>to</span>
  <span m='1229660'>start</span> <span m='1229930'>out</span> <span m='1230080'>with</span>
  <span m='1230410'>one</span> <span m='1230650'>dimension</span> <span m='1231490'>just</span>
  <span m='1231670'>to</span> <span m='1232390'>make</span> <span m='1232570'>sure</span>
  <span m='1232780'>we're</span> <span m='1232930'>on</span> <span m='1233050'>the</span>
  <span m='1233140'>same</span> <span m='1233410'>page.</span> <span m='1234700'>And</span>
  <span m='1235210'>in</span> <span m='1235360'>general,</span> <span m='1236020'>we're</span>
  <span m='1236170'>going</span> <span m='1236290'>to</span> <span m='1236350'>start</span>
  <span m='1236560'>with</span> <span m='1236680'>a</span> <span m='1236710'>solution</span>
  <span m='1237100'>called</span> <span m='1237280'>range</span> <span m='1237640'>trees,</span>
  <span m='1240940'>which were</span> <span m='1241180'>simultaneously</span> <span
  m='1241870'>invented</span> <span m='1242230'>by</span> <span m='1242380'>a</span>
  <span m='1242410'>lot</span> <span m='1242560'>of</span> <span m='1242620'>people</span>
  <span m='1243040'>in</span> <span m='1243190'>the</span> <span m='1243700'>late</span>
  <span m='1243940'>'70s,</span> <span m='1244670'>Bentley,</span> <span m='1245650'>one
  of</span> <span m='1245950'>the</span> <span m='1246040'>main</span> <span m='1246550'>guys.</span>
  <span m='1247720'>And</span> <span m='1248050'>in</span> <span m='1248140'>general,</span>
  <span m='1248530'>we're</span> <span m='1248710'>going</span> <span m='1248860'>to</span>
  <span m='1248950'>aim</span> <span m='1249220'>here</span> <span m='1249460'>for</span>
  <span m='1249700'>a</span> <span m='1249730'>log</span> <span m='1250120'>to</span>
  <span m='1250270'>the</span> <span m='1250400'>d</span> <span m='1251590'>n</span>
  <span m='1252220'>plus</span> <span m='1252610'>k</span> <span m='1253110'>query</span>
  <span m='1253400'>time.</span> </p><p><span m='1257370'>So I</span> <span m='1257670'>like</span>
  <span m='1257910'>this,</span> <span m='1258140'>but</span> <span m='1258300'>now</span>
  <span m='1258510'>we</span> <span m='1258630'>have</span> <span m='1258810'>a</span>
  <span m='1258840'>dependence</span> <span m='1259350'>on</span> <span m='1259500'>dimension.</span>
  <span m='1259950'>And</span> <span m='1260040'>for</span> <span m='1260190'>2D,</span>
  <span m='1260520'>this</span> <span m='1260730'>is</span> <span m='1260820'>not</span>
  <span m='1261000'>great.</span> <span m='1261330'>It's</span> <span m='1261480'>log</span>
  <span m='1261690'>squared.</span> <span m='1263340'>And</span> <span m='1263760'>we're</span>
  <span m='1263910'>going</span> <span m='1263990'>to</span> <span m='1264090'>do</span>
  <span m='1264210'>better.</span> <span m='1265180'>OK.</span> <span m='1265320'>But
  let's</span> <span m='1265470'>start</span> <span m='1265680'>with</span> <span
  m='1265830'>d equals</span> <span m='1266130'>1.</span> <span m='1268200'>How</span>
  <span m='1268320'>do</span> <span m='1268410'>you</span> <span m='1268470'>do</span>
  <span m='1268590'>this?</span> <span m='1270260'>How</span> <span m='1270320'>do</span>
  <span m='1270420'>I</span> <span m='1270480'>achieve</span> <span m='1270870'>log</span>
  <span m='1271215'>n</span> <span m='1271560'>plus</span> <span m='1271810'>k</span>
  <span m='1272700'>query?</span> </p><p><span m='1277360'>Sort</span> <span m='1277630'>the</span>
  <span m='1277720'>points.</span> <span m='1278490'>Yeah.</span> <span m='1278730'>I
  could</span> <span m='1278890'>sort</span> <span m='1279100'>the</span> <span m='1279190'>points,</span>
  <span m='1280270'>then</span> <span m='1280630'>do</span> <span m='1280960'>binary</span>
  <span m='1281320'>search.</span> <span m='1281630'>So</span> <span m='1281700'>the</span>
  <span m='1281800'>query</span> <span m='1282160'>now</span> <span m='1283030'>is</span>
  <span m='1284560'>just</span> <span m='1284770'>an</span> <span m='1284860'>interval.</span>
  <span m='1286270'>That's</span> <span m='1286420'>the</span> <span m='1286540'>one</span>
  <span m='1286750'>dimensional</span> <span m='1287140'>version</span> <span m='1287440'>of</span>
  <span m='1287530'>a</span> <span m='1287560'>box.</span> </p><p><span m='1288790'>So</span>
  <span m='1289060'>if</span> <span m='1289240'>I</span> <span m='1289300'>search</span>
  <span m='1289630'>for</span> <span m='1289780'>a,</span> <span m='1290140'>search</span>
  <span m='1290500'>for</span> <span m='1290620'>b</span> <span m='1291190'>in</span>
  <span m='1291370'>a</span> <span m='1291430'>sorted</span> <span m='1291760'>list,</span>
  <span m='1292300'>then</span> <span m='1292780'>all</span> <span m='1292960'>the</span>
  <span m='1293050'>points</span> <span m='1293290'>in</span> <span m='1293380'>between</span>
  <span m='1293800'>I</span> <span m='1293860'>can</span> <span m='1294040'>count</span>
  <span m='1294520'>the</span> <span m='1294730'>different</span> <span m='1295030'>indices--</span>
  <span m='1295750'>or</span> <span m='1295870'>subtract</span> <span m='1296320'>the</span>
  <span m='1296440'>two</span> <span m='1296590'>indices</span> <span m='1296980'>into</span>
  <span m='1297130'>the</span> <span m='1297250'>array.</span> <span m='1297520'>That</span>
  <span m='1297610'>will</span> <span m='1297700'>give</span> <span m='1297880'>me</span>
  <span m='1298450'>how</span> <span m='1298600'>many</span> <span m='1298840'>points</span>
  <span m='1299140'>there</span> <span m='1299280'>are</span> <span m='1299320'>in</span>
  <span m='1299410'>the</span> <span m='1299500'>box,</span> <span m='1299920'>all</span>
  <span m='1300040'>these</span> <span m='1300220'>things.</span> <span m='1302920'>Arrays</span>
  <span m='1303220'>aren't</span> <span m='1303340'>going</span> <span m='1303460'>to</span>
  <span m='1303520'>generalize</span> <span m='1303890'>super</span> <span m='1304420'>nicely.</span>
  <span m='1305270'>Although,</span> <span m='1306490'>we'll</span> <span m='1307060'>come</span>
  <span m='1307240'>back</span> <span m='1307450'>to</span> <span m='1307540'>arrays</span>
  <span m='1307810'>later.</span> </p><p><span m='1308660'>For</span> <span m='1308710'>now,</span>
  <span m='1308920'>I'd</span> <span m='1309010'>like</span> <span m='1309160'>to</span>
  <span m='1309280'>think</span> <span m='1309580'>of</span> <span m='1310100'>a</span>
  <span m='1310210'>binary</span> <span m='1310570'>search</span> <span m='1310840'>tree,</span>
  <span m='1312390'>balanced</span> <span m='1312900'>binary</span> <span m='1313210'>search</span>
  <span m='1313480'>tree.</span> <span m='1314560'>And</span> <span m='1314920'>I'm</span>
  <span m='1315040'>going</span> <span m='1315190'>to</span> <span m='1315280'>make</span>
  <span m='1315460'>it</span> <span m='1315550'>a</span> <span m='1315580'>little</span>
  <span m='1315850'>different</span> <span m='1316150'>from</span> <span m='1316300'>the</span>
  <span m='1316390'>usual</span> <span m='1316630'>kind</span> <span m='1316810'>of</span>
  <span m='1316870'>binary</span> <span m='1317170'>search</span> <span m='1317440'>tree.</span>
  <span m='1318820'>I</span> <span m='1318940'>want</span> <span m='1319360'>the</span>
  <span m='1319480'>data</span> <span m='1319810'>to</span> <span m='1319960'>be</span>
  <span m='1320350'>in</span> <span m='1320500'>the</span> <span m='1320590'>leaves.</span>
  </p><p><span m='1324190'>So</span> <span m='1324310'>I</span> <span m='1324340'>want</span>
  <span m='1324520'>the</span> <span m='1324580'>leaves</span> <span m='1324970'>to</span>
  <span m='1325120'>be</span> <span m='1325360'>my</span> <span m='1325540'>points.</span>
  <span m='1327430'>And</span> <span m='1327760'>this</span> <span m='1327910'>will</span>
  <span m='1328030'>be</span> <span m='1328300'>convenient</span> <span m='1329440'>for</span>
  <span m='1330340'>higher</span> <span m='1330550'>dimensions.</span> <span m='1331150'>It</span>
  <span m='1331480'>doesn't</span> <span m='1331720'>really</span> <span m='1331900'>matter</span>
  <span m='1332140'>for</span> <span m='1332290'>one</span> <span m='1332500'>dimension,</span>
  <span m='1332950'>but</span> <span m='1333760'>it's</span> <span m='1333880'>kind</span>
  <span m='1334060'>of</span> <span m='1334150'>nice</span> <span m='1334360'>to</span>
  <span m='1334480'>think</span> <span m='1334690'>about.</span> </p><p><span m='1335230'>So</span>
  <span m='1335350'>you've</span> <span m='1335440'>got</span> <span m='1335710'>a</span>
  <span m='1335770'>binary</span> <span m='1336070'>search</span> <span m='1336340'>tree.</span>
  <span m='1337480'>And</span> <span m='1337660'>then</span> <span m='1337840'>here</span>
  <span m='1338020'>is</span> <span m='1338290'>the</span> <span m='1338380'>data</span>
  <span m='1339460'>sorted</span> <span m='1340000'>by</span> <span m='1340300'>the</span>
  <span m='1340480'>only</span> <span m='1340690'>coordinate</span> <span m='1341200'>that</span>
  <span m='1341320'>exists,</span> <span m='1341660'>the</span> <span m='1341800'>x-coordinate.</span>
  <span m='1344000'>And</span> <span m='1344050'>so,</span> <span m='1344230'>of</span>
  <span m='1344320'>course,</span> <span m='1344530'>I</span> <span m='1344590'>can</span>
  <span m='1344710'>search</span> <span m='1345130'>for</span> <span m='1345490'>a,</span>
  <span m='1346240'>here's</span> <span m='1346540'>a</span> <span m='1346780'>maybe,</span>
  <span m='1347560'>search</span> <span m='1347950'>for</span> <span m='1348160'>b.</span>
  </p><p><span m='1349870'>And</span> <span m='1350800'>the</span> <span m='1351010'>stuff</span>
  <span m='1351340'>in</span> <span m='1351430'>between</span> <span m='1351910'>here,</span>
  <span m='1352810'>that</span> <span m='1353080'>is</span> <span m='1354010'>my</span>
  <span m='1354160'>result.</span> <span m='1355446'>And</span> <span m='1355910'>in</span>
  <span m='1356180'>a</span> <span m='1356240'>little</span> <span m='1356480'>more</span>
  <span m='1356660'>detail,</span> <span m='1359300'>as</span> <span m='1359480'>you</span>
  <span m='1359570'>search</span> <span m='1359840'>for</span> <span m='1359990'>a
  and</span> <span m='1360260'>b,</span> <span m='1360540'>at</span> <span m='1360680'>some</span>
  <span m='1360950'>point,</span> <span m='1361910'>they</span> <span m='1362060'>will</span>
  <span m='1362180'>diverge.</span> <span m='1363560'>One</span> <span m='1363720'>will</span>
  <span m='1363830'>go</span> <span m='1363950'>left,</span> <span m='1364450'>one
  will</span> <span m='1364550'>go</span> <span m='1364670'>right.</span> </p><p><span
  m='1370730'>At</span> <span m='1370820'>some</span> <span m='1371030'>point,</span>
  <span m='1371270'>you</span> <span m='1371390'>reach</span> <span m='1372350'>a.</span>
  <span m='1372680'>Maybe</span> <span m='1373090'>a</span> <span m='1373190'>isn't</span>
  <span m='1373400'>actually</span> <span m='1373700'>in</span> <span m='1373820'>the</span>
  <span m='1373910'>structure.</span> <span m='1374930'>You're</span> <span m='1375110'>searching</span>
  <span m='1375440'>for</span> <span m='1375560'>everything</span> <span m='1375860'>between</span>
  <span m='1376280'>a and</span> <span m='1376490'>b</span> <span m='1376580'>inclusive,</span>
  <span m='1377120'>but</span> <span m='1377320'>a</span> <span m='1377420'>may</span>
  <span m='1377570'>not</span> <span m='1377750'>be</span> <span m='1377900'>there.</span>
  <span m='1378810'>So</span> <span m='1378830'>in</span> <span m='1378920'>general,</span>
  <span m='1379460'>we're</span> <span m='1379580'>going</span> <span m='1379730'>to</span>
  <span m='1379790'>find</span> <span m='1380360'>the</span> <span m='1380480'>predecessor</span>
  <span m='1380990'>and</span> <span m='1381080'>successor</span> <span m='1381740'>of</span>
  <span m='1381890'>a.</span> <span m='1382325'>In</span> <span m='1382760'>this</span>
  <span m='1382880'>case,</span> <span m='1383190'>I'm</span> <span m='1383290'>interested</span>
  <span m='1383510'>in</span> <span m='1383570'>the</span> <span m='1383660'>predecessor.</span>
  </p><p><span m='1385280'>And</span> <span m='1385730'>similarly</span> <span m='1386390'>over</span>
  <span m='1386690'>here,</span> <span m='1389720'>eventually--</span> <span m='1391010'>this</span>
  <span m='1391190'>is</span> <span m='1391280'>all,</span> <span m='1391410'>of</span>
  <span m='1391550'>course,</span> <span m='1391770'>logarithmic</span> <span m='1392300'>time--</span>
  <span m='1393080'>I</span> <span m='1393200'>find</span> <span m='1393530'>the</span>
  <span m='1393680'>successor</span> <span m='1395120'>of</span> <span m='1395420'>b.</span>
  <span m='1396980'>Those are the</span> <span m='1397190'>two</span> <span m='1397340'>things</span>
  <span m='1397580'>I'm</span> <span m='1397670'>interested</span> <span m='1398030'>in.</span>
  <span m='1398510'>And</span> <span m='1398630'>now,</span> <span m='1398810'>all</span>
  <span m='1399140'>the</span> <span m='1399200'>leaves</span> <span m='1399500'>in</span>
  <span m='1399560'>between</span> <span m='1399980'>here,</span> <span m='1400760'>that's</span>
  <span m='1400970'>the</span> <span m='1401090'>result.</span> <span m='1401570'>Question?</span>
  </p><p><span m='1402331'>AUDIENCE:</span> <span m='1402566'>So</span> <span m='1402802'>if
  you have the</span> <span m='1403273'>data just</span> <span m='1403744'>on the
  leaves,</span> <span m='1404215'>what</span> <span m='1404686'>do you have</span>
  <span m='1405157'>intermediate</span> <span m='1405630'>node?</span> </p><p><span
  m='1406645'>ERIK DEMAINE:</span> <span m='1406817'>Ah,</span> <span m='1406990'>right.</span>
  <span m='1407270'>So</span> <span m='1407390'>in</span> <span m='1407480'>the</span>
  <span m='1407570'>intermediate</span> <span m='1408020'>nodes,</span> <span m='1408260'>I</span>
  <span m='1408320'>need</span> <span m='1408470'>to</span> <span m='1408620'>know,</span>
  <span m='1409080'>let's</span> <span m='1409190'>say,</span> <span m='1409880'>if</span>
  <span m='1410270'>every</span> <span m='1410580'>subtree</span> <span m='1410930'>knows</span>
  <span m='1411140'>the</span> <span m='1411230'>min</span> <span m='1411380'>and</span>
  <span m='1411560'>max,</span> <span m='1412340'>then</span> <span m='1412520'>at</span>
  <span m='1412610'>a</span> <span m='1412670'>node,</span> <span m='1412940'>I</span>
  <span m='1413000'>can</span> <span m='1413150'>decide</span> <span m='1413510'>should</span>
  <span m='1413690'>I</span> <span m='1413750'>go</span> <span m='1413900'>left,</span>
  <span m='1414110'>should</span> <span m='1414290'>I</span> <span m='1414350'>go</span>
  <span m='1414500'>right?</span> <span m='1416690'>I</span> <span m='1416750'>think</span>
  <span m='1416960'>every</span> <span m='1417170'>node</span> <span m='1417350'>can</span>
  <span m='1417470'>store</span> <span m='1417650'>the</span> <span m='1417770'>max</span>
  <span m='1418100'>of</span> <span m='1418160'>the</span> <span m='1418220'>left</span>
  <span m='1418430'>subtree</span> <span m='1418880'>if</span> <span m='1418970'>you</span>
  <span m='1419030'>just</span> <span m='1419180'>want</span> <span m='1419360'>one</span>
  <span m='1419600'>key</span> <span m='1419810'>per</span> <span m='1419960'>node.</span>
  <span m='1420650'>But, yeah,</span> <span m='1420980'>good</span> <span m='1421130'>question.</span>
  <span m='1421610'>Sorry, I</span> <span m='1421940'>forgot</span> <span m='1422240'>to</span>
  <span m='1422330'>mention</span> <span m='1422600'>that.</span> </p><p><span m='1423330'>You</span>
  <span m='1423420'>store</span> <span m='1424900'>a</span> <span m='1425190'>representative</span>
  <span m='1426290'>sort</span> <span m='1426500'>of</span> <span m='1426590'>in</span>
  <span m='1426770'>the</span> <span m='1426860'>middle</span> <span m='1427270'>that</span>
  <span m='1427460'>lets</span> <span m='1427640'>you</span> <span m='1427730'>decide</span>
  <span m='1428090'>whether</span> <span m='1428330'>to</span> <span m='1428420'>go</span>
  <span m='1428570'>left</span> <span m='1428810'>or</span> <span m='1428870'>right.</span>
  <span m='1430460'>So</span> <span m='1430580'>you</span> <span m='1430640'>can</span>
  <span m='1430760'>still</span> <span m='1430940'>do</span> <span m='1431060'>searches.</span>
  <span m='1431730'>We</span> <span m='1431830'>can</span> <span m='1431930'>find</span>
  <span m='1432050'>these</span> <span m='1432200'>two</span> <span m='1432350'>nodes.</span>
  </p><p><span m='1433070'>And</span> <span m='1433190'>now,</span> <span m='1433610'>the</span>
  <span m='1433880'>answer</span> <span m='1435170'>is</span> <span m='1435380'>basically</span>
  <span m='1435860'>all</span> <span m='1436220'>of</span> <span m='1436460'>this</span>
  <span m='1436760'>stuff.</span> <span m='1441660'>I did</span> <span m='1442010'>not</span>
  <span m='1442710'>leave</span> <span m='1442940'>myself</span> <span m='1443390'>enough</span>
  <span m='1443540'>space.</span> <span m='1445860'>That's the</span> <span m='1446190'>left</span>
  <span m='1446875'>child.</span> </p><p><span m='1452840'>OK.</span> <span m='1453570'>So</span>
  <span m='1454590'>wherever</span> <span m='1455340'>this</span> <span m='1455760'>left</span>
  <span m='1456180'>branch</span> <span m='1456660'>went</span> <span m='1456900'>left,</span>
  <span m='1457980'>the</span> <span m='1458100'>right</span> <span m='1458400'>branches</span>
  <span m='1459000'>in</span> <span m='1459150'>the</span> <span m='1459270'>answer.</span>
  <span m='1459970'>Whenever</span> <span m='1460290'>this</span> <span m='1460590'>right</span>
  <span m='1460860'>branch</span> <span m='1461220'>went</span> <span m='1461460'>right,</span>
  <span m='1461970'>the</span> <span m='1462150'>left</span> <span m='1462510'>branch</span>
  <span m='1463080'>is</span> <span m='1463290'>the</span> <span m='1463410'>answer.</span>
  <span m='1463760'>But</span> <span m='1463920'>from</span> <span m='1464100'>here,</span>
  <span m='1464310'>there's</span> <span m='1464490'>no</span> <span m='1464670'>subtree</span>
  <span m='1465450'>that</span> <span m='1465570'>we</span> <span m='1465690'>care</span>
  <span m='1465870'>about.</span> <span m='1466290'>Because</span> <span m='1466470'>this</span>
  <span m='1466620'>is</span> <span m='1466740'>all</span> <span m='1466890'>greater</span>
  <span m='1467730'>than</span> <span m='1467880'>what</span> <span m='1467970'>we</span>
  <span m='1468090'>care</span> <span m='1468270'>about.</span> </p><p><span m='1469330'>OK.</span>
  <span m='1469580'>But</span> <span m='1469740'>the</span> <span m='1469830'>good</span>
  <span m='1469990'>news</span> <span m='1470160'>is</span> <span m='1470370'>there's</span>
  <span m='1470520'>only</span> <span m='1470790'>log</span> <span m='1471240'>n</span>
  <span m='1471390'>of</span> <span m='1471450'>these</span> <span m='1471570'>subtrees,</span>
  <span m='1472080'>maybe</span> <span m='1472380'>two</span> <span m='1472650'>log</span>
  <span m='1472950'>n.</span> <span m='1473100'>Because</span> <span m='1473290'>there's</span>
  <span m='1473430'>the</span> <span m='1473520'>left</span> <span m='1473730'>side,</span>
  <span m='1474000'>the</span> <span m='1474090'>right</span> <span m='1474300'>side.</span>
  <span m='1475680'>OK.</span> <span m='1475830'>So</span> <span m='1476040'>the</span>
  <span m='1476220'>answer</span> <span m='1477900'>is</span> <span m='1478200'>implicitly</span>
  <span m='1478800'>represented.</span> <span m='1479790'>We</span> <span m='1479850'>don't</span>
  <span m='1480150'>have</span> <span m='1480390'>to</span> <span m='1480510'>explicitly</span>
  <span m='1481110'>touch</span> <span m='1481410'>all</span> <span m='1481560'>these</span>
  <span m='1481740'>items.</span> <span m='1482010'>We</span> <span m='1482100'>just</span>
  <span m='1482280'>know</span> <span m='1482580'>that they</span> <span m='1482790'>live</span>
  <span m='1482940'>in</span> <span m='1483030'>the</span> <span m='1483160'>subtrees,</span>
  <span m='1484720'>in</span> <span m='1484800'>those</span> <span m='1484860'>order</span>
  <span m='1485100'>log</span> <span m='1485460'>n</span> <span m='1486870'>subtrees.</span>
  </p><p><span m='1489370'>So</span> <span m='1489390'>in</span> <span m='1489480'>particular,</span>
  <span m='1490090'>if</span> <span m='1490230'>every</span> <span m='1490470'>node</span>
  <span m='1490710'>stores</span> <span m='1491040'>the</span> <span m='1491160'>size</span>
  <span m='1491460'>of</span> <span m='1491580'>its</span> <span m='1491680'>subtree,</span>
  <span m='1492780'>then</span> <span m='1492930'>we</span> <span m='1493020'>can</span>
  <span m='1493140'>add</span> <span m='1493320'>up</span> <span m='1493440'>these</span>
  <span m='1493620'>log</span> <span m='1493890'>n</span> <span m='1494010'>numbers.</span>
  <span m='1494430'>And</span> <span m='1494520'>we</span> <span m='1494610'>get</span>
  <span m='1494790'>the</span> <span m='1494880'>size</span> <span m='1495210'>of</span>
  <span m='1495270'>the</span> <span m='1495390'>answer.</span> <span m='1496130'>If</span>
  <span m='1496350'>we</span> <span m='1496470'>want</span> <span m='1496680'>the</span>
  <span m='1496770'>first</span> <span m='1497010'>k</span> <span m='1497250'>items,</span>
  <span m='1497610'>we</span> <span m='1497730'>can</span> <span m='1498180'>visit</span>
  <span m='1498540'>the</span> <span m='1498630'>first</span> <span m='1498870'>k</span>
  <span m='1499020'>items</span> <span m='1499380'>here</span> <span m='1500760'>in</span>
  <span m='1500940'>order</span> <span m='1501180'>k</span> <span m='1501390'>time.</span>
  <span m='1503490'>So</span> <span m='1503670'>in</span> <span m='1503790'>log</span>
  <span m='1504000'>n</span> <span m='1504120'>time,</span> <span m='1504870'>we</span>
  <span m='1504990'>get</span> <span m='1505110'>a</span> <span m='1505200'>nice</span>
  <span m='1505440'>representation</span> <span m='1506610'>of</span> <span m='1506700'>the</span>
  <span m='1506820'>answers,</span> <span m='1507150'>log</span> <span m='1507390'>n</span>
  <span m='1507530'>subtrees.</span> </p><p><span m='1508650'>Of</span> <span m='1508980'>course,</span>
  <span m='1509220'>we</span> <span m='1509400'>also</span> <span m='1509640'>had</span>
  <span m='1510110'>a</span> <span m='1510210'>nice</span> <span m='1510480'>answer</span>
  <span m='1510840'>when</span> <span m='1511020'>we</span> <span m='1511140'>had</span>
  <span m='1511290'>an</span> <span m='1511410'>array.</span> <span m='1511860'>But</span>
  <span m='1512010'>this</span> <span m='1512190'>one</span> <span m='1512370'>will</span>
  <span m='1512490'>be</span> <span m='1512610'>easier</span> <span m='1513000'>to</span>
  <span m='1513180'>generalize.</span> <span m='1514930'>And</span> <span m='1515190'>that's</span>
  <span m='1515880'>range</span> <span m='1516230'>trees.</span> </p><p><span m='1521540'>So</span>
  <span m='1521660'>that</span> <span m='1521810'>was</span> <span m='1521930'>a</span>
  <span m='1521990'>1D</span> <span m='1522300'>range</span> <span m='1522680'>tree.</span>
  <span m='1523790'>The</span> <span m='1523880'>only</span> <span m='1524060'>difference</span>
  <span m='1524390'>is</span> <span m='1524510'>we</span> <span m='1524590'>put data</span>
  <span m='1525060'>at</span> <span m='1525120'>the</span> <span m='1525200'>leaves.</span>
  <span m='1528796'>2D</span> <span m='1529400'>range</span> <span m='1529730'>tree</span>
  <span m='1533630'>has</span> <span m='1533780'>a</span> <span m='1533840'>simple</span>
  <span m='1534170'>idea.</span> <span m='1534980'>We</span> <span m='1535130'>have</span>
  <span m='1535760'>the</span> <span m='1535880'>data</span> <span m='1536270'>in</span>
  <span m='1536360'>these</span> <span m='1536480'>subtrees.</span> </p><p><span m='1537800'>These</span>
  <span m='1538010'>are</span> <span m='1538130'>the</span> <span m='1538220'>matches.</span>
  <span m='1539400'>Let's</span> <span m='1539570'>think</span> <span m='1539840'>we</span>
  <span m='1539900'>have an</span> <span m='1540080'>x-coordinate</span> <span m='1540630'>and
  a</span> <span m='1540710'>y-coordinate.</span> <span m='1541380'>We</span> <span
  m='1541400'>have</span> <span m='1541490'>an</span> <span m='1541550'>x</span> <span
  m='1541760'>range</span> <span m='1542030'>and</span> <span m='1542120'>a</span>
  <span m='1542150'>y</span> <span m='1542360'>range.</span> <span m='1543500'>Let's</span>
  <span m='1543680'>do</span> <span m='1543860'>this</span> <span m='1544040'>for</span>
  <span m='1544190'>x.</span> </p><p><span m='1544940'>Now,</span> <span m='1545180'>we</span>
  <span m='1545330'>have</span> <span m='1545720'>a</span> <span m='1545810'>representation</span>
  <span m='1546680'>of</span> <span m='1546800'>all</span> <span m='1547130'>the</span>
  <span m='1547250'>matches</span> <span m='1547700'>in</span> <span m='1547910'>x.</span>
  <span m='1548340'>So</span> <span m='1548510'>we</span> <span m='1548630'>want</span>
  <span m='1548930'>this</span> <span m='1549110'>rectangle.</span> <span m='1550490'>But</span>
  <span m='1550610'>we</span> <span m='1550700'>can</span> <span m='1550850'>get</span>
  <span m='1551030'>this</span> <span m='1551270'>entire</span> <span m='1551780'>slab</span>
  <span m='1553010'>in</span> <span m='1553160'>log</span> <span m='1553430'>n</span>
  <span m='1553580'>time,</span> <span m='1554360'>and</span> <span m='1554480'>we</span>
  <span m='1554570'>have</span> <span m='1555410'>log</span> <span m='1555710'>n</span>
  <span m='1555830'>subtrees</span> <span m='1556280'>that</span> <span m='1556400'>we</span>
  <span m='1556550'>now</span> <span m='1556760'>have</span> <span m='1556910'>to</span>
  <span m='1557030'>filter</span> <span m='1557360'>in</span> <span m='1557420'>terms</span>
  <span m='1557660'>of</span> <span m='1557720'>y.</span> <span m='1558080'>There's</span>
  <span m='1558200'>all</span> <span m='1558350'>these</span> <span m='1558500'>points</span>
  <span m='1558770'>out</span> <span m='1558890'>here</span> <span m='1559130'>that</span>
  <span m='1559250'>we</span> <span m='1559370'>don't</span> <span m='1559520'>care</span>
  <span m='1559730'>about.</span> <span m='1560610'>We</span> <span m='1560690'>want</span>
  <span m='1560870'>to</span> <span m='1560930'>get</span> <span m='1561050'>rid</span>
  <span m='1561170'>of</span> <span m='1561260'>those</span> <span m='1562040'>and</span>
  <span m='1562130'>just</span> <span m='1562280'>focus</span> <span m='1562640'>in</span>
  <span m='1562790'>on</span> <span m='1563720'>these</span> <span m='1563900'>points.</span>
  </p><p><span m='1565920'>So</span> <span m='1566030'>we're</span> <span m='1566120'>going</span>
  <span m='1566200'>to</span> <span m='1566300'>do</span> <span m='1566420'>the</span>
  <span m='1566540'>same</span> <span m='1566810'>thing</span> <span m='1567050'>on</span>
  <span m='1567320'>y,</span> <span m='1567980'>but</span> <span m='1568160'>we</span>
  <span m='1568280'>want</span> <span m='1568490'>to</span> <span m='1568550'>do</span>
  <span m='1568730'>that</span> <span m='1569270'>for</span> <span m='1569480'>this</span>
  <span m='1569680'>subtree.</span> <span m='1570530'>And</span> <span m='1570740'>we</span>
  <span m='1570830'>want</span> <span m='1570980'>to</span> <span m='1571040'>do</span>
  <span m='1571130'>it</span> <span m='1571190'>for</span> <span m='1571340'>this</span>
  <span m='1571700'>subtree,</span> <span m='1572270'>and</span> <span m='1572450'>for</span>
  <span m='1572540'>this</span> <span m='1572900'>subtree,</span> <span m='1573560'>so</span>
  <span m='1573800'>simple</span> <span m='1574100'>idea.</span> <span m='1575330'>For</span>
  <span m='1575510'>each</span> <span m='1575720'>subtree,</span> <span m='1578570'>let's</span>
  <span m='1578750'>call</span> <span m='1578930'>it</span> <span m='1579020'>an</span>
  <span m='1579140'>x</span> <span m='1579380'>subtree.</span> </p><p><span m='1580470'>So</span>
  <span m='1580490'>we</span> <span m='1580580'>have</span> <span m='1580700'>one</span>
  <span m='1580970'>tree</span> <span m='1581300'>which</span> <span m='1581480'>represents</span>
  <span m='1581960'>all</span> <span m='1582200'>the</span> <span m='1582290'>x</span>
  <span m='1582560'>data.</span> <span m='1582810'>It</span> <span m='1582860'>looks</span>
  <span m='1583070'>just</span> <span m='1583280'>like</span> <span m='1583460'>this.</span>
  <span m='1584690'>And</span> <span m='1584810'>then</span> <span m='1584930'>for</span>
  <span m='1585080'>each</span> <span m='1585290'>subtree</span> <span m='1585770'>of</span>
  <span m='1585860'>that</span> <span m='1586010'>x</span> <span m='1586220'>tree,</span>
  <span m='1587930'>we</span> <span m='1588170'>store,</span> <span m='1591860'>let's
  say,</span> <span m='1592280'>a</span> <span m='1592700'>pointer</span> <span m='1596600'>to</span>
  <span m='1597530'>a</span> <span m='1597680'>y</span> <span m='1598100'>tree,</span>
  <span m='1599750'>which</span> <span m='1599930'>is</span> <span m='1600050'>also</span>
  <span m='1600560'>a</span> <span m='1600740'>1D</span> <span m='1601010'>range</span>
  <span m='1601490'>tree.</span> </p><p><span m='1603230'>So</span> <span m='1606720'>this</span>
  <span m='1606960'>guy</span> <span m='1607410'>has</span> <span m='1607740'>a</span>
  <span m='1607800'>pointer</span> <span m='1608760'>to</span> <span m='1609060'>a</span>
  <span m='1610800'>similarly</span> <span m='1611430'>sized</span> <span m='1611760'>triangle.</span>
  <span m='1612720'>Except,</span> <span m='1613020'>this</span> <span m='1613230'>one</span>
  <span m='1613470'>is</span> <span m='1613680'>on</span> <span m='1613920'>y.</span>
  <span m='1614370'>This</span> <span m='1614550'>one's</span> <span m='1614730'>sorted</span>
  <span m='1615000'>by</span> <span m='1615180'>x.</span> <span m='1615600'>This one's</span>
  <span m='1615720'>sorted</span> <span m='1615990'>by</span> <span m='1616140'>y,</span>
  <span m='1616680'>same</span> <span m='1617070'>points.</span> </p><p><span m='1618620'>This</span>
  <span m='1618820'>subtree</span> <span m='1619590'>also</span> <span m='1619920'>has</span>
  <span m='1620250'>one,</span> <span m='1621180'>same</span> <span m='1621690'>data</span>
  <span m='1622080'>as</span> <span m='1622290'>over</span> <span m='1622500'>here,</span>
  <span m='1624210'>but</span> <span m='1624420'>now</span> <span m='1624600'>sorted</span>
  <span m='1624860'>an</span> <span m='1624900'>y instead</span> <span m='1625500'>of</span>
  <span m='1625590'>x.</span> <span m='1627000'>For</span> <span m='1627600'>example,</span>
  <span m='1629610'>there</span> <span m='1629980'>is</span> <span m='1630120'>a</span>
  <span m='1630210'>smaller</span> <span m='1630630'>tree</span> <span m='1630930'>inside</span>
  <span m='1631380'>this</span> <span m='1631560'>one.</span> <span m='1632220'>That</span>
  <span m='1632400'>one</span> <span m='1632580'>also</span> <span m='1633000'>has</span>
  <span m='1633450'>a</span> <span m='1633540'>pointer</span> <span m='1634050'>to</span>
  <span m='1634500'>a</span> <span m='1634680'>smaller</span> <span m='1635580'>y</span>
  <span m='1635820'>tree.</span> <span m='1636240'>Except, now,</span> <span m='1636420'>these</span>
  <span m='1636600'>are</span> <span m='1636690'>disjoined,</span> <span m='1637260'>because</span>
  <span m='1637440'>these</span> <span m='1637590'>are</span> <span m='1637680'>completely--</span>
  <span m='1639180'>yeah.</span> </p><p><span m='1639720'>This</span> <span m='1639870'>is</span>
  <span m='1639990'>a</span> <span m='1640050'>subset</span> <span m='1640410'>of</span>
  <span m='1640500'>that</span> <span m='1640680'>one.</span> <span m='1641670'>But</span>
  <span m='1641910'>we're</span> <span m='1642060'>going</span> <span m='1642170'>to</span>
  <span m='1642240'>store</span> <span m='1642930'>a</span> <span m='1642990'>y</span>
  <span m='1643230'>tree</span> <span m='1643410'>for</span> <span m='1643530'>this</span>
  <span m='1643710'>one</span> <span m='1643890'>and</span> <span m='1644020'>a</span>
  <span m='1644090'>y</span> <span m='1644250'>tree</span> <span m='1644400'>for</span>
  <span m='1644550'>this</span> <span m='1644730'>one.</span> <span m='1644980'>So</span>
  <span m='1645000'>we're</span> <span m='1645090'>blowing</span> <span m='1645480'>up</span>
  <span m='1645600'>space.</span> <span m='1649320'>Every</span> <span m='1649650'>element,</span>
  <span m='1650070'>every</span> <span m='1650310'>point</span> <span m='1654750'>lives</span>
  <span m='1656430'>in</span> <span m='1658430'>log</span> <span m='1658860'>n</span>
  <span m='1659920'>y</span> <span m='1660210'>trees.</span> </p><p><span m='1663270'>Because</span>
  <span m='1663450'>if</span> <span m='1663570'>you</span> <span m='1663630'>look</span>
  <span m='1663810'>at</span> <span m='1663900'>a</span> <span m='1663930'>point,</span>
  <span m='1664590'>there's</span> <span m='1664810'>the</span> <span m='1664900'>tiny</span>
  <span m='1665250'>y</span> <span m='1665400'>tree</span> <span m='1665550'>that</span>
  <span m='1665640'>contains</span> <span m='1666000'>it</span> <span m='1666060'>bigger,</span>
  <span m='1666490'>bigger,</span> <span m='1666790'>bigger,</span> <span m='1667090'>bigger</span>
  <span m='1667290'>until</span> <span m='1667530'>the</span> <span m='1667680'>entire</span>
  <span m='1668100'>tree</span> <span m='1668340'>also</span> <span m='1668580'>contains
  it.</span> <span m='1669050'>Each</span> <span m='1669300'>of</span> <span m='1669360'>those</span>
  <span m='1669600'>has</span> <span m='1669750'>a</span> <span m='1669840'>corresponding</span>
  <span m='1670410'>y</span> <span m='1670610'>tree.</span> <span m='1671730'>So</span>
  <span m='1672090'>the</span> <span m='1672450'>overall</span> <span m='1672840'>space</span>
  <span m='1673230'>will</span> <span m='1673380'>be</span> <span m='1674510'>n</span>
  <span m='1674880'>log</span> <span m='1675140'>n.</span> </p><p><span m='1678550'>We're</span>
  <span m='1678700'>repeating</span> <span m='1679150'>points</span> <span m='1679510'>here.</span>
  <span m='1680810'>But</span> <span m='1680890'>the</span> <span m='1680980'>good</span>
  <span m='1681160'>news</span> <span m='1681370'>is</span> <span m='1681610'>now</span>
  <span m='1681850'>I</span> <span m='1681910'>can</span> <span m='1682060'>do</span>
  <span m='1682180'>search</span> <span m='1682480'>really</span> <span m='1682690'>efficiently,</span>
  <span m='1683350'>well,</span> <span m='1683500'>log</span> <span m='1683800'>squared</span>
  <span m='1684520'>efficiently.</span> <span m='1685330'>I</span> <span m='1685480'>spend</span>
  <span m='1685810'>log</span> <span m='1686210'>time</span> <span m='1686350'>to</span>
  <span m='1686440'>find</span> <span m='1686740'>these</span> <span m='1687040'>x</span>
  <span m='1687310'>trees</span> <span m='1687700'>that</span> <span m='1687790'>represent</span>
  <span m='1688360'>the</span> <span m='1688450'>slabs</span> <span m='1688960'>that</span>
  <span m='1689080'>I</span> <span m='1689170'>care</span> <span m='1689380'>about.</span>
  <span m='1690670'>So</span> <span m='1691030'>it's</span> <span m='1691330'>more</span>
  <span m='1691570'>like</span> <span m='1692350'>this</span> <span m='1692560'>picture.</span>
  </p><p><span m='1693970'>So</span> <span m='1694120'>there's</span> <span m='1694360'>a</span>
  <span m='1694390'>bunch</span> <span m='1694750'>of</span> <span m='1694930'>disjoint</span>
  <span m='1695350'>slabs,</span> <span m='1695860'>which</span> <span m='1696070'>together</span>
  <span m='1696460'>contain</span> <span m='1696820'>my</span> <span m='1696970'>points</span>
  <span m='1697780'>in</span> <span m='1697960'>x.</span> <span m='1699040'>And</span>
  <span m='1699190'>now</span> <span m='1699340'>I</span> <span m='1699400'>want</span>
  <span m='1699550'>to</span> <span m='1699610'>filter</span> <span m='1700000'>each</span>
  <span m='1700240'>of</span> <span m='1700330'>them</span> <span m='1700510'>by</span>
  <span m='1700690'>y.</span> <span m='1701200'>So</span> <span m='1701410'>for</span>
  <span m='1701530'>each</span> <span m='1701740'>of</span> <span m='1701800'>them,</span>
  <span m='1701980'>I</span> <span m='1702340'>jump</span> <span m='1702610'>over</span>
  <span m='1702820'>to</span> <span m='1702910'>y</span> <span m='1703120'>space</span>
  <span m='1703510'>and</span> <span m='1703600'>do</span> <span m='1703720'>a</span>
  <span m='1703780'>range</span> <span m='1704080'>query</span> <span m='1705020'>in</span>
  <span m='1705360'>y</span> <span m='1705730'>space</span> <span m='1707320'>just</span>
  <span m='1707590'>like</span> <span m='1708100'>what</span> <span m='1708250'>we
  were</span> <span m='1708400'>doing</span> <span m='1708670'>here.</span> <span
  m='1709490'>So</span> <span m='1709650'>search</span> <span m='1709870'>for</span>
  <span m='1710020'>a,</span> <span m='1710200'>search</span> <span m='1710500'>for</span>
  <span m='1710600'>b,</span> <span m='1711130'>but</span> <span m='1711310'>in</span>
  <span m='1711460'>y-coordinate.</span> </p><p><span m='1713470'>And</span> <span
  m='1713650'>then</span> <span m='1713770'>I</span> <span m='1713830'>get</span>
  <span m='1714010'>log</span> <span m='1714370'>n</span> <span m='1715000'>subtrees</span>
  <span m='1715580'>in</span> <span m='1715680'>here,</span> <span m='1715840'>log</span>
  <span m='1716080'>n</span> <span m='1716170'>subtrees in</span> <span m='1716630'>here,</span>
  <span m='1716860'>log</span> <span m='1717180'>n</span> <span m='1717370'>subtrees</span>
  <span m='1717580'>in</span> <span m='1717670'>here.</span> <span m='1718360'>So</span>
  <span m='1718510'>the</span> <span m='1718630'>query</span> <span m='1719380'>gives</span>
  <span m='1719650'>me</span> <span m='1722170'>log</span> <span m='1722530'>squared</span>
  <span m='1726110'>y</span> <span m='1726550'>subtrees.</span> <span m='1729066'>It</span>
  <span m='1729500'>takes</span> <span m='1729730'>me</span> <span m='1729850'>log</span>
  <span m='1730090'>squared</span> <span m='1730330'>n</span> <span m='1730480'>time</span>
  <span m='1730690'>to</span> <span m='1730750'>find</span> <span m='1731050'>them.</span>
  <span m='1731690'>If</span> <span m='1731880'>I</span> <span m='1731970'>have</span>
  <span m='1732160'>subtree</span> <span m='1732490'>sizes,</span> <span m='1732880'>I</span>
  <span m='1732940'>compute</span> <span m='1733390'>the</span> <span m='1733480'>number</span>
  <span m='1733720'>of</span> <span m='1733780'>matches</span> <span m='1734050'>in</span>
  <span m='1734470'>log</span> <span m='1734650'>squared</span> <span m='1734860'>n</span>
  <span m='1735070'>time.</span> <span m='1735740'>If</span> <span m='1736650'>I</span>
  <span m='1736720'>want</span> <span m='1736900'>k</span> <span m='1737080'>items,</span>
  <span m='1737470'>I</span> <span m='1737530'>can</span> <span m='1737680'>grab k</span>
  <span m='1738010'>items</span> <span m='1738340'>out</span> <span m='1738460'>of</span>
  <span m='1738550'>them</span> <span m='1738730'>in</span> <span m='1738820'>order</span>
  <span m='1739030'>k</span> <span m='1739210'>time.</span> </p><p><span m='1740730'>OK.</span>
  <span m='1741980'>Pretty</span> <span m='1742160'>easy.</span> <span m='1743000'>Of</span>
  <span m='1743060'>course,</span> <span m='1743420'>D</span> <span m='1743600'>dimensions</span>
  <span m='1744080'>is</span> <span m='1744140'>just</span> <span m='1744350'>the</span>
  <span m='1744440'>same</span> <span m='1745100'>trick.</span> <span m='1746300'>You</span>
  <span m='1746390'>have</span> <span m='1746600'>x</span> <span m='1746900'>tree.</span>
  <span m='1747770'>Every</span> <span m='1748060'>subtree</span> <span m='1748400'>links</span>
  <span m='1748600'>to</span> <span m='1748710'>a</span> <span m='1748730'>y</span>
  <span m='1748970'>tree.</span> <span m='1749390'>Every</span> <span m='1749720'>y</span>
  <span m='1749960'>subtree</span> <span m='1750440'>links</span> <span m='1750620'>to</span>
  <span m='1750710'>a</span> <span m='1750800'>z</span> <span m='1750950'>tree.</span>
  <span m='1751320'>Every</span> <span m='1751490'>z</span> <span m='1751880'>subtree</span>
  <span m='1752090'>links</span> <span m='1752270'>to</span> <span m='1752390'>a</span>
  <span m='1752450'>w</span> <span m='1752840'>tree,</span> <span m='1753210'>and</span>
  <span m='1753580'>so</span> <span m='1753760'>on.</span> </p><p><span m='1755030'>For</span>
  <span m='1755270'>D</span> <span m='1755510'>dimensions,</span> <span m='1756770'>you're</span>
  <span m='1756920'>going</span> <span m='1757030'>to</span> <span m='1757130'>get</span>
  <span m='1758980'>log</span> <span m='1759270'>to</span> <span m='1759380'>the</span>
  <span m='1759500'>D</span> <span m='1759710'>query</span> <span m='1761360'>as</span>
  <span m='1761640'>I</span> <span m='1761810'>claimed</span> <span m='1762140'>before.</span>
  <span m='1764540'>How</span> <span m='1764690'>much</span> <span m='1764900'>space?</span>
  <span m='1765680'>Well,</span> <span m='1765890'>every</span> <span m='1766250'>dimension</span>
  <span m='1766700'>you</span> <span m='1766790'>add</span> <span m='1767030'>adds</span>
  <span m='1767210'>another</span> <span m='1767450'>log</span> <span m='1767690'>factor</span>
  <span m='1768050'>of</span> <span m='1768110'>space.</span> <span m='1769220'>So
  it's</span> <span m='1769370'>going</span> <span m='1769520'>to</span> <span m='1769610'>be</span>
  <span m='1769760'>n</span> <span m='1770690'>log</span> <span m='1771290'>to</span>
  <span m='1771440'>the</span> <span m='1771610'>d minus</span> <span m='1772220'>1</span>
  <span m='1773660'>space.</span> </p><p><span m='1775520'>And</span> <span m='1775790'>if</span>
  <span m='1775910'>you</span> <span m='1776180'>want</span> <span m='1776420'>to</span>
  <span m='1776480'>do</span> <span m='1776570'>this</span> <span m='1776720'>statically,</span>
  <span m='1778340'>you</span> <span m='1778490'>can</span> <span m='1778640'>also</span>
  <span m='1778880'>build</span> <span m='1779210'>the</span> <span m='1779330'>data</span>
  <span m='1779570'>structure</span> <span m='1781400'>in</span> <span m='1784970'>n
  log</span> <span m='1785540'>to</span> <span m='1785660'>the</span> <span m='1785750'>d
  minus</span> <span m='1786260'>1</span> <span m='1786530'>n</span> <span m='1787700'>time,</span>
  <span m='1788360'>except</span> <span m='1788780'>for</span> <span m='1788900'>d
  equals</span> <span m='1789320'>1</span> <span m='1789530'>where</span> <span m='1789620'>you</span>
  <span m='1789680'>need</span> <span m='1789880'>n</span> <span m='1790000'>log</span>
  <span m='1790220'>n</span> <span m='1790400'>time</span> <span m='1790840'>to</span>
  <span m='1790940'>sort.</span> <span m='1792020'>But</span> <span m='1792170'>as</span>
  <span m='1792260'>long</span> <span m='1792500'>as</span> <span m='1792590'>d is</span>
  <span m='1792860'>bigger</span> <span m='1793070'>than</span> <span m='1793220'>1,</span>
  <span m='1793940'>this</span> <span m='1794120'>is</span> <span m='1794210'>the</span>
  <span m='1794300'>right</span> <span m='1794510'>bound</span> <span m='1794810'>for</span>
  <span m='1795560'>higher</span> <span m='1795770'>dimensions.</span> <span m='1796900'>It</span>
  <span m='1796980'>takes</span> <span m='1797210'>a</span> <span m='1797240'>little</span>
  <span m='1797480'>bit</span> <span m='1797600'>of</span> <span m='1797750'>effort</span>
  <span m='1798110'>to</span> <span m='1799400'>actually</span> <span m='1799730'>build</span>
  <span m='1799970'>the</span> <span m='1800060'>structure</span> <span m='1800510'>in</span>
  <span m='1800660'>that</span> <span m='1800810'>much</span> <span m='1801020'>time,</span>
  <span m='1801470'>but</span> <span m='1802220'>it</span> <span m='1802310'>can</span>
  <span m='1802430'>be</span> <span m='1802490'>done.</span> </p><p><span m='1806070'>OK.</span>
  <span m='1806510'>That's</span> <span m='1806750'>the</span> <span m='1806990'>very</span>
  <span m='1807200'>simple</span> <span m='1807530'>data</span> <span m='1807710'>structure.</span>
  <span m='1808010'>Any</span> <span m='1808160'>questions</span> <span m='1808550'>about</span>
  <span m='1808760'>that</span> <span m='1808940'>before</span> <span m='1809300'>we</span>
  <span m='1809480'>make</span> <span m='1809690'>it</span> <span m='1809780'>cooler?</span>
  <span m='1811790'>You</span> <span m='1811850'>may</span> <span m='1812000'>have</span>
  <span m='1812090'>seen</span> <span m='1812330'>this</span> <span m='1812450'>data</span>
  <span m='1812600'>structure</span> <span m='1812900'>before.</span> <span m='1813200'>It's</span>
  <span m='1813320'>kind</span> <span m='1813470'>of</span> <span m='1813590'>classic.</span>
  <span m='1814700'>But</span> <span m='1814850'>you</span> <span m='1815000'>can</span>
  <span m='1815090'>do</span> <span m='1815210'>much</span> <span m='1815540'>better,</span>
  <span m='1816720'>well,</span> <span m='1816890'>at</span> <span m='1816950'>least</span>
  <span m='1817190'>a log</span> <span m='1817460'>factor</span> <span m='1817790'>better.</span>
  </p><p><span m='1818506'>AUDIENCE:</span> <span m='1818714'>Question.</span> </p><p><span
  m='1819340'>ERIK DEMAINE:</span> <span m='1819535'>Yeah.</span> </p><p><span m='1819730'>AUDIENCE:</span>
  <span m='1819890'>So</span> <span m='1821658'>when your</span> <span m='1822140'>storing</span>
  <span m='1822622'>one pointer for each</span> <span m='1823104'>subtree,</span>
  <span m='1823586'>you</span> <span m='1824068'>essentially</span> <span m='1825032'>have
  a</span> <span m='1825514'>pointer</span> <span m='1825996'>for each</span> <span
  m='1826478'>root,</span> <span m='1826960'>like</span> <span m='1827442'>for each
  node?</span> </p><p><span m='1827930'>ERIK DEMAINE:</span> <span m='1828110'>Yeah.</span>
  <span m='1828290'>Right.</span> <span m='1828560'>Every</span> <span m='1828830'>node.</span>
  <span m='1829520'>So</span> <span m='1829700'>I</span> <span m='1829790'>know</span>
  <span m='1830000'>these</span> <span m='1830270'>are</span> <span m='1830360'>the</span>
  <span m='1830450'>nodes</span> <span m='1830810'>that</span> <span m='1831910'>the</span>
  <span m='1832040'>stuff</span> <span m='1832310'>below</span> <span m='1832610'>them</span>
  <span m='1832790'>represents</span> <span m='1833210'>my</span> <span m='1833510'>answer</span>
  <span m='1833870'>in</span> <span m='1833960'>x.</span> <span m='1834410'>And</span>
  <span m='1834530'>so</span> <span m='1834710'>I</span> <span m='1834830'>teleport</span>
  <span m='1835430'>over</span> <span m='1835700'>to</span> <span m='1835910'>the</span>
  <span m='1836030'>y</span> <span m='1836270'>universe</span> <span m='1837260'>from</span>
  <span m='1837470'>the x</span> <span m='1837770'>universe.</span> </p><p><span m='1838460'>AUDIENCE:</span>
  <span m='1838579'>So,</span> <span m='1838817'>basically,</span> <span m='1838936'>it
  has all</span> <span m='1839412'>the same</span> <span m='1839888'>nodes</span>
  <span m='1840364'>of that</span> <span m='1840840'>subtree,</span> <span m='1841316'>but</span>
  <span m='1841792'>[INAUDIBLE]</span> </p><p><span m='1842270'>ERIK DEMAINE:</span>
  <span m='1842405'>Yeah.</span> <span m='1842540'>All the</span> <span m='1842630'>points</span>
  <span m='1842930'>that</span> <span m='1843020'>are</span> <span m='1843110'>in</span>
  <span m='1843260'>here</span> <span m='1844040'>also</span> <span m='1844340'>live</span>
  <span m='1844580'>in</span> <span m='1844700'>here,</span> <span m='1845000'>except</span>
  <span m='1845360'>these</span> <span m='1845540'>ones</span> <span m='1845690'>are</span>
  <span m='1845750'>sorted</span> <span m='1846020'>by</span> <span m='1846170'>x.</span>
  <span m='1846460'>These ones</span> <span m='1846830'>are</span> <span m='1846890'>sorted</span>
  <span m='1847160'>by</span> <span m='1847310'>y.</span> <span m='1848090'>If</span>
  <span m='1848180'>I</span> <span m='1848270'>kept</span> <span m='1848510'>following</span>
  <span m='1848870'>pointers,</span> <span m='1849170'>I</span> <span m='1849260'>get</span>
  <span m='1849410'>to z</span> <span m='1849830'>and</span> <span m='1849920'>w</span>
  <span m='1850330'>and</span> <span m='1850460'>so</span> <span m='1850620'>on.</span>
  <span m='1853210'>Other</span> <span m='1853360'>questions?</span> <span m='1853960'>Yeah.</span>
  </p><p><span m='1854880'>AUDIENCE:</span> <span m='1855033'>So</span> <span m='1855186'>if</span>
  <span m='1855340'>we were doing the</span> <span m='1855800'>dynamic</span> <span
  m='1856260'>case,</span> <span m='1856720'>how</span> <span m='1857180'>would we</span>
  <span m='1857640'>implement</span> <span m='1858100'>rotations in the</span> <span
  m='1858560'>[INAUDIBLE]?</span> </p><p><span m='1859020'>ERIK DEMAINE:</span> <span
  m='1859160'>OK.</span> <span m='1862850'>Dynamic</span> <span m='1864190'>is</span>
  <span m='1864740'>annoying.</span> <span m='1865400'>Yeah.</span> <span m='1865670'>Rotations</span>
  <span m='1866540'>are</span> <span m='1867560'>annoying.</span> <span m='1868100'>I</span>
  <span m='1868160'>think</span> <span m='1868430'>we'll</span> <span m='1868610'>come</span>
  <span m='1868850'>back</span> <span m='1869090'>to</span> <span m='1869210'>that.</span>
  <span m='1870710'>We</span> <span m='1870920'>can</span> <span m='1871130'>solve</span>
  <span m='1871490'>that.</span> </p><p><span m='1871970'>I</span> <span m='1872060'>thought</span>
  <span m='1872270'>it</span> <span m='1872330'>was</span> <span m='1872480'>easy,</span>
  <span m='1872990'>but</span> <span m='1873170'>you're</span> <span m='1873290'>right.</span>
  <span m='1873470'>Rotations</span> <span m='1873980'>are</span> <span m='1874070'>kind</span>
  <span m='1874280'>of</span> <span m='1874370'>annoying.</span> <span m='1875630'>And</span>
  <span m='1876170'>we</span> <span m='1876500'>can</span> <span m='1876650'>solve</span>
  <span m='1876920'>that</span> <span m='1877000'>using</span> <span m='1877250'>this</span>
  <span m='1877370'>dynamization</span> <span m='1878410'>trick.</span> <span m='1878840'>So</span>
  <span m='1879200'>we</span> <span m='1879320'>don't</span> <span m='1879560'>have</span>
  <span m='1879770'>to</span> <span m='1879830'>worry</span> <span m='1879980'>about</span>
  <span m='1880220'>it</span> <span m='1880330'>till</span> <span m='1881420'>we</span>
  <span m='1881510'>get</span> <span m='1881720'>there.</span> </p><p><span m='1884000'>It's</span>
  <span m='1884130'>going</span> <span m='1884270'>to</span> <span m='1884360'>get</span>
  <span m='1884510'>even</span> <span m='1884720'>harder</span> <span m='1884960'>to</span>
  <span m='1885050'>make</span> <span m='1885200'>things</span> <span m='1885410'>dynamic.</span>
  <span m='1886010'>And</span> <span m='1886160'>so</span> <span m='1886310'>then</span>
  <span m='1886610'>we</span> <span m='1886730'>really</span> <span m='1887120'>need</span>
  <span m='1887270'>to</span> <span m='1887360'>pull</span> <span m='1887540'>out</span>
  <span m='1887720'>the</span> <span m='1887840'>black</span> <span m='1888080'>box.</span>
  <span m='1890880'>Well,</span> <span m='1891230'>it's</span> <span m='1891490'>not</span>
  <span m='1891610'>a</span> <span m='1891670'>black</span> <span m='1891880'>box.</span>
  <span m='1892120'>We're</span> <span m='1892210'>going</span> <span m='1892330'>to</span>
  <span m='1892390'>see</span> <span m='1892540'>how</span> <span m='1892660'>it</span>
  <span m='1892720'>works.</span> <span m='1893540'>But</span> <span m='1893590'>it's</span>
  <span m='1893710'>a</span> <span m='1893770'>general</span> <span m='1894100'>transformation</span>
  <span m='1894790'>that</span> <span m='1894880'>makes</span> <span m='1895060'>things</span>
  <span m='1895270'>dynamic.</span> </p><p><span m='1900680'>OK.</span> <span m='1903830'>Before</span>
  <span m='1904280'>we</span> <span m='1904400'>get</span> <span m='1904550'>a</span>
  <span m='1904610'>dynamic,</span> <span m='1905390'>stick</span> <span m='1905690'>with</span>
  <span m='1905810'>static.</span> <span m='1906980'>And</span> <span m='1907340'>let's</span>
  <span m='1907520'>improve</span> <span m='1907970'>things</span> <span m='1908300'>by</span>
  <span m='1908510'>a</span> <span m='1908540'>log</span> <span m='1908840'>factor.</span>
  <span m='1914530'>This</span> <span m='1914740'>is</span> <span m='1914860'>an</span>
  <span m='1914950'>idea</span> <span m='1915310'>called</span> <span m='1915910'>layered</span>
  <span m='1916330'>range</span> <span m='1916660'>trees.</span> <span m='1922240'>It's</span>
  <span m='1922540'>also</span> <span m='1924970'>sometimes</span> <span m='1925390'>called</span>
  <span m='1925600'>fractional</span> <span m='1926230'>cascading,</span> <span m='1927520'>which</span>
  <span m='1927700'>is</span> <span m='1927820'>the</span> <span m='1927910'>technique</span>
  <span m='1928390'>we're</span> <span m='1928570'>going</span> <span m='1928840'>to</span>
  <span m='1928960'>get</span> <span m='1929080'>to</span> <span m='1929470'>later.</span>
  </p><p><span m='1930190'>I</span> <span m='1930310'>would</span> <span m='1930460'>say</span>
  <span m='1930670'>it</span> <span m='1930760'>involves</span> <span m='1931180'>one</span>
  <span m='1931500'>half</span> <span m='1931810'>of</span> <span m='1931870'>fractional</span>
  <span m='1932260'>cascading.</span> <span m='1932740'>Fractional</span> <span m='1933070'>cascading</span>
  <span m='1933490'>has</span> <span m='1933670'>two</span> <span m='1933880'>ideas.</span>
  <span m='1934960'>And</span> <span m='1935110'>the</span> <span m='1935230'>one</span>
  <span m='1935530'>that</span> <span m='1935680'>it's</span> <span m='1935800'>named</span>
  <span m='1936100'>after</span> <span m='1936520'>is</span> <span m='1936640'>not</span>
  <span m='1936910'>this</span> <span m='1937090'>idea.</span> <span m='1937800'>So</span>
  <span m='1938410'>idea</span> <span m='1938860'>one</span> <span m='1939700'>is</span>
  <span m='1939880'>basically</span> <span m='1940420'>to</span> <span m='1940780'>reuse</span>
  <span m='1941530'>searches.</span> <span m='1943420'>The</span> <span m='1943510'>idea</span>
  <span m='1943780'>is</span> <span m='1943960'>we're</span> <span m='1944080'>searching</span>
  <span m='1944590'>in</span> <span m='1944740'>this</span> <span m='1944920'>subtree</span>
  <span m='1945490'>or,</span> <span m='1945580'>I</span> <span m='1945640'>guess,</span>
  <span m='1945850'>this</span> <span m='1946000'>subtree</span> <span m='1947080'>with</span>
  <span m='1947290'>respect</span> <span m='1947590'>to</span> <span m='1947680'>y.</span>
  </p><p><span m='1947920'>We're</span> <span m='1948040'>also</span> <span m='1948400'>searching</span>
  <span m='1949180'>for</span> <span m='1949360'>the</span> <span m='1949480'>same</span>
  <span m='1949870'>interval</span> <span m='1950290'>of</span> <span m='1950380'>y</span>
  <span m='1951430'>in</span> <span m='1951550'>this</span> <span m='1951730'>subtree.</span>
  <span m='1952150'>Completely</span> <span m='1952570'>different</span> <span m='1952810'>elements,</span>
  <span m='1953710'>but</span> <span m='1953830'>if</span> <span m='1953950'>there</span>
  <span m='1954050'>was</span> <span m='1954100'>some</span> <span m='1954400'>way</span>
  <span m='1954550'>we</span> <span m='1954670'>could</span> <span m='1954820'>reuse</span>
  <span m='1955240'>the</span> <span m='1955360'>searches</span> <span m='1955750'>for</span>
  <span m='1955900'>y</span> <span m='1956660'>in</span> <span m='1956810'>all</span>
  <span m='1957010'>of</span> <span m='1957100'>these</span> <span m='1957280'>log
  n</span> <span m='1957670'>subtrees,</span> <span m='1958150'>we</span> <span m='1958270'>could</span>
  <span m='1958420'>save</span> <span m='1958720'>a</span> <span m='1958750'>log</span>
  <span m='1959020'>factor.</span> <span m='1960160'>And</span> <span m='1960250'>it</span>
  <span m='1960310'>turns</span> <span m='1960550'>out</span> <span m='1960640'>we</span>
  <span m='1960760'>can.</span> <span m='1961550'>And</span> <span m='1961690'>this</span>
  <span m='1961840'>is</span> <span m='1961960'>one</span> <span m='1962200'>idea</span>
  <span m='1962440'>in</span> <span m='1962530'>fractional</span> <span m='1962920'>cascading,</span>
  <span m='1963520'>but</span> <span m='1963640'>there</span> <span m='1963730'>will</span>
  <span m='1963820'>be</span> <span m='1963940'>another</span> <span m='1964210'>one</span>
  <span m='1964840'>later.</span> </p><p><span m='1968110'>OK.</span> <span m='1970470'>So,</span>
  <span m='1972600'>fun</span> <span m='1972990'>stuff.</span> <span m='1973570'>This</span>
  <span m='1973680'>is</span> <span m='1973800'>where</span> <span m='1974850'>I</span>
  <span m='1974910'>want</span> <span m='1975060'>to</span> <span m='1975120'>change</span>
  <span m='1975450'>my</span> <span m='1975570'>notes.</span> <span m='1976170'>So</span>
  <span m='1977880'>we're</span> <span m='1978000'>searching</span> <span m='1978450'>in</span>
  <span m='1978570'>x</span> <span m='1981300'>with</span> <span m='1981470'>a</span>
  <span m='1981540'>regular</span> <span m='1981970'>1D</span> <span m='1982180'>range</span>
  <span m='1982490'>tree.</span> <span m='1983190'>I</span> <span m='1983310'>also</span>
  <span m='1983700'>want</span> <span m='1983820'>to</span> <span m='1983910'>have</span>
  <span m='1984210'>a</span> <span m='1984240'>regular</span> <span m='1984660'>1D</span>
  <span m='1984990'>range</span> <span m='1985350'>tree--</span> <span m='1987490'>range
  tree?</span> <span m='1988650'>Sure.</span> </p><p><span m='1989430'>Actually,</span>
  <span m='1989710'>it</span> <span m='1989760'>doesn't</span> <span m='1990000'>matter</span>
  <span m='1990240'>too</span> <span m='1990360'>much.</span> <span m='1990730'>I</span>
  <span m='1990830'>want</span> <span m='1990840'>to</span> <span m='1990900'>have</span>
  <span m='1991020'>an</span> <span m='1991110'>array</span> <span m='1991980'>of</span>
  <span m='1992130'>all</span> <span m='1992340'>the</span> <span m='1992490'>items</span>
  <span m='1993180'>sorted</span> <span m='1993570'>by</span> <span m='1993750'>y-coordinate.</span>
  <span m='1996610'>And</span> <span m='1997540'>we're</span> <span m='1997690'>going</span>
  <span m='1997810'>to</span> <span m='1997870'>simplify</span> <span m='1998320'>things</span>
  <span m='1998620'>here.</span> <span m='1998740'>Instead</span> <span m='1999040'>of</span>
  <span m='1999100'>pointing</span> <span m='1999400'>to</span> <span m='1999520'>a</span>
  <span m='1999580'>tree,</span> <span m='2000360'>I'm</span> <span m='2000420'>going</span>
  <span m='2000540'>to</span> <span m='2000600'>point</span> <span m='2000810'>to</span>
  <span m='2000930'>an</span> <span m='2001020'>array</span> <span m='2001830'>sorted</span>
  <span m='2002160'>by</span> <span m='2002340'>y.</span> <span m='2002700'>This</span>
  <span m='2002880'>is</span> <span m='2003000'>totally</span> <span m='2003450'>static.</span>
  <span m='2004700'>And</span> <span m='2004830'>this</span> <span m='2004980'>is</span>
  <span m='2005070'>where</span> <span m='2006270'>dynamic</span> <span m='2006720'>gets</span>
  <span m='2006990'>harder,</span> <span m='2008640'>not</span> <span m='2008790'>that</span>
  <span m='2008880'>know</span> <span m='2008970'>how</span> <span m='2009280'>to</span>
  <span m='2009560'>do it</span> <span m='2009690'>over</span> <span m='2009840'>there</span>
  <span m='2010440'>yet.</span> </p><p><span m='2012000'>So</span> <span m='2012540'>for</span>
  <span m='2013020'>each</span> <span m='2015180'>x</span> <span m='2015390'>subtree,</span>
  <span m='2016320'>we're</span> <span m='2016380'>going</span> <span m='2016500'>to</span>
  <span m='2016560'>have</span> <span m='2016710'>a</span> <span m='2016770'>pointer</span>
  <span m='2017580'>to</span> <span m='2017670'>the</span> <span m='2017790'>same</span>
  <span m='2018060'>elements</span> <span m='2018870'>sorted</span> <span m='2019260'>by</span>
  <span m='2019450'>y.</span> <span m='2025360'>So</span> <span m='2026020'>all</span>
  <span m='2026230'>the</span> <span m='2026320'>leaves</span> <span m='2026620'>that</span>
  <span m='2026740'>are</span> <span m='2026800'>down</span> <span m='2027070'>here</span>
  <span m='2027430'>are,</span> <span m='2027910'>basically,</span> <span m='2028330'>also</span>
  <span m='2028930'>there,</span> <span m='2030250'>but</span> <span m='2030520'>by</span>
  <span m='2030730'>y</span> <span m='2031260'>coordinate</span> <span m='2031480'>instead</span>
  <span m='2031780'>of</span> <span m='2031880'>x.</span> <span m='2033460'>Obviously,</span>
  <span m='2033790'>we</span> <span m='2033880'>can</span> <span m='2034030'>still</span>
  <span m='2034270'>do</span> <span m='2034420'>the</span> <span m='2034540'>same</span>
  <span m='2034780'>thing</span> <span m='2035060'>we</span> <span m='2035160'>could</span>
  <span m='2035170'>do</span> <span m='2035290'>before,</span> <span m='2036130'>spend</span>
  <span m='2036430'>log n</span> <span m='2036880'>time</span> <span m='2037180'>to</span>
  <span m='2037270'>search</span> <span m='2037510'>in</span> <span m='2038200'>each</span>
  <span m='2038410'>of</span> <span m='2038470'>these</span> <span m='2038740'>log</span>
  <span m='2039070'>n</span> <span m='2039190'>arrays</span> <span m='2040240'>corresponding</span>
  <span m='2040750'>to</span> <span m='2040840'>these</span> <span m='2041310'>log</span>
  <span m='2041590'>n</span> <span m='2041710'>subtrees.</span> <span m='2042920'>And</span>
  <span m='2043000'>in</span> <span m='2043120'>log</span> <span m='2043360'>squared</span>
  <span m='2043660'>n,</span> <span m='2043870'>we'll</span> <span m='2043990'>have</span>
  <span m='2044530'>our</span> <span m='2044650'>answers.</span> </p><p><span m='2045710'>But</span>
  <span m='2045970'>we</span> <span m='2046180'>can</span> <span m='2046330'>do</span>
  <span m='2046450'>better</span> <span m='2046760'>now.</span> <span m='2047950'>I</span>
  <span m='2048040'>only</span> <span m='2048280'>want</span> <span m='2048429'>to</span>
  <span m='2048489'>do</span> <span m='2048670'>one</span> <span m='2049480'>binary</span>
  <span m='2049840'>search</span> <span m='2050290'>in</span> <span m='2050469'>y.</span>
  <span m='2051550'>And</span> <span m='2051670'>that</span> <span m='2051820'>will</span>
  <span m='2051940'>be</span> <span m='2052120'>at</span> <span m='2052300'>the</span>
  <span m='2052420'>root.</span> <span m='2053570'>So</span> <span m='2053610'>the</span>
  <span m='2053780'>root,</span> <span m='2054170'>there's</span> <span m='2054310'>an</span>
  <span m='2054400'>array</span> <span m='2054730'>representing</span> <span m='2055210'>everything</span>
  <span m='2055960'>sorted</span> <span m='2056260'>by</span> <span m='2056409'>y.</span>
  <span m='2057159'>I</span> <span m='2057280'>search</span> <span m='2057699'>for</span>
  <span m='2058690'>the</span> <span m='2058810'>lower</span> <span m='2059080'>y-coordinate.</span>
  <span m='2059724'>I</span> <span m='2060159'>search</span> <span m='2060400'>for</span>
  <span m='2060520'>the</span> <span m='2060610'>upper</span> <span m='2060909'>y-coordinate,</span>
  <span m='2062270'>some</span> <span m='2062540'>things.</span> </p><p><span m='2063820'>It's</span>
  <span m='2063969'>hard</span> <span m='2064120'>to</span> <span m='2064360'>draw</span>
  <span m='2064630'>this,</span> <span m='2064780'>because</span> <span m='2064960'>it's</span>
  <span m='2065170'>in</span> <span m='2065260'>the</span> <span m='2065380'>dimensional</span>
  <span m='2065790'>orthogonal</span> <span m='2066310'>to</span> <span m='2066429'>this</span>
  <span m='2066610'>one.</span> <span m='2066760'>I</span> <span m='2066820'>guess</span>
  <span m='2067000'>I</span> <span m='2067060'>should</span> <span m='2067210'>really</span>
  <span m='2067389'>draw</span> <span m='2067600'>the</span> <span m='2067719'>arrays</span>
  <span m='2068800'>like</span> <span m='2069610'>this.</span> <span m='2071239'>So</span>
  <span m='2071290'>this</span> <span m='2071500'>guy</span> <span m='2071650'>has</span>
  <span m='2071860'>an</span> <span m='2071949'>array.</span> <span m='2072760'>We</span>
  <span m='2072909'>find</span> <span m='2073360'>the</span> <span m='2073540'>upper</span>
  <span m='2073900'>and</span> <span m='2073989'>lower</span> <span m='2074260'>bounds</span>
  <span m='2074770'>for</span> <span m='2075070'>the</span> <span m='2075159'>y-coordinate</span>
  <span m='2076420'>in</span> <span m='2076540'>the</span> <span m='2076630'>global</span>
  <span m='2077139'>space.</span> <span m='2077500'>This</span> <span m='2077590'>takes</span>
  <span m='2077830'>log</span> <span m='2078100'>n</span> <span m='2078250'>time</span>
  <span m='2078580'>to do</span> <span m='2078909'>two</span> <span m='2079090'>searches.</span>
  <span m='2079960'>Question.</span> </p><p><span m='2080290'>AUDIENCE:</span> <span
  m='2080534'>Those</span> <span m='2080779'>are the upper and lower</span> <span
  m='2081268'>bounds</span> <span m='2081757'>from</span> <span m='2082246'>the predecessor</span>
  <span m='2082739'>[INAUDIBLE]</span> <span m='2083610'>successor</span> <span m='2083990'>[INAUDIBLE]?</span>
  </p><p><span m='2084370'>ERIK DEMAINE:</span> <span m='2084510'>Yeah,</span> <span
  m='2084909'>right.</span> <span m='2085130'>So</span> <span m='2085239'>we're</span>
  <span m='2085330'>doing</span> <span m='2085510'>a</span> <span m='2085570'>predecessor</span>
  <span m='2086110'>and</span> <span m='2086199'>successor</span> <span m='2086980'>search,</span>
  <span m='2087550'>let's</span> <span m='2087699'>say,</span> <span m='2087909'>in</span>
  <span m='2088030'>this</span> <span m='2088120'>array.</span> <span m='2088870'>Binary</span>
  <span m='2089170'>search</span> <span m='2089440'>we</span> <span m='2089560'>find--</span>
  <span m='2092170'>I</span> <span m='2092230'>didn't</span> <span m='2092409'>give</span>
  <span m='2092590'>them</span> <span m='2092710'>names,</span> <span m='2093100'>but</span>
  <span m='2094389'>in</span> <span m='2094570'>the</span> <span m='2094659'>notes</span>
  <span m='2094960'>they're</span> <span m='2095380'>a1</span> <span m='2096489'>through</span>
  <span m='2098620'>b1</span> <span m='2099250'>and</span> <span m='2099520'>x.</span>
  <span m='2100540'>And</span> <span m='2100780'>they're</span> <span m='2101560'>a2</span>
  <span m='2102740'>through</span> <span m='2103100'>b2</span> <span m='2103590'>and</span>
  <span m='2103750'>y.</span> <span m='2104560'>So</span> <span m='2104710'>that's</span>
  <span m='2104920'>my</span> <span m='2105070'>query,</span> <span m='2105770'>this</span>
  <span m='2105850'>rectangle.</span> <span m='2106740'>I'm</span> <span m='2106990'>doing</span>
  <span m='2107350'>the</span> <span m='2107410'>search</span> <span m='2107710'>for</span>
  <span m='2107830'>a2</span> <span m='2108220'>and</span> <span m='2108370'>for</span>
  <span m='2108550'>b2</span> <span m='2109450'>in</span> <span m='2109600'>the</span>
  <span m='2109690'>top</span> <span m='2110020'>array.</span> </p><p><span m='2111380'>Now,</span>
  <span m='2111400'>what</span> <span m='2111520'>I'd</span> <span m='2111640'>like</span>
  <span m='2111790'>to</span> <span m='2111910'>do</span> <span m='2112450'>is</span>
  <span m='2113080'>keep</span> <span m='2113380'>that</span> <span m='2113590'>information</span>
  <span m='2114460'>as</span> <span m='2114670'>I</span> <span m='2114790'>walk</span>
  <span m='2115090'>down</span> <span m='2115330'>the</span> <span m='2115420'>tree.</span>
  <span m='2118760'>So</span> <span m='2118960'>that</span> <span m='2119080'>in</span>
  <span m='2119230'>the</span> <span m='2119380'>end,</span> <span m='2119620'>when</span>
  <span m='2119830'>I</span> <span m='2119890'>get</span> <span m='2120160'>to</span>
  <span m='2120340'>these</span> <span m='2120640'>nodes,</span> <span m='2121390'>I</span>
  <span m='2121540'>know</span> <span m='2122620'>where</span> <span m='2123070'>I</span>
  <span m='2123220'>am</span> <span m='2123580'>in</span> <span m='2123790'>those</span>
  <span m='2124090'>arrays</span> <span m='2124660'>in</span> <span m='2124870'>y.</span>
  <span m='2126520'>So</span> <span m='2126640'>let's</span> <span m='2126850'>think</span>
  <span m='2127030'>of</span> <span m='2127120'>that</span> <span m='2127510'>just</span>
  <span m='2127690'>step</span> <span m='2127960'>by</span> <span m='2128110'>step.</span>
  </p><p><span m='2147460'>So</span> <span m='2147720'>imagine</span> <span m='2148200'>in</span>
  <span m='2148440'>the</span> <span m='2148940'>x</span> <span m='2149310'>tree,</span>
  <span m='2150890'>I'm</span> <span m='2151050'>at</span> <span m='2151200'>some</span>
  <span m='2151470'>node.</span> <span m='2153900'>And</span> <span m='2154080'>then</span>
  <span m='2154470'>I</span> <span m='2154620'>follow,</span> <span m='2155140'>let's</span>
  <span m='2155340'>say,</span> <span m='2155520'>a</span> <span m='2155580'>right</span>
  <span m='2155820'>pointer</span> <span m='2157080'>to</span> <span m='2158100'>the</span>
  <span m='2158190'>right</span> <span m='2158370'>child.</span> <span m='2159640'>OK.</span>
  <span m='2160080'>Now,</span> <span m='2160410'>in</span> <span m='2160710'>y</span>
  <span m='2160980'>space--</span> <span m='2162240'>maybe</span> <span m='2162600'>I</span>
  <span m='2162750'>should</span> <span m='2163530'>switch</span> <span m='2163920'>to</span>
  <span m='2164040'>red</span> <span m='2164820'>for y</span> <span m='2165080'>space.</span>
  <span m='2166500'>This</span> <span m='2166770'>guy</span> <span m='2168180'>has</span>
  <span m='2168510'>a</span> <span m='2168570'>really</span> <span m='2168930'>big</span>
  <span m='2169350'>array</span> <span m='2169980'>representing</span> <span m='2171630'>all</span>
  <span m='2171960'>of</span> <span m='2172110'>the</span> <span m='2172230'>nodes</span>
  <span m='2173010'>down</span> <span m='2173340'>here,</span> <span m='2174230'>but</span>
  <span m='2174420'>sorted</span> <span m='2174720'>by</span> <span m='2174870'>y-coordinate.</span>
  </p><p><span m='2176000'>This</span> <span m='2176220'>guy</span> <span m='2176550'>has</span>
  <span m='2176820'>a</span> <span m='2176880'>corresponding</span> <span m='2177510'>array</span>
  <span m='2178410'>with</span> <span m='2178560'>some</span> <span m='2178770'>subset</span>
  <span m='2179160'>of</span> <span m='2179240'>the</span> <span m='2179310'>nodes.</span>
  <span m='2180780'>Which</span> <span m='2181020'>subset?</span> <span m='2182160'>The</span>
  <span m='2182280'>ones</span> <span m='2182550'>that</span> <span m='2182670'>are</span>
  <span m='2182730'>to</span> <span m='2182880'>the</span> <span m='2183000'>right</span>
  <span m='2183480'>of</span> <span m='2183600'>this</span> <span m='2183810'>x-coordinate.</span>
  <span m='2184660'>So</span> <span m='2184680'>there's</span> <span m='2184890'>no</span>
  <span m='2185370'>relation.</span> <span m='2185790'>I</span> <span m='2185820'>mean,</span>
  <span m='2185940'>some</span> <span m='2186240'>of</span> <span m='2186330'>the</span>
  <span m='2186450'>guys</span> <span m='2187320'>that</span> <span m='2187470'>are</span>
  <span m='2187530'>here--</span> <span m='2188690'>let me</span> <span m='2188880'>circle</span>
  <span m='2189180'>them--</span> <span m='2192180'>some</span> <span m='2192450'>of</span>
  <span m='2192540'>these</span> <span m='2192720'>guys</span> <span m='2193590'>exist</span>
  <span m='2194010'>over</span> <span m='2194220'>here.</span> <span m='2194400'>They'll</span>
  <span m='2194550'>be</span> <span m='2194670'>in</span> <span m='2194760'>the</span>
  <span m='2194850'>same</span> <span m='2195210'>relative</span> <span m='2195660'>order.</span>
  </p><p><span m='2197740'>So</span> <span m='2197840'>here's</span> <span m='2198120'>those</span>
  <span m='2198570'>four</span> <span m='2198990'>guys,</span> <span m='2200070'>then</span>
  <span m='2200240'>one,</span> <span m='2200520'>and</span> <span m='2200640'>two.</span>
  <span m='2201220'>So</span> <span m='2201350'>some</span> <span m='2201600'>of</span>
  <span m='2201660'>these</span> <span m='2201840'>guys</span> <span m='2202950'>will</span>
  <span m='2203160'>be</span> <span m='2203430'>preserved</span> <span m='2203820'>over</span>
  <span m='2204030'>here.</span> <span m='2204180'>Some</span> <span m='2204420'>of</span>
  <span m='2204480'>them</span> <span m='2204630'>won't,</span> <span m='2204870'>because</span>
  <span m='2205140'>their</span> <span m='2205230'>x-coordinate</span> <span m='2205840'>smaller.</span>
  <span m='2206190'>It's</span> <span m='2206280'>an</span> <span m='2206400'>arbitrary</span>
  <span m='2206910'>subset.</span> <span m='2207780'>These</span> <span m='2207960'>guys</span>
  <span m='2208200'>will</span> <span m='2208320'>also</span> <span m='2208650'>live</span>
  <span m='2208890'>here.</span> </p><p><span m='2210660'>OK.</span> <span m='2211410'>The</span>
  <span m='2211500'>idea</span> <span m='2211830'>is</span> <span m='2212670'>store</span>
  <span m='2213060'>pointers</span> <span m='2213750'>from</span> <span m='2213990'>every</span>
  <span m='2214320'>element</span> <span m='2214650'>over</span> <span m='2214860'>here</span>
  <span m='2215550'>to,</span> <span m='2216180'>let's</span> <span m='2216390'>say,</span>
  <span m='2216600'>the</span> <span m='2216690'>successor</span> <span m='2217350'>over</span>
  <span m='2217560'>here.</span> <span m='2219090'>So</span> <span m='2219150'>store</span>
  <span m='2219450'>these</span> <span m='2219720'>red</span> <span m='2219960'>arrows.</span>
  <span m='2222680'>let's say,</span> <span m='2223170'>these</span> <span m='2223500'>guys</span>
  <span m='2224790'>all</span> <span m='2225000'>point</span> <span m='2225330'>to</span>
  <span m='2225480'>this</span> <span m='2225660'>node.</span> <span m='2226800'>These</span>
  <span m='2227040'>guys</span> <span m='2228420'>point</span> <span m='2228630'>to</span>
  <span m='2228720'>that</span> <span m='2228930'>node.</span> <span m='2229260'>I</span>
  <span m='2229320'>guess</span> <span m='2229500'>these</span> <span m='2229650'>guys</span>
  <span m='2229980'>just</span> <span m='2230160'>point</span> <span m='2230370'>to</span>
  <span m='2230490'>some</span> <span m='2231570'>adjacent</span> <span m='2231990'>node,</span>
  <span m='2232320'>either</span> <span m='2232490'>the</span> <span m='2232860'>predecessor</span>
  <span m='2233470'>or</span> <span m='2233550'>the</span> <span m='2233640'>successor.</span>
  </p><p><span m='2235550'>So</span> <span m='2235700'>the</span> <span m='2235820'>result</span>
  <span m='2236180'>is</span> <span m='2236420'>if</span> <span m='2236630'>I</span>
  <span m='2236750'>know</span> <span m='2237350'>where</span> <span m='2237760'>a2</span>
  <span m='2238190'>and</span> <span m='2238310'>b2</span> <span m='2238970'>live</span>
  <span m='2239330'>in</span> <span m='2239510'>this</span> <span m='2239750'>array,</span>
  <span m='2240740'>I</span> <span m='2240830'>can</span> <span m='2240980'>figure</span>
  <span m='2241280'>out</span> <span m='2241340'>where</span> <span m='2241530'>they</span>
  <span m='2241610'>live</span> <span m='2241760'>in</span> <span m='2241850'>this</span>
  <span m='2242030'>array.</span> <span m='2242250'>I just</span> <span m='2242420'>follow</span>
  <span m='2242720'>the</span> <span m='2242810'>pointer.</span> <span m='2243920'>Easy.</span>
  <span m='2245776'>Done.</span> </p><p><span m='2248240'>OK.</span> <span m='2248750'>Let's</span>
  <span m='2249080'>think</span> <span m='2249320'>about</span> <span m='2249540'>what</span>
  <span m='2249770'>this</span> <span m='2249950'>means.</span> <span m='2250350'>So</span>
  <span m='2251000'>I'm</span> <span m='2251120'>going</span> <span m='2251240'>to</span>
  <span m='2251330'>store</span> <span m='2253100'>pointers</span> <span m='2257150'>from</span>
  <span m='2258950'>the</span> <span m='2259070'>y</span> <span m='2259580'>array</span>
  <span m='2263120'>of</span> <span m='2264080'>some</span> <span m='2264440'>x</span>
  <span m='2264680'>node.</span> <span m='2269560'>Let's</span> <span m='2269670'>call</span>
  <span m='2269940'>that</span> <span m='2270180'>node</span> <span m='2270890'>v</span>
  <span m='2272130'>in</span> <span m='2272460'>the</span> <span m='2272640'>x</span>
  <span m='2272940'>tree</span> <span m='2276340'>to</span> <span m='2276960'>the</span>
  <span m='2277110'>corresponding</span> <span m='2278100'>places,</span> <span m='2284110'>corresponding</span>
  <span m='2284670'>points,</span> <span m='2284940'>let's</span> <span m='2285210'>say,</span>
  <span m='2287130'>in</span> <span m='2287550'>the</span> <span m='2287670'>y</span>
  <span m='2287970'>arrays</span> <span m='2291710'>of</span> <span m='2293950'>left</span>
  <span m='2294210'>child</span> <span m='2294540'>of</span> <span m='2294610'>v</span>
  <span m='2295410'>and</span> <span m='2295620'>the</span> <span m='2295740'>right</span>
  <span m='2295950'>child</span> <span m='2296280'>of</span> <span m='2296370'>v.</span>
  </p><p><span m='2296760'>So,</span> <span m='2296910'>actually,</span> <span m='2297270'>every</span>
  <span m='2298830'>array</span> <span m='2299610'>item</span> <span m='2299970'>is</span>
  <span m='2300060'>going</span> <span m='2300210'>to</span> <span m='2300270'>have</span>
  <span m='2300420'>two</span> <span m='2300600'>pointers,</span> <span m='2301050'>one</span>
  <span m='2301290'>if</span> <span m='2301410'>you're</span> <span m='2301530'>going</span>
  <span m='2301800'>right</span> <span m='2302250'>in</span> <span m='2302430'>the</span>
  <span m='2302520'>x tree,</span> <span m='2302960'>one</span> <span m='2303120'>if</span>
  <span m='2303190'>you're</span> <span m='2303290'>going</span> <span m='2303450'>the</span>
  <span m='2303500'>left</span> <span m='2303810'>in</span> <span m='2304890'>the</span>
  <span m='2305010'>x tree.</span> <span m='2306310'>But</span> <span m='2306540'>we</span>
  <span m='2306660'>can</span> <span m='2306780'>afford</span> <span m='2307020'>a</span>
  <span m='2307080'>constant</span> <span m='2307380'>number</span> <span m='2307570'>of</span>
  <span m='2307620'>pointers</span> <span m='2307980'>per</span> <span m='2308160'>node.</span>
  <span m='2308700'>This</span> <span m='2308930'>only</span> <span m='2309150'>increases</span>
  <span m='2309570'>space</span> <span m='2309900'>by</span> <span m='2310290'>a</span>
  <span m='2310650'>constant</span> <span m='2310980'>factor.</span> </p><p><span
  m='2312360'>And</span> <span m='2312480'>now,</span> <span m='2312660'>it</span>
  <span m='2312720'>tells</span> <span m='2312930'>me</span> <span m='2312990'>exactly</span>
  <span m='2313410'>what</span> <span m='2313560'>I</span> <span m='2313620'>need</span>
  <span m='2313800'>to</span> <span m='2313890'>know.</span> <span m='2314100'>I start</span>
  <span m='2314490'>at</span> <span m='2314580'>the</span> <span m='2314700'>root.</span>
  <span m='2315510'>I</span> <span m='2315630'>do</span> <span m='2315840'>a</span>
  <span m='2315870'>binary</span> <span m='2316260'>search.</span> <span m='2316590'>That's</span>
  <span m='2316860'>the</span> <span m='2316980'>slow</span> <span m='2317280'>part.</span>
  <span m='2317820'>I</span> <span m='2317910'>spend</span> <span m='2318150'>log</span>
  <span m='2318390'>n</span> <span m='2318510'>time,</span> <span m='2318810'>find</span>
  <span m='2319050'>those</span> <span m='2319200'>two</span> <span m='2319350'>slots.</span>
  <span m='2319740'>Every</span> <span m='2320010'>time</span> <span m='2320250'>I</span>
  <span m='2320310'>go</span> <span m='2320490'>down,</span> <span m='2321390'>I</span>
  <span m='2321480'>follow</span> <span m='2321840'>the</span> <span m='2321930'>pointer.</span>
  <span m='2322260'>I</span> <span m='2322320'>know</span> <span m='2322440'>exactly</span>
  <span m='2323070'>where</span> <span m='2325020'>a2</span> <span m='2325320'>and</span>
  <span m='2325440'>b2</span> <span m='2325830'>live</span> <span m='2326490'>in</span>
  <span m='2326610'>the</span> <span m='2326700'>next</span> <span m='2326940'>array.</span>
  </p><p><span m='2327120'>In</span> <span m='2327240'>constant</span> <span m='2327720'>time,</span>
  <span m='2328080'>as</span> <span m='2328230'>I</span> <span m='2328350'>walk</span>
  <span m='2328620'>down,</span> <span m='2329310'>I</span> <span m='2329400'>can</span>
  <span m='2329520'>figure</span> <span m='2329760'>this</span> <span m='2329910'>out.</span>
  <span m='2330070'>I</span> <span m='2330120'>can</span> <span m='2330270'>remember</span>
  <span m='2330660'>the</span> <span m='2330750'>information</span> <span m='2331180'>on</span>
  <span m='2331230'>both</span> <span m='2331440'>sides</span> <span m='2331800'>here.</span>
  <span m='2332430'>And</span> <span m='2332520'>every</span> <span m='2332700'>time</span>
  <span m='2332940'>I</span> <span m='2333000'>go</span> <span m='2333900'>to</span>
  <span m='2334140'>one</span> <span m='2334320'>of</span> <span m='2334410'>these</span>
  <span m='2334530'>subtrees,</span> <span m='2335940'>I</span> <span m='2336300'>know</span>
  <span m='2336660'>exactly</span> <span m='2337140'>where</span> <span m='2337320'>I</span>
  <span m='2337410'>live--</span> <span m='2338970'>it's</span> <span m='2339090'>no</span>
  <span m='2339210'>longer</span> <span m='2339450'>a tree--</span> <span m='2339750'>now,</span>
  <span m='2339930'>in</span> <span m='2340140'>that</span> <span m='2341370'>array.</span>
  </p><p><span m='2342940'>So</span> <span m='2342990'>I</span> <span m='2343050'>can</span>
  <span m='2343170'>identify</span> <span m='2343770'>the</span> <span m='2343890'>regions</span>
  <span m='2344520'>in</span> <span m='2344670'>these</span> <span m='2344880'>arrays.</span>
  <span m='2346710'>that</span> <span m='2346800'>correspond</span> <span m='2347430'>to</span>
  <span m='2348510'>these</span> <span m='2348870'>matching</span> <span m='2349830'>subrectangles</span>
  <span m='2351540'>with</span> <span m='2351780'>no</span> <span m='2352050'>extra</span>
  <span m='2352320'>time.</span> <span m='2352560'>So</span> <span m='2352650'>I</span>
  <span m='2352740'>save</span> <span m='2353070'>that</span> <span m='2353250'>last</span>
  <span m='2353610'>log</span> <span m='2353910'>factor.</span> <span m='2354630'>If</span>
  <span m='2354720'>you</span> <span m='2354810'>generalize</span> <span m='2355310'>this</span>
  <span m='2355480'>to D</span> <span m='2355750'>dimensions,</span> <span m='2356230'>it</span>
  <span m='2356310'>only</span> <span m='2356520'>works</span> <span m='2356730'>in</span>
  <span m='2356820'>the</span> <span m='2356910'>last</span> <span m='2357210'>dimension.</span>
  <span m='2357690'>You</span> <span m='2357750'>can</span> <span m='2357900'>use</span>
  <span m='2358020'>this</span> <span m='2358140'>trick</span> <span m='2358380'>in</span>
  <span m='2358950'>the</span> <span m='2359040'>last</span> <span m='2359310'>dimension</span>
  <span m='2359730'>and</span> <span m='2360060'>improve</span> <span m='2360540'>from</span>
  <span m='2360900'>log</span> <span m='2361170'>to the</span> <span m='2361290'>d</span>
  <span m='2361590'>query</span> <span m='2362580'>to</span> <span m='2362790'>log</span>
  <span m='2363090'>to</span> <span m='2363210'>the</span> <span m='2363330'>d minus</span>
  <span m='2363810'>1.</span> </p><p><span m='2365880'>In</span> <span m='2366120'>the</span>
  <span m='2366180'>higher</span> <span m='2366360'>dimensions,</span> <span m='2366840'>we</span>
  <span m='2366900'>just</span> <span m='2367050'>use</span> <span m='2367200'>regular</span>
  <span m='2367530'>range</span> <span m='2367800'>trees.</span> <span m='2368580'>And</span>
  <span m='2368700'>when</span> <span m='2368820'>we</span> <span m='2368910'>get</span>
  <span m='2369060'>down</span> <span m='2369330'>to</span> <span m='2369510'>the</span>
  <span m='2369630'>two</span> <span m='2369870'>dimensional</span> <span m='2370260'>case,</span>
  <span m='2370500'>it's</span> <span m='2370620'>a</span> <span m='2370680'>recursion.</span>
  <span m='2371900'>Before</span> <span m='2372240'>we</span> <span m='2372350'>were</span>
  <span m='2372450'>stopping</span> <span m='2372870'>at</span> <span m='2372960'>the</span>
  <span m='2373080'>one</span> <span m='2373230'>dimensional</span> <span m='2373650'>case.</span>
  <span m='2373920'>We</span> <span m='2374010'>use</span> <span m='2374130'>a</span>
  <span m='2374190'>regular</span> <span m='2375000'>binary</span> <span m='2375270'>search</span>
  <span m='2375540'>tree.</span> <span m='2376080'>Now,</span> <span m='2376260'>we</span>
  <span m='2376320'>stop</span> <span m='2376560'>at</span> <span m='2376650'>the</span>
  <span m='2376740'>two</span> <span m='2376920'>dimensional</span> <span m='2377310'>case,</span>
  <span m='2378390'>and</span> <span m='2378570'>we</span> <span m='2378660'>use</span>
  <span m='2378810'>this</span> <span m='2379020'>fancy</span> <span m='2379350'>thing.</span>
  </p><p><span m='2383370'>I</span> <span m='2383490'>call</span> <span m='2383670'>this</span>
  <span m='2383850'>cross-linking.</span> <span m='2384780'>A</span> <span m='2384810'>lot</span>
  <span m='2384960'>of</span> <span m='2385050'>people</span> <span m='2385290'>call</span>
  <span m='2385440'>it</span> <span m='2385500'>fractional</span> <span m='2385920'>cascading.</span>
  <span m='2386970'>Both</span> <span m='2387150'>are</span> <span m='2387240'>valid</span>
  <span m='2388620'>names.</span> <span m='2389520'>It's a</span> <span m='2389590'>cool</span>
  <span m='2389850'>idea,</span> <span m='2390630'>but</span> <span m='2390780'>simple</span>
  <span m='2391710'>once</span> <span m='2391980'>you</span> <span m='2392100'>can</span>
  <span m='2392310'>see</span> <span m='2393060'>both</span> <span m='2393300'>dimensions</span>
  <span m='2393780'>at</span> <span m='2393870'>once,</span> <span m='2394270'>which</span>
  <span m='2394350'>I</span> <span m='2394440'>know</span> <span m='2394560'>it's</span>
  <span m='2394680'>hard</span> <span m='2394800'>to</span> <span m='2394890'>see</span>
  <span m='2395040'>in</span> <span m='2395130'>two</span> <span m='2395280'>dimensions.</span>
  <span m='2395820'>But</span> <span m='2396390'>it</span> <span m='2396480'>can</span>
  <span m='2396630'>be</span> <span m='2396720'>done.</span> <span m='2399060'>All</span>
  <span m='2399150'>right.</span> <span m='2400630'>Questions?</span> </p><p><span
  m='2404270'>I</span> <span m='2404330'>guess</span> <span m='2404510'>the</span>
  <span m='2404600'>obvious</span> <span m='2404870'>question</span> <span m='2405170'>is</span>
  <span m='2405410'>dynamic.</span> <span m='2406700'>Now,</span> <span m='2407000'>we're</span>
  <span m='2407120'>going</span> <span m='2407230'>to</span> <span m='2407900'>go</span>
  <span m='2408080'>to</span> <span m='2408230'>dynamic.</span> <span m='2410040'>This</span>
  <span m='2410210'>is</span> <span m='2410360'>a</span> <span m='2410390'>very</span>
  <span m='2410600'>static</span> <span m='2411020'>thing</span> <span m='2411200'>to</span>
  <span m='2411290'>be</span> <span m='2411380'>doing.</span> <span m='2411860'>How</span>
  <span m='2412190'>in</span> <span m='2412310'>the</span> <span m='2412400'>world</span>
  <span m='2412760'>would</span> <span m='2412970'>we</span> <span m='2413090'>maintain</span>
  <span m='2413540'>this</span> <span m='2414190'>if</span> <span m='2414320'>the</span>
  <span m='2414440'>point</span> <span m='2414700'>set</span> <span m='2414800'>is</span>
  <span m='2414920'>changing?</span> </p><p><span m='2415340'>All</span> <span m='2415520'>these</span>
  <span m='2415670'>pointers</span> <span m='2416060'>are</span> <span m='2416120'>going</span>
  <span m='2416240'>to</span> <span m='2416300'>move</span> <span m='2416510'>around.</span>
  <span m='2417590'>Life</span> <span m='2417950'>seems</span> <span m='2418340'>so</span>
  <span m='2418820'>hard.</span> <span m='2420350'>But</span> <span m='2420680'>it's</span>
  <span m='2420860'>not.</span> <span m='2422330'>In</span> <span m='2422420'>fact,</span>
  <span m='2423260'>updates</span> <span m='2423620'>are</span> <span m='2423710'>a</span>
  <span m='2423740'>lot</span> <span m='2423890'>easier</span> <span m='2424220'>than</span>
  <span m='2424400'>you</span> <span m='2424490'>might</span> <span m='2424670'>think.</span>
  </p><p><span m='2445850'>Some</span> <span m='2446120'>of</span> <span m='2446240'>you</span>
  <span m='2446360'>may</span> <span m='2446510'>believe</span> <span m='2446840'>this</span>
  <span m='2448220'>in</span> <span m='2448370'>your</span> <span m='2448550'>heart.</span>
  <span m='2449540'>Some</span> <span m='2449990'>of you</span> <span m='2450200'>may</span>
  <span m='2450350'>not.</span> <span m='2451190'>But</span> <span m='2452270'>if</span>
  <span m='2452360'>you've</span> <span m='2452510'>ever</span> <span m='2452720'>seen</span>
  <span m='2452990'>an</span> <span m='2453110'>amortization</span> <span m='2455240'>argument</span>
  <span m='2455660'>that</span> <span m='2455750'>says,</span> <span m='2455960'>basically,</span>
  <span m='2456560'>when</span> <span m='2456740'>you</span> <span m='2456830'>modify</span>
  <span m='2457340'>a</span> <span m='2457400'>tree,</span> <span m='2457820'>only</span>
  <span m='2458060'>a</span> <span m='2458120'>constant</span> <span m='2458510'>number</span>
  <span m='2458690'>of</span> <span m='2458780'>things</span> <span m='2458990'>happen.</span>
  <span m='2459350'>And</span> <span m='2459440'>they</span> <span m='2459590'>usually</span>
  <span m='2460040'>happen</span> <span m='2460370'>near</span> <span m='2460520'>the</span>
  <span m='2460700'>leaves.</span> <span m='2461620'>I'm</span> <span m='2461740'>thinking</span>
  <span m='2462020'>of a</span> <span m='2462110'>binary</span> <span m='2462500'>search</span>
  <span m='2462800'>tree.</span> </p><p><span m='2463900'>The</span> <span m='2464240'>easiest</span>
  <span m='2464630'>way</span> <span m='2464750'>to</span> <span m='2464840'>see</span>
  <span m='2464960'>this</span> <span m='2465020'>is</span> <span m='2465110'>in</span>
  <span m='2465230'>a</span> <span m='2465330'>B-tree</span> <span m='2465700'>if</span>
  <span m='2466070'>you</span> <span m='2466130'>know</span> <span m='2466250'>B-trees.</span>
  <span m='2467870'>Usually,</span> <span m='2469100'>if</span> <span m='2469190'>you</span>
  <span m='2469280'>do</span> <span m='2469370'>insertion,</span> <span m='2469850'>you're</span>
  <span m='2469940'>going</span> <span m='2470060'>to</span> <span m='2470120'>do</span>
  <span m='2470240'>maybe</span> <span m='2470480'>one</span> <span m='2470660'>or</span>
  <span m='2470720'>two</span> <span m='2470870'>splits</span> <span m='2471230'>at
  the</span> <span m='2471350'>bottom,</span> <span m='2471650'>and</span> <span m='2471740'>that's</span>
  <span m='2471950'>it.</span> <span m='2473090'>Constant</span> <span m='2473425'>fraction
  at a</span> <span m='2473760'>time,</span> <span m='2473990'>that's</span> <span
  m='2474170'>all</span> <span m='2474290'>there</span> <span m='2474410'>is.</span>
  <span m='2474620'>So it</span> <span m='2474710'>should</span> <span m='2474920'>only</span>
  <span m='2475100'>take</span> <span m='2475250'>constant</span> <span m='2475580'>time</span>
  <span m='2475820'>to</span> <span m='2475880'>do</span> <span m='2476000'>an</span>
  <span m='2476060'>update.</span> </p><p><span m='2476900'>This</span> <span m='2477080'>structure</span>
  <span m='2477650'>is</span> <span m='2477860'>easy</span> <span m='2478190'>to</span>
  <span m='2478310'>update</span> <span m='2479150'>at</span> <span m='2479380'>the</span>
  <span m='2479500'>leaves.</span> <span m='2482100'>If</span> <span m='2482390'>you</span>
  <span m='2482480'>look</span> <span m='2482660'>at</span> <span m='2482780'>one</span>
  <span m='2482930'>of</span> <span m='2482990'>these</span> <span m='2483200'>structures,</span>
  <span m='2483710'>a</span> <span m='2483740'>constant</span> <span m='2484130'>number</span>
  <span m='2484310'>of</span> <span m='2484400'>items,</span> <span m='2485270'>there's</span>
  <span m='2485390'>a</span> <span m='2485420'>constant</span> <span m='2485810'>size</span>
  <span m='2486050'>array.</span> <span m='2486500'>You</span> <span m='2486620'>could</span>
  <span m='2486770'>update</span> <span m='2487010'>everything</span> <span m='2487490'>in</span>
  <span m='2487550'>constant</span> <span m='2487940'>time.</span> <span m='2489840'>If</span>
  <span m='2490130'>we're</span> <span m='2490280'>only</span> <span m='2490610'>up</span>
  <span m='2490720'>to</span> <span m='2490790'>hitting</span> <span m='2491210'>near</span>
  <span m='2491420'>the</span> <span m='2491510'>leaves,</span> <span m='2491870'>then</span>
  <span m='2492080'>life</span> <span m='2492320'>is</span> <span m='2492410'>good.</span>
  </p><p><span m='2493130'>Occasionally,</span> <span m='2493700'>though,</span> <span
  m='2493850'>we're</span> <span m='2493970'>going</span> <span m='2494120'>to</span>
  <span m='2494180'>have</span> <span m='2494330'>to</span> <span m='2494420'>update</span>
  <span m='2494720'>these</span> <span m='2494870'>giant</span> <span m='2495260'>structures.</span>
  <span m='2496620'>And</span> <span m='2496710'>then</span> <span m='2496800'>we're</span>
  <span m='2496910'>going</span> <span m='2496950'>to</span> <span m='2497000'>have</span>
  <span m='2497090'>to</span> <span m='2497210'>spend</span> <span m='2497570'>giant</span>
  <span m='2497960'>time.</span> <span m='2498650'>That's</span> <span m='2498860'>OK.</span>
  </p><p><span m='2501320'>The</span> <span m='2501530'>only</span> <span m='2501800'>thing</span>
  <span m='2501980'>we</span> <span m='2502070'>need</span> <span m='2502280'>out</span>
  <span m='2502370'>of</span> <span m='2502460'>this</span> <span m='2502580'>data</span>
  <span m='2502820'>structure</span> <span m='2503720'>is</span> <span m='2503870'>that</span>
  <span m='2504020'>it</span> <span m='2504080'>takes</span> <span m='2504540'>the</span>
  <span m='2504580'>same</span> <span m='2504830'>amount</span> <span m='2505040'>of</span>
  <span m='2505100'>space</span> <span m='2505730'>and</span> <span m='2506030'>pre-processing</span>
  <span m='2506750'>time,</span> <span m='2507530'>n</span> <span m='2507790'>log</span>
  <span m='2508050'>to</span> <span m='2508310'>d minus</span> <span m='2508790'>1</span>
  <span m='2509450'>space,</span> <span m='2510350'>and</span> <span m='2510710'>time</span>
  <span m='2511070'>to</span> <span m='2511190'>build</span> <span m='2512950'>the</span>
  <span m='2513170'>static</span> <span m='2514510'>data</span> <span m='2514730'>structure.</span>
  <span m='2516800'>If</span> <span m='2516920'>we</span> <span m='2517010'>have</span>
  <span m='2517250'>this,</span> <span m='2517520'>it</span> <span m='2517610'>turns</span>
  <span m='2517850'>out</span> <span m='2517970'>we</span> <span m='2518090'>can</span>
  <span m='2518210'>make</span> <span m='2518420'>it</span> <span m='2518480'>dynamic</span>
  <span m='2519410'>for</span> <span m='2519770'>free.</span> <span m='2521540'>This</span>
  <span m='2521750'>is</span> <span m='2521870'>the</span> <span m='2521990'>magic</span>
  <span m='2522440'>of</span> <span m='2522830'>weight</span> <span m='2523070'>balance</span>
  <span m='2523470'>trees.</span> </p><p><span m='2535610'>In</span> <span m='2535790'>general,</span>
  <span m='2538700'>there</span> <span m='2538850'>are</span> <span m='2538940'>many</span>
  <span m='2539150'>kinds</span> <span m='2539390'>of</span> <span m='2539480'>weight</span>
  <span m='2539630'>balance</span> <span m='2539900'>trees.</span> <span m='2540140'>We're</span>
  <span m='2540260'>going</span> <span m='2540380'>to</span> <span m='2540440'>look</span>
  <span m='2540620'>at</span> <span m='2540710'>one</span> <span m='2540860'>called</span>
  <span m='2541710'>BB</span> <span m='2542240'>alpha</span> <span m='2542570'>trees,</span>
  <span m='2544580'>which</span> <span m='2544790'>are</span> <span m='2544850'>the</span>
  <span m='2545000'>oldest</span> <span m='2545900'>and</span> <span m='2546050'>sort</span>
  <span m='2546230'>of</span> <span m='2546290'>the</span> <span m='2546380'>simplest.</span>
  <span m='2548450'>Well,</span> <span m='2548780'>you'll</span> <span m='2548930'>see.</span>
  <span m='2549210'>It's</span> <span m='2549260'>pretty</span> <span m='2549800'>easy</span>
  <span m='2550070'>to</span> <span m='2550190'>do.</span> </p><p><span m='2551240'>You've</span>
  <span m='2551570'>already</span> <span m='2551900'>seen</span> <span m='2552230'>height</span>
  <span m='2552530'>balance</span> <span m='2552920'>trees.</span> <span m='2553280'>AVL</span>
  <span m='2553670'>trees,</span> <span m='2554060'>for</span> <span m='2554180'>example,</span>
  <span m='2554630'>you</span> <span m='2554750'>keep</span> <span m='2554960'>the</span>
  <span m='2555050'>left</span> <span m='2555320'>and</span> <span m='2555410'>the</span>
  <span m='2555470'>right</span> <span m='2555770'>subtree.</span> <span m='2556190'>You</span>
  <span m='2556250'>want</span> <span m='2556430'>their</span> <span m='2556550'>height</span>
  <span m='2556820'>to</span> <span m='2556970'>be</span> <span m='2557060'>within</span>
  <span m='2557270'>an</span> <span m='2557390'>additive</span> <span m='2557780'>constant</span>
  <span m='2558170'>of</span> <span m='2558260'>each</span> <span m='2558410'>other,</span>
  <span m='2558590'>1.</span> <span m='2560630'>Red</span> <span m='2560810'>black</span>
  <span m='2561050'>trees</span> <span m='2561410'>are</span> <span m='2562070'>multiplicative</span>
  <span m='2562730'>factor</span> <span m='2563070'>2.</span> <span m='2563780'>Left</span>
  <span m='2564020'>and</span> <span m='2564110'>right</span> <span m='2564270'>subtree,</span>
  <span m='2564620'>the</span> <span m='2565010'>heights</span> <span m='2565250'>will</span>
  <span m='2565340'>be</span> <span m='2565460'>roughly</span> <span m='2565760'>the</span>
  <span m='2565880'>same.</span> </p><p><span m='2566990'>Weight</span> <span m='2567230'>balance</span>
  <span m='2567590'>trees,</span> <span m='2567860'>weight</span> <span m='2568130'>is</span>
  <span m='2568400'>the</span> <span m='2568490'>number</span> <span m='2569450'>of</span>
  <span m='2569570'>nodes</span> <span m='2569900'>in</span> <span m='2570020'>a</span>
  <span m='2570080'>subtree.</span> <span m='2571350'>Weight</span> <span m='2571550'>balance</span>
  <span m='2571790'>trees,</span> <span m='2572030'>they</span> <span m='2572120'>want</span>
  <span m='2572240'>to</span> <span m='2572420'>keep</span> <span m='2572630'>the</span>
  <span m='2572720'>size</span> <span m='2573170'>of</span> <span m='2573230'>the</span>
  <span m='2573320'>left</span> <span m='2573500'>subtree</span> <span m='2573920'>and</span>
  <span m='2574010'>the</span> <span m='2574100'>size</span> <span m='2574520'>of</span>
  <span m='2574610'>the</span> <span m='2574730'>right</span> <span m='2574950'>subtree</span>
  <span m='2575330'>to</span> <span m='2575420'>be</span> <span m='2575570'>roughly</span>
  <span m='2575930'>the</span> <span m='2576050'>same.</span> <span m='2577560'>So</span>
  <span m='2577760'>here's</span> <span m='2578150'>the</span> <span m='2578210'>definition</span>
  <span m='2580030'>of</span> <span m='2580240'>BB</span> <span m='2580550'>alpha</span>
  <span m='2580760'>trees.</span> </p><p><span m='2582710'>For</span> <span m='2582890'>each</span>
  <span m='2583190'>node</span> <span m='2584630'>v,</span> <span m='2587180'>size</span>
  <span m='2588050'>of</span> <span m='2588460'>the</span> <span m='2588500'>left</span>
  <span m='2588770'>subtree</span> <span m='2589915'>of</span> <span m='2590340'>v</span>
  <span m='2591900'>is</span> <span m='2592070'>at</span> <span m='2592130'>least</span>
  <span m='2592550'>alpha</span> <span m='2592790'>times</span> <span m='2593360'>the</span>
  <span m='2593420'>size</span> <span m='2594610'>of</span> <span m='2594770'>v.</span>
  <span m='2596300'>And</span> <span m='2596600'>size</span> <span m='2597590'>of</span>
  <span m='2597800'>the</span> <span m='2597920'>right</span> <span m='2598130'>subtree</span>
  <span m='2600160'>of</span> <span m='2600540'>v</span> <span m='2601540'>is</span>
  <span m='2601800'>at</span> <span m='2601910'>least</span> <span m='2602270'>alpha</span>
  <span m='2602750'>times</span> <span m='2603200'>the</span> <span m='2603260'>size</span>
  <span m='2604550'>of</span> <span m='2605330'>v.</span> <span m='2606890'>Now,</span>
  <span m='2607220'>size,</span> <span m='2607860'>I</span> <span m='2607940'>didn't</span>
  <span m='2608120'>define</span> <span m='2608450'>size.</span> <span m='2608810'>It</span>
  <span m='2608870'>could</span> <span m='2609020'>be</span> <span m='2609200'>the</span>
  <span m='2609320'>total</span> <span m='2609560'>number</span> <span m='2609800'>of</span>
  <span m='2609890'>nodes</span> <span m='2610090'>in the</span> <span m='2610200'>subtree.</span>
  <span m='2610640'>It could</span> <span m='2610790'>be</span> <span m='2610880'>the</span>
  <span m='2611000'>number</span> <span m='2611240'>of</span> <span m='2611300'>leaves</span>
  <span m='2611630'>in</span> <span m='2611700'>the</span> <span m='2611810'>subtree.</span>
  <span m='2612710'>Doesn't</span> <span m='2612950'>really</span> <span m='2613190'>matter.</span>
  </p><p><span m='2616160'>What</span> <span m='2616370'>else?</span> <span m='2618140'>What's</span>
  <span m='2618380'>alpha?</span> <span m='2619080'>Alpha</span> <span m='2619460'>is</span>
  <span m='2619610'>a</span> <span m='2619670'>half,</span> <span m='2620090'>you're</span>
  <span m='2620420'>in</span> <span m='2620540'>trouble.</span> <span m='2620900'>Because</span>
  <span m='2621050'>then</span> <span m='2621170'>it</span> <span m='2621230'>has</span>
  <span m='2621350'>to</span> <span m='2621470'>be</span> <span m='2621560'>perfectly</span>
  <span m='2622070'>balanced.</span> <span m='2623630'>But</span> <span m='2624110'>just</span>
  <span m='2624290'>make</span> <span m='2624470'>alpha</span> <span m='2624740'>small,</span>
  <span m='2625090'>like</span> <span m='2625310'>1/10</span> <span m='2625790'>or</span>
  <span m='2625850'>something.</span> <span m='2626570'>Any</span> <span m='2626780'>constant</span>
  <span m='2627770'>less</span> <span m='2628070'>than</span> <span m='2628430'>a</span>
  <span m='2628510'>half</span> <span m='2628880'>will</span> <span m='2629090'>do.</span>
  </p><p><span m='2632500'>Right.</span> <span m='2633110'>The</span> <span m='2633200'>nice</span>
  <span m='2633410'>thing</span> <span m='2633530'>about</span> <span m='2633680'>weight</span>
  <span m='2633860'>balance</span> <span m='2634170'>is</span> <span m='2634280'>they</span>
  <span m='2634400'>imply</span> <span m='2634850'>height</span> <span m='2635060'>balance.</span>
  <span m='2635990'>If</span> <span m='2636140'>you</span> <span m='2636260'>have</span>
  <span m='2636500'>this</span> <span m='2636650'>property</span> <span m='2637190'>that</span>
  <span m='2638660'>neither</span> <span m='2638950'>your</span> <span m='2639080'>left</span>
  <span m='2639290'>nor</span> <span m='2639410'>your</span> <span m='2639550'>right</span>
  <span m='2639760'>subtree</span> <span m='2640050'>are</span> <span m='2640190'>too</span>
  <span m='2640370'>small,</span> <span m='2641870'>then</span> <span m='2643430'>as</span>
  <span m='2643640'>you</span> <span m='2643760'>go</span> <span m='2643940'>down,</span>
  <span m='2644300'>every</span> <span m='2644480'>time</span> <span m='2644670'>you</span>
  <span m='2644750'>take</span> <span m='2644900'>a</span> <span m='2644960'>left</span>
  <span m='2645200'>or a</span> <span m='2645290'>right</span> <span m='2645800'>child,</span>
  <span m='2646940'>you</span> <span m='2647420'>throw</span> <span m='2647840'>away</span>
  <span m='2648140'>an</span> <span m='2648290'>alpha</span> <span m='2648650'>fraction</span>
  <span m='2649790'>of</span> <span m='2650000'>your</span> <span m='2650120'>nodes.</span>
  <span m='2650840'>So</span> <span m='2650960'>initially,</span> <span m='2651320'>you
  have</span> <span m='2651440'>all</span> <span m='2651590'>the</span> <span m='2651680'>nodes.</span>
  <span m='2652480'>Every</span> <span m='2652690'>time</span> <span m='2652880'>you</span>
  <span m='2652970'>go</span> <span m='2653090'>down,</span> <span m='2653360'>you</span>
  <span m='2653450'>lose</span> <span m='2653630'>an</span> <span m='2653730'>alpha</span>
  <span m='2653910'>fraction.</span> </p><p><span m='2654290'>How</span> <span m='2654410'>many</span>
  <span m='2654560'>times</span> <span m='2654830'>can</span> <span m='2654950'>that</span>
  <span m='2655070'>happen?</span> <span m='2656240'>Log</span> <span m='2656840'>base</span>
  <span m='2657380'>alpha,</span> <span m='2657950'>basically,</span> <span m='2658610'>so</span>
  <span m='2659320'>log</span> <span m='2659690'>base</span> <span m='2659870'>1</span>
  <span m='2660100'>over</span> <span m='2660170'>alpha.</span> <span m='2661280'>The</span>
  <span m='2661550'>height</span> <span m='2661880'>is</span> <span m='2664850'>log</span>
  <span m='2665450'>base</span> <span m='2665810'>1</span> <span m='2666080'>over</span>
  <span m='2666350'>alpha</span> <span m='2667420'>of n.</span> </p><p><span m='2669350'>So</span>
  <span m='2669500'>this</span> <span m='2669710'>is</span> <span m='2669860'>really</span>
  <span m='2670070'>a</span> <span m='2670130'>stronger</span> <span m='2670640'>property</span>
  <span m='2671450'>than</span> <span m='2671600'>height</span> <span m='2671810'>balance.</span>
  <span m='2672350'>It</span> <span m='2672490'>implies</span> <span m='2673610'>that</span>
  <span m='2673760'>your</span> <span m='2673880'>heights</span> <span m='2674120'>are</span>
  <span m='2674210'>good.</span> <span m='2675530'>So</span> <span m='2675650'>it</span>
  <span m='2675710'>implies</span> <span m='2676040'>the</span> <span m='2676100'>height</span>
  <span m='2676280'>of</span> <span m='2676370'>the</span> <span m='2676430'>left</span>
  <span m='2676640'>and</span> <span m='2676730'>right</span> <span m='2676880'>subtree</span>
  <span m='2677120'>are</span> <span m='2677300'>not</span> <span m='2677450'>too</span>
  <span m='2677570'>far</span> <span m='2677780'>from</span> <span m='2677960'>each</span>
  <span m='2678110'>other.</span> </p><p><span m='2679340'>But</span> <span m='2679490'>it's</span>
  <span m='2679880'>a</span> <span m='2679940'>lot</span> <span m='2680150'>stronger.</span>
  <span m='2681290'>It</span> <span m='2681440'>lets</span> <span m='2681800'>you</span>
  <span m='2682130'>do</span> <span m='2682310'>updates</span> <span m='2682970'>lickety</span>
  <span m='2683630'>fast,</span> <span m='2684290'>basically.</span> <span m='2686960'>So</span>
  <span m='2687170'>how</span> <span m='2687290'>do</span> <span m='2687380'>we</span>
  <span m='2687470'>do</span> <span m='2687590'>an</span> <span m='2687710'>update?</span>
  </p><p><span m='2697710'>The</span> <span m='2697950'>idea</span> <span m='2698250'>is,</span>
  <span m='2698640'>normally,</span> <span m='2700020'>you</span> <span m='2700290'>insert</span>
  <span m='2700620'>a</span> <span m='2700680'>leaf,</span> <span m='2701250'>do a</span>
  <span m='2701400'>regular</span> <span m='2701760'>BST,</span> <span m='2702330'>insert</span>
  <span m='2702670'>a</span> <span m='2702780'>delete.</span> <span m='2703520'>You</span>
  <span m='2703650'>add</span> <span m='2703830'>a</span> <span m='2703860'>leaf</span>
  <span m='2704220'>at</span> <span m='2704310'>the</span> <span m='2704430'>bottom</span>
  <span m='2704700'>or</span> <span m='2704760'>delete</span> <span m='2705050'>a</span>
  <span m='2705090'>leaf.</span> <span m='2706350'>And</span> <span m='2706470'>so</span>
  <span m='2706620'>you</span> <span m='2706740'>have</span> <span m='2706860'>to</span>
  <span m='2706950'>update</span> <span m='2707400'>like</span> <span m='2707820'>that</span>
  <span m='2708990'>node</span> <span m='2709380'>and</span> <span m='2709470'>maybe</span>
  <span m='2709680'>its</span> <span m='2709770'>parent.</span> <span m='2711240'>As</span>
  <span m='2711360'>long</span> <span m='2711690'>as</span> <span m='2711840'>you</span>
  <span m='2711960'>have</span> <span m='2712200'>weight</span> <span m='2712410'>balance,</span>
  <span m='2713760'>you're</span> <span m='2713910'>just</span> <span m='2714150'>making</span>
  <span m='2714480'>little</span> <span m='2714690'>constant</span> <span m='2715000'>sized</span>
  <span m='2715290'>changes</span> <span m='2715650'>at</span> <span m='2715710'>the</span>
  <span m='2715800'>bottom.</span> <span m='2716430'>Everything's</span> <span m='2716850'>good.</span>
  </p><p><span m='2718480'>OK.</span> <span m='2718830'>The</span> <span m='2718950'>trouble</span>
  <span m='2719280'>is</span> <span m='2719460'>when</span> <span m='2719610'>one</span>
  <span m='2719760'>of</span> <span m='2719820'>these</span> <span m='2720000'>constraints</span>
  <span m='2720390'>becomes</span> <span m='2720690'>violated.</span> <span m='2721260'>Then</span>
  <span m='2721470'>you</span> <span m='2721590'>want</span> <span m='2721800'>to</span>
  <span m='2721860'>do</span> <span m='2722010'>a</span> <span m='2722070'>rotation</span>
  <span m='2722880'>or</span> <span m='2722970'>something.</span> <span m='2724190'>OK.</span>
  <span m='2724380'>So</span> <span m='2724680'>when</span> <span m='2726420'>a</span>
  <span m='2726450'>node</span> <span m='2728910'>is</span> <span m='2729090'>not</span>
  <span m='2729330'>weight</span> <span m='2729510'>balanced,</span> <span m='2734650'>it's</span>
  <span m='2735050'>a</span> <span m='2735090'>pretty</span> <span m='2735330'>loose</span>
  <span m='2735740'>algorithm.</span> </p><p><span m='2737220'>But</span> <span m='2737430'>it's</span>
  <span m='2737640'>easy</span> <span m='2737850'>to</span> <span m='2737940'>find</span>
  <span m='2738270'>nodes.</span> <span m='2739460'>You</span> <span m='2739590'>just</span>
  <span m='2739770'>store</span> <span m='2740010'>all</span> <span m='2740130'>the</span>
  <span m='2740220'>weights,</span> <span m='2740600'>all</span> <span m='2740790'>the</span>
  <span m='2740880'>subtree</span> <span m='2741240'>sizes,</span> <span m='2741630'>which</span>
  <span m='2741780'>we were</span> <span m='2741930'>doing</span> <span m='2742200'>already.</span>
  <span m='2743610'>You</span> <span m='2743820'>can</span> <span m='2743970'>detect</span>
  <span m='2744360'>when</span> <span m='2744570'>nodes</span> <span m='2744810'>are</span>
  <span m='2744870'>no</span> <span m='2745020'>longer</span> <span m='2745230'>weight</span>
  <span m='2745420'>balanced.</span> </p><p><span m='2747150'>And</span> <span m='2747300'>then</span>
  <span m='2747450'>we</span> <span m='2747570'>just</span> <span m='2747720'>want</span>
  <span m='2747870'>to</span> <span m='2747930'>weight</span> <span m='2748140'>balance</span>
  <span m='2748530'>it.</span> <span m='2749250'>How</span> <span m='2749400'>do</span>
  <span m='2749500'>we</span> <span m='2749620'>weight</span> <span m='2749760'>balance</span>
  <span m='2750070'>it?</span> <span m='2750210'>We</span> <span m='2750360'>rebuild</span>
  <span m='2750810'>the</span> <span m='2750930'>entire</span> <span m='2751380'>subtree</span>
  <span m='2752160'>from</span> <span m='2752400'>scratch.</span> </p><p><span m='2754090'>This</span>
  <span m='2754200'>is</span> <span m='2754260'>sort</span> <span m='2754440'>of</span>
  <span m='2754530'>the</span> <span m='2754650'>only</span> <span m='2754890'>thing</span>
  <span m='2755100'>we</span> <span m='2755190'>know</span> <span m='2755340'>how</span>
  <span m='2755460'>to</span> <span m='2755550'>do.</span> <span m='2756450'>We</span>
  <span m='2756600'>have</span> <span m='2756810'>a</span> <span m='2756840'>static</span>
  <span m='2757200'>data</span> <span m='2757440'>structure.</span> <span m='2757720'>This
  is</span> <span m='2757860'>a</span> <span m='2757920'>general</span> <span m='2758250'>transformation,</span>
  <span m='2759460'>dynamization</span> <span m='2760230'>when</span> <span m='2760410'>you</span>
  <span m='2760530'>have</span> <span m='2760890'>augmentation.</span> <span m='2763740'>We</span>
  <span m='2763860'>have</span> <span m='2764040'>this</span> <span m='2764190'>data</span>
  <span m='2764400'>structure.</span> <span m='2765370'>It's</span> <span m='2765470'>got</span>
  <span m='2765510'>all</span> <span m='2765660'>these</span> <span m='2765780'>augmented</span>
  <span m='2766200'>things.</span> <span m='2766560'>It's</span> <span m='2766680'>complicated.</span>
  </p><p><span m='2767760'>But</span> <span m='2767940'>at</span> <span m='2768000'>least</span>
  <span m='2768250'>it's</span> <span m='2768310'>sort</span> <span m='2768510'>of</span>
  <span m='2768630'>downward</span> <span m='2769110'>looking.</span> <span m='2769560'>I</span>
  <span m='2769620'>mean,</span> <span m='2769770'>you</span> <span m='2770130'>only</span>
  <span m='2770340'>need</span> <span m='2770490'>to</span> <span m='2770610'>store</span>
  <span m='2770850'>pointers</span> <span m='2771160'>from</span> <span m='2771330'>here</span>
  <span m='2771540'>down,</span> <span m='2772660'>not</span> <span m='2772740'>up.</span>
  <span m='2774120'>I</span> <span m='2774180'>mean,</span> <span m='2774300'>your</span>
  <span m='2774390'>parent</span> <span m='2774660'>points</span> <span m='2774950'>into</span>
  <span m='2775210'>you.</span> <span m='2775340'>But</span> <span m='2776100'>you</span>
  <span m='2776190'>have</span> <span m='2776460'>a</span> <span m='2776520'>nice</span>
  <span m='2776760'>local</span> <span m='2777090'>thing.</span> </p><p><span m='2777630'>So</span>
  <span m='2777750'>if this</span> <span m='2777960'>guy's</span> <span m='2778200'>not</span>
  <span m='2778380'>weight</span> <span m='2778560'>balanced,</span> <span m='2779040'>if</span>
  <span m='2779340'>this</span> <span m='2780210'>left</span> <span m='2780480'>subtree</span>
  <span m='2780930'>is</span> <span m='2781320'>way</span> <span m='2781590'>heavier</span>
  <span m='2781920'>than</span> <span m='2782070'>the</span> <span m='2782160'>right</span>
  <span m='2782340'>subtree</span> <span m='2783530'>by</span> <span m='2783690'>this</span>
  <span m='2783870'>alpha</span> <span m='2784170'>factor,</span> <span m='2785280'>one</span>
  <span m='2785380'>over</span> <span m='2785430'>alpha</span> <span m='2785790'>factor,</span>
  <span m='2786950'>then</span> <span m='2787290'>just</span> <span m='2787950'>redo</span>
  <span m='2788310'>everything</span> <span m='2788730'>in</span> <span m='2788820'>here.</span>
  <span m='2790020'>Find</span> <span m='2790470'>the</span> <span m='2790560'>median.</span>
  <span m='2791580'>Make</span> <span m='2791820'>a</span> <span m='2791880'>perfect</span>
  <span m='2792780'>binary</span> <span m='2793080'>search</span> <span m='2793350'>tree.</span>
  </p><p><span m='2793890'>Then</span> <span m='2794070'>the</span> <span m='2794160'>weights</span>
  <span m='2794520'>between</span> <span m='2794820'>the</span> <span m='2794880'>left</span>
  <span m='2795120'>and</span> <span m='2795210'>the</span> <span m='2795300'>right</span>
  <span m='2795480'>will</span> <span m='2795600'>be</span> <span m='2795720'>perfectly</span>
  <span m='2796230'>balanced.</span> <span m='2796740'>We'll</span> <span m='2796860'>have</span>
  <span m='2797010'>achieved</span> <span m='2797480'>the</span> <span m='2797610'>one</span>
  <span m='2797850'>half,</span> <span m='2798090'>one</span> <span m='2798260'>half</span>
  <span m='2798420'>split</span> <span m='2799460'>of</span> <span m='2799620'>weight.</span>
  <span m='2800880'>How</span> <span m='2801150'>long</span> <span m='2801480'>before</span>
  <span m='2801810'>it</span> <span m='2801870'>gets</span> <span m='2802200'>unbalanced</span>
  <span m='2802740'>again?</span> <span m='2803610'>A</span> <span m='2803700'>long</span>
  <span m='2804090'>time.</span> </p><p><span m='2805820'>If</span> <span m='2805980'>I</span>
  <span m='2806070'>start</span> <span m='2806310'>with</span> <span m='2806460'>a</span>
  <span m='2806550'>one</span> <span m='2806740'>half,</span> <span m='2806940'>one</span>
  <span m='2807140'>half</span> <span m='2807330'>split,</span> <span m='2807630'>and</span>
  <span m='2807720'>then</span> <span m='2807870'>I</span> <span m='2807930'>have</span>
  <span m='2808080'>to</span> <span m='2808200'>get</span> <span m='2808320'>to</span>
  <span m='2808470'>an</span> <span m='2808590'>alpha</span> <span m='2808980'>1</span>
  <span m='2809190'>minus</span> <span m='2809490'>alpha</span> <span m='2809760'>split,</span>
  <span m='2811860'>a</span> <span m='2811890'>lot</span> <span m='2812220'>of</span>
  <span m='2812310'>nodes</span> <span m='2812670'>had</span> <span m='2812880'>to</span>
  <span m='2813000'>move</span> <span m='2813420'>from</span> <span m='2813630'>one</span>
  <span m='2813810'>side</span> <span m='2814020'>to</span> <span m='2814140'>the</span>
  <span m='2814260'>other.</span> <span m='2816365'>The</span> <span m='2816650'>alpha</span>
  <span m='2817110'>gets</span> <span m='2817410'>messy.</span> <span m='2817770'>So</span>
  <span m='2818160'>let</span> <span m='2818280'>me</span> <span m='2818370'>just</span>
  <span m='2818550'>say</span> <span m='2820320'>when</span> <span m='2820470'>this</span>
  <span m='2820590'>happens,</span> <span m='2821760'>rebuild</span> <span m='2823290'>entire</span>
  <span m='2823650'>subtree.</span> </p><p><span m='2828940'>I</span> <span m='2828970'>guess</span>
  <span m='2829180'>it's</span> <span m='2829300'>like</span> <span m='2829540'>a</span>
  <span m='2829600'>1/2</span> <span m='2830720'>minus</span> <span m='2831250'>alpha</span>
  <span m='2831730'>had</span> <span m='2831970'>to</span> <span m='2832090'>move.</span>
  <span m='2832690'>1/2</span> <span m='2832900'>minus</span> <span m='2833170'>alpha</span>
  <span m='2833440'>times</span> <span m='2833740'>the</span> <span m='2833800'>size</span>
  <span m='2834070'>of the</span> <span m='2834170'>subtree</span> <span m='2834550'>had</span>
  <span m='2834700'>to</span> <span m='2835180'>be</span> <span m='2835270'>inserted</span>
  <span m='2835690'>or</span> <span m='2835780'>deleted,</span> <span m='2836710'>had</span>
  <span m='2836920'>to</span> <span m='2837010'>happen,</span> <span m='2837340'>or</span>
  <span m='2837430'>maybe</span> <span m='2837700'>half</span> <span m='2837970'>of</span>
  <span m='2838030'>that,</span> <span m='2838990'>some</span> <span m='2839200'>constant</span>
  <span m='2839530'>fraction.</span> <span m='2839920'>I</span> <span m='2839950'>don't</span>
  <span m='2840070'>really</span> <span m='2840280'>care.</span> <span m='2840710'>Alpha's</span>
  <span m='2841030'>a</span> <span m='2841090'>constant.</span> </p><p><span m='2842650'>I'm</span>
  <span m='2842710'>going</span> <span m='2842860'>to</span> <span m='2842920'>charge</span>
  <span m='2845500'>to</span> <span m='2846070'>the</span> <span m='2846220'>theta</span>
  <span m='2847430'>k</span> <span m='2848790'>updates</span> <span m='2857570'>that</span>
  <span m='2857720'>unbalance</span> <span m='2858200'>things.</span> <span m='2867150'>k</span>
  <span m='2867790'>here</span> <span m='2868120'>is</span> <span m='2868450'>the</span>
  <span m='2868720'>size</span> <span m='2869050'>of</span> <span m='2869110'>the</span>
  <span m='2869200'>subtree.</span> <span m='2874260'>k</span> <span m='2875000'>So</span>
  <span m='2875150'>when</span> <span m='2875240'>I</span> <span m='2875300'>see</span>
  <span m='2875470'>a</span> <span m='2875570'>node</span> <span m='2875750'>is</span>
  <span m='2875840'>on</span> <span m='2875970'>balance,</span> <span m='2876680'>just</span>
  <span m='2876860'>fix</span> <span m='2877160'>it.</span> <span m='2877440'>Make</span>
  <span m='2877550'>it</span> <span m='2877700'>perfect.</span> </p><p><span m='2879270'>And</span>
  <span m='2879740'>if</span> <span m='2879890'>I</span> <span m='2879980'>started</span>
  <span m='2880370'>out</span> <span m='2880490'>perfect,</span> <span m='2880990'>the</span>
  <span m='2881150'>subtree</span> <span m='2881490'>started</span> <span m='2881720'>out</span>
  <span m='2881810'>perfect,</span> <span m='2882170'>I</span> <span m='2882230'>know</span>
  <span m='2882410'>there</span> <span m='2882530'>were</span> <span m='2882620'>theta</span>
  <span m='2882900'>k</span> <span m='2883110'>updates</span> <span m='2883450'>that</span>
  <span m='2883540'>I</span> <span m='2883640'>can</span> <span m='2883790'>charge</span>
  <span m='2884120'>to.</span> <span m='2884780'>The</span> <span m='2884900'>only</span>
  <span m='2885110'>catch</span> <span m='2885370'>is</span> <span m='2885500'>I'm</span>
  <span m='2885680'>actually</span> <span m='2886430'>double</span> <span m='2886700'>charging</span>
  <span m='2888590'>quite</span> <span m='2888830'>a</span> <span m='2888890'>bit,</span>
  <span m='2889290'>actually.</span> <span m='2889700'>If</span> <span m='2889880'>you</span>
  <span m='2889970'>look</span> <span m='2890210'>at</span> <span m='2891320'>a</span>
  <span m='2891380'>tree,</span> <span m='2892820'>if</span> <span m='2892970'>I</span>
  <span m='2893060'>do</span> <span m='2893180'>an</span> <span m='2893270'>insert</span>
  <span m='2893720'>here,</span> <span m='2894860'>it</span> <span m='2895070'>makes</span>
  <span m='2895460'>this</span> <span m='2896030'>subtree</span> <span m='2896630'>potentially</span>
  <span m='2897290'>slightly</span> <span m='2897650'>unbalanced.</span> </p><p><span
  m='2898190'>It</span> <span m='2898250'>makes</span> <span m='2898430'>this</span>
  <span m='2898620'>subtrees</span> <span m='2899030'>slightly</span> <span m='2899360'>unbalanced.</span>
  <span m='2899430'>It</span> <span m='2899710'>makes</span> <span m='2899900'>this</span>
  <span m='2900250'>subtree</span> <span m='2900440'>slightly</span> <span m='2900770'>unbalanced.</span>
  <span m='2901130'>There</span> <span m='2901260'>are</span> <span m='2901330'>log</span>
  <span m='2901700'>n</span> <span m='2901940'>subtrees</span> <span m='2903050'>that</span>
  <span m='2903140'>contain</span> <span m='2903650'>that</span> <span m='2903830'>item.</span>
  <span m='2904580'>Each</span> <span m='2904790'>of</span> <span m='2904850'>them</span>
  <span m='2905060'>may</span> <span m='2905380'>be</span> <span m='2905570'>getting</span>
  <span m='2906170'>worse.</span> </p><p><span m='2907470'>So</span> <span m='2907490'>if</span>
  <span m='2907580'>I</span> <span m='2907670'>say,</span> <span m='2908100'>well,</span>
  <span m='2908180'>yeah,</span> <span m='2908360'>there</span> <span m='2908450'>are</span>
  <span m='2908510'>these</span> <span m='2908630'>theta</span> <span m='2908770'>k</span>
  <span m='2909080'>updates,</span> <span m='2909470'>but</span> <span m='2909680'>actually</span>
  <span m='2910040'>there</span> <span m='2910170'>are</span> <span m='2910190'>log</span>
  <span m='2910520'>n</span> <span m='2910670'>different</span> <span m='2911060'>subtrees</span>
  <span m='2911330'>that</span> <span m='2911450'>will</span> <span m='2911570'>charge</span>
  <span m='2912020'>to the</span> <span m='2912140'>same</span> <span m='2912440'>update.</span>
  <span m='2913590'>So</span> <span m='2913610'>I</span> <span m='2913700'>lose</span>
  <span m='2913940'>a</span> <span m='2914000'>log</span> <span m='2914330'>n</span>
  <span m='2914480'>factor</span> <span m='2914840'>in</span> <span m='2914930'>this</span>
  <span m='2915080'>amortization.</span> <span m='2916490'>But</span> <span m='2916810'>it's</span>
  <span m='2916910'>not</span> <span m='2917060'>so</span> <span m='2917180'>bad.</span>
  <span m='2918110'>I</span> <span m='2918260'>get</span> <span m='2919100'>log</span>
  <span m='2919440'>n</span> <span m='2919580'>amortized</span> <span m='2920030'>update.</span>
  </p><p><span m='2926680'>This</span> <span m='2926950'>is</span> <span m='2928090'>if</span>
  <span m='2928360'>a</span> <span m='2928420'>rebuild</span> <span m='2929590'>costs</span>
  <span m='2929890'>linear</span> <span m='2930190'>time.</span> <span m='2937700'>This</span>
  <span m='2937860'>is</span> <span m='2937950'>pretty</span> <span m='2938160'>nifty.</span>
  <span m='2938490'>I</span> <span m='2938550'>don't</span> <span m='2938700'>have</span>
  <span m='2938820'>to</span> <span m='2938910'>do</span> <span m='2939060'>rotations</span>
  <span m='2939840'>per</span> <span m='2940050'>se.</span> <span m='2940930'>I</span>
  <span m='2941030'>just</span> <span m='2941070'>take</span> <span m='2941370'>all</span>
  <span m='2941610'>the</span> <span m='2941730'>notes</span> <span m='2941940'>in</span>
  <span m='2942000'>the</span> <span m='2942100'>subtree,</span> <span m='2942630'>write</span>
  <span m='2942900'>them</span> <span m='2942990'>down.</span> </p><p><span m='2943980'>I</span>
  <span m='2944280'>do an</span> <span m='2944490'>in</span> <span m='2944580'>order</span>
  <span m='2944760'>traverse.</span> <span m='2945150'>I</span> <span m='2945180'>have
  them</span> <span m='2945390'>sorted,</span> <span m='2946170'>take</span> <span
  m='2946350'>the</span> <span m='2946440'>median,</span> <span m='2946800'>build</span>
  <span m='2947070'>a</span> <span m='2947130'>nice</span> <span m='2947400'>perfect</span>
  <span m='2948290'>binary</span> <span m='2948580'>search</span> <span m='2948810'>tree</span>
  <span m='2948990'>on</span> <span m='2949110'>those</span> <span m='2949290'>items.</span>
  <span m='2949740'>I</span> <span m='2949800'>can</span> <span m='2949950'>easily</span>
  <span m='2950250'>do</span> <span m='2950370'>that</span> <span m='2950580'>in</span>
  <span m='2950730'>linear</span> <span m='2951060'>time.</span> <span m='2952570'>And</span>
  <span m='2952590'>so</span> <span m='2952740'>this</span> <span m='2952950'>is</span>
  <span m='2953070'>like</span> <span m='2953460'>the</span> <span m='2953970'>brain</span>
  <span m='2954300'>dead</span> <span m='2954540'>way</span> <span m='2954930'>to</span>
  <span m='2957000'>make</span> <span m='2957210'>this</span> <span m='2958050'>weight</span>
  <span m='2958290'>balanced</span> <span m='2958650'>tree</span> <span m='2959190'>dynamic.</span>
  </p><p><span m='2959760'>The</span> <span m='2959820'>original</span> <span m='2960180'>BB</span>
  <span m='2960390'>alpha</span> <span m='2960640'>trees</span> <span m='2960870'>use</span>
  <span m='2961030'>rotations.</span> <span m='2961680'>But</span> <span m='2962100'>you</span>
  <span m='2962160'>don't</span> <span m='2962310'>have</span> <span m='2962550'>to.</span>
  <span m='2963450'>You</span> <span m='2963550'>can</span> <span m='2963650'>do</span>
  <span m='2963750'>this</span> <span m='2963850'>very</span> <span m='2963930'>simple</span>
  <span m='2964200'>thing</span> <span m='2964380'>and</span> <span m='2964470'>still</span>
  <span m='2964680'>get</span> <span m='2964830'>a</span> <span m='2964850'>log</span>
  <span m='2965160'>n</span> <span m='2965250'>amortized</span> <span m='2965730'>update.</span>
  </p><p><span m='2967650'>And</span> <span m='2967770'>the</span> <span m='2967860'>good</span>
  <span m='2968010'>news</span> <span m='2968220'>is,</span> <span m='2968490'>if</span>
  <span m='2968610'>you</span> <span m='2968700'>have</span> <span m='2968880'>augmentation</span>
  <span m='2969570'>as</span> <span m='2969690'>well--</span> <span m='2970260'>because</span>
  <span m='2971100'>with</span> <span m='2971280'>this</span> <span m='2971400'>subtree,</span>
  <span m='2971790'>there's</span> <span m='2971940'>tons</span> <span m='2972300'>of</span>
  <span m='2972420'>extra</span> <span m='2972720'>stuff,</span> <span m='2973050'>all</span>
  <span m='2973260'>these</span> <span m='2973410'>arrays</span> <span m='2973860'>and</span>
  <span m='2973950'>pointers</span> <span m='2974460'>and</span> <span m='2975060'>stuff,</span>
  <span m='2975990'>it's</span> <span m='2976140'>easy</span> <span m='2976380'>to</span>
  <span m='2976470'>build</span> <span m='2976680'>from</span> <span m='2976890'>scratch.</span>
  <span m='2977850'>But</span> <span m='2977970'>it's</span> <span m='2978060'>hard</span>
  <span m='2978270'>to</span> <span m='2978390'>maintain</span> <span m='2978780'>dynamically.</span>
  <span m='2979440'>The</span> <span m='2979860'>point</span> <span m='2980070'>is,</span>
  <span m='2980190'>now,</span> <span m='2980400'>we</span> <span m='2980490'>don't</span>
  <span m='2980670'>have</span> <span m='2980910'>to.</span> </p><p><span m='2981600'>If</span>
  <span m='2981720'>ever</span> <span m='2982050'>we</span> <span m='2982200'>need</span>
  <span m='2982350'>to</span> <span m='2982500'>change</span> <span m='2982800'>a</span>
  <span m='2982860'>node,</span> <span m='2983250'>we</span> <span m='2983370'>just</span>
  <span m='2983490'>rebuild</span> <span m='2983820'>the</span> <span m='2983910'>entire</span>
  <span m='2984420'>subtree.</span> <span m='2984870'>And</span> <span m='2984990'>we</span>
  <span m='2985110'>can</span> <span m='2985260'>afford</span> <span m='2985650'>it</span>
  <span m='2986400'>at</span> <span m='2986580'>the</span> <span m='2986700'>loss</span>
  <span m='2987090'>of</span> <span m='2987180'>a</span> <span m='2987240'>logarithmic</span>
  <span m='2987840'>overhead.</span> <span m='2989620'>So</span> <span m='2989730'>we</span>
  <span m='2989880'>had</span> <span m='2990180'>n log</span> <span m='2990670'>to</span>
  <span m='2990780'>the</span> <span m='2990900'>d minus</span> <span m='2991460'>1</span>
  <span m='2991680'>n</span> <span m='2992040'>time</span> <span m='2992520'>to</span>
  <span m='2992670'>build</span> <span m='2992910'>the</span> <span m='2993000'>structure.</span>
  </p><p><span m='2993510'>So</span> <span m='2993720'>for</span> <span m='2993950'>a</span>
  <span m='2993990'>structure</span> <span m='2994320'>of</span> <span m='2994380'>size</span>
  <span m='2994580'>k,</span> <span m='2994860'>it's</span> <span m='2995010'>going</span>
  <span m='2995130'>to</span> <span m='2995190'>be</span> <span m='2995340'>k</span>
  <span m='2995820'>times</span> <span m='2996100'>log</span> <span m='2996470'>to
  the d</span> <span m='2996640'>minus</span> <span m='2996930'>1</span> <span m='2997395'>of</span>
  <span m='2997860'>k.</span> <span m='3000200'>We're</span> <span m='3000410'>going</span>
  <span m='3000530'>to</span> <span m='3000590'>lose</span> <span m='3000800'>an</span>
  <span m='3000890'>extra</span> <span m='3001190'>log</span> <span m='3001430'>factor.</span>
  <span m='3001820'>So</span> <span m='3001970'>this</span> <span m='3002360'>d</span>
  <span m='3002510'>minus</span> <span m='3002780'>1</span> <span m='3002900'>is</span>
  <span m='3002990'>going</span> <span m='3003110'>to</span> <span m='3003170'>turn</span>
  <span m='3003380'>into a</span> <span m='3003560'>d minus</span> <span m='3004040'>2</span>
  <span m='3004220'>for</span> <span m='3004490'>updates.</span> </p><p><span m='3024590'>So</span>
  <span m='3028890'>that</span> <span m='3029010'>was</span> <span m='3029360'>the</span>
  <span m='3029450'>generic</span> <span m='3029930'>structure.</span> <span m='3031010'>And</span>
  <span m='3031160'>now,</span> <span m='3031340'>if</span> <span m='3031460'>we</span>
  <span m='3031610'>apply</span> <span m='3032000'>this</span> <span m='3032360'>to</span>
  <span m='3032750'>layered</span> <span m='3033710'>range</span> <span m='3034040'>trees,</span>
  <span m='3038720'>we</span> <span m='3038870'>get</span> <span m='3040550'>log</span>
  <span m='3042840'>to</span> <span m='3042990'>the</span> <span m='3043130'>d</span>
  <span m='3044090'>n</span> <span m='3044600'>amortized</span> <span m='3045940'>update.</span>
  <span m='3052160'>Because</span> <span m='3052580'>we</span> <span m='3052670'>had</span>
  <span m='3054320'>k</span> <span m='3055340'>times</span> <span m='3055580'>log</span>
  <span m='3055840'>to</span> <span m='3055940'>the</span> <span m='3056030'>d minus</span>
  <span m='3056570'>1</span> <span m='3058270'>of</span> <span m='3058460'>k</span>
  <span m='3059200'>pre-processing</span> <span m='3060170'>to</span> <span m='3060380'>rebuild</span>
  <span m='3060800'>node.</span> </p><p><span m='3064460'>And</span> <span m='3065000'>just</span>
  <span m='3065240'>to</span> <span m='3065360'>recall,</span> <span m='3065840'>we</span>
  <span m='3066050'>still</span> <span m='3066350'>have</span> <span m='3067010'>log</span>
  <span m='3067380'>to</span> <span m='3067420'>the</span> <span m='3067520'>d minus</span>
  <span m='3068060'>1</span> <span m='3068315'>of</span> <span m='3068570'>n</span>
  <span m='3069040'>query.</span> <span m='3071900'>So</span> <span m='3072050'>this</span>
  <span m='3072260'>was</span> <span m='3072710'>regular</span> <span m='3073070'>range</span>
  <span m='3073340'>trees.</span> <span m='3074780'>And</span> <span m='3075980'>we've</span>
  <span m='3076100'>made</span> <span m='3076280'>them</span> <span m='3076400'>dynamic,</span>
  <span m='3077810'>the</span> <span m='3077870'>same</span> <span m='3078230'>time</span>
  <span m='3078590'>as</span> <span m='3078710'>range</span> <span m='3078980'>trees.</span>
  </p><p><span m='3079490'>And</span> <span m='3079790'>still,</span> <span m='3080030'>the</span>
  <span m='3080120'>query</span> <span m='3080480'>is</span> <span m='3080630'>a</span>
  <span m='3080660'>log</span> <span m='3080930'>factor</span> <span m='3081360'>faster.</span>
  <span m='3082250'>So</span> <span m='3082400'>for</span> <span m='3082520'>2D,</span>
  <span m='3082910'>we</span> <span m='3083000'>get</span> <span m='3083150'>log</span>
  <span m='3083450'>n</span> <span m='3083600'>query</span> <span m='3083900'>log</span>
  <span m='3084230'>squired</span> <span m='3084470'>n</span> <span m='3084600'>update</span>
  <span m='3085550'>insertion</span> <span m='3086060'>and</span> <span m='3086180'>deletion</span>
  <span m='3086480'>of</span> <span m='3086570'>points.</span> <span m='3088700'>Questions</span>
  <span m='3089120'>about</span> <span m='3089330'>that?</span> </p><p><span m='3093180'>Cool.</span>
  <span m='3094650'>Well,</span> <span m='3094740'>that</span> <span m='3095040'>is</span>
  <span m='3096300'>range</span> <span m='3096670'>searching,</span> <span m='3097560'>orthogonal</span>
  <span m='3097810'>range</span> <span m='3098070'>searching.</span> <span m='3102750'>Let's</span>
  <span m='3102960'>see.</span> <span m='3104980'>There</span> <span m='3105100'>are</span>
  <span m='3105160'>more</span> <span m='3105400'>results,</span> <span m='3107020'>which</span>
  <span m='3107670'>I</span> <span m='3107740'>don't</span> <span m='3107860'>want</span>
  <span m='3107980'>to</span> <span m='3108070'>cover</span> <span m='3109660'>in</span>
  <span m='3109840'>detail</span> <span m='3110260'>here.</span> <span m='3110530'>But
  you</span> <span m='3110920'>should</span> <span m='3111160'>at</span> <span m='3111250'>least</span>
  <span m='3111460'>know</span> <span m='3111610'>about</span> <span m='3111880'>them.</span>
  <span m='3113270'>And</span> <span m='3113460'>then</span> <span m='3113590'>we're</span>
  <span m='3113650'>going</span> <span m='3113800'>to</span> <span m='3113860'>turn</span>
  <span m='3114010'>to</span> <span m='3114100'>fractional</span> <span m='3114490'>cascading</span>
  <span m='3115330'>a</span> <span m='3115360'>little</span> <span m='3115540'>more</span>
  <span m='3115690'>generally.</span> </p><p><span m='3125110'>So</span> <span m='3129830'>where
  is this</span> <span m='3130070'>result?</span> <span m='3130900'>Somewhere</span>
  <span m='3131210'>here.</span> <span m='3141160'>So</span> <span m='3141650'>for</span>
  <span m='3142020'>static</span> <span m='3142620'>orthogonal</span> <span m='3143220'>range</span>
  <span m='3143670'>searching,</span> <span m='3148110'>range</span> <span m='3148320'>searching</span>
  <span m='3148710'>is</span> <span m='3148860'>a</span> <span m='3148920'>big</span>
  <span m='3149220'>area.</span> <span m='3150090'>We're</span> <span m='3150210'>looking</span>
  <span m='3150480'>at</span> <span m='3150540'>the</span> <span m='3150600'>orthogonal</span>
  <span m='3151080'>case.</span> <span m='3152310'>There's</span> <span m='3152520'>other</span>
  <span m='3152700'>versions</span> <span m='3153090'>where</span> <span m='3153210'>you're</span>
  <span m='3153300'>querying</span> <span m='3153630'>with</span> <span m='3153750'>a</span>
  <span m='3153810'>triangle</span> <span m='3154470'>or a</span> <span m='3154620'>simplex.</span>
  </p><p><span m='3157140'>You</span> <span m='3157290'>can</span> <span m='3157410'>query</span>
  <span m='3157770'>with</span> <span m='3158730'>two-sided</span> <span m='3159270'>box,</span>
  <span m='3159880'>which</span> <span m='3160020'>goes</span> <span m='3160170'>out</span>
  <span m='3160280'>to</span> <span m='3160350'>infinity</span> <span m='3160830'>here.</span>
  <span m='3161430'>All</span> <span m='3161550'>sorts</span> <span m='3161790'>of</span>
  <span m='3161910'>things</span> <span m='3162585'>are</span> <span m='3162900'>out</span>
  <span m='3163080'>there.</span> <span m='3164050'>But</span> <span m='3164280'>let</span>
  <span m='3164400'>me</span> <span m='3164520'>stick</span> <span m='3164730'>to</span>
  <span m='3164880'>rectangles.</span> <span m='3166312'>Because</span> <span m='3166680'>that's</span>
  <span m='3166890'>what</span> <span m='3167010'>we've</span> <span m='3167370'>seen</span>
  <span m='3167700'>and</span> <span m='3167790'>we</span> <span m='3167880'>can</span>
  <span m='3168060'>relate</span> <span m='3168330'>to.</span> </p><p><span m='3170760'>You</span>
  <span m='3170940'>can</span> <span m='3171120'>achieve</span> <span m='3172440'>these</span>
  <span m='3172720'>same</span> <span m='3173070'>bounds--</span> <span m='3174400'>sorry,</span>
  <span m='3174620'>no</span> <span m='3174800'>update.</span> <span m='3175500'>You</span>
  <span m='3175620'>can</span> <span m='3175740'>achieve</span> <span m='3176100'>the</span>
  <span m='3176190'>log</span> <span m='3176490'>to</span> <span m='3176580'>the</span>
  <span m='3176700'>d minus</span> <span m='3177150'>1</span> <span m='3177420'>n</span>
  <span m='3177720'>query</span> <span m='3179130'>using</span> <span m='3179580'>less</span>
  <span m='3179880'>space.</span> <span m='3181690'>So</span> <span m='3181740'>I</span>
  <span m='3181830'>can</span> <span m='3182010'>get</span> <span m='3183980'>log</span>
  <span m='3184240'>to</span> <span m='3184500'>the</span> <span m='3184560'>d minus</span>
  <span m='3185120'>1</span> <span m='3185520'>n</span> <span m='3186630'>query</span>
  <span m='3188220'>and</span> <span m='3189810'>n</span> <span m='3191490'>log</span>
  <span m='3192090'>to</span> <span m='3192350'>the</span> <span m='3192740'>d minus</span>
  <span m='3193350'>1</span> <span m='3193860'>n</span> <span m='3195540'>space--</span>
  <span m='3196170'>that's</span> <span m='3196380'>what we</span> <span m='3196470'>were</span>
  <span m='3196590'>getting</span> <span m='3196830'>before--</span> <span m='3198270'>divided</span>
  <span m='3198870'>by</span> <span m='3199080'>log</span> <span m='3199410'>log</span>
  <span m='3199620'>n.</span> <span m='3201240'>Slight</span> <span m='3201630'>improvement.</span>
  </p><p><span m='3203280'>And</span> <span m='3203550'>in</span> <span m='3203640'>a</span>
  <span m='3203700'>certain</span> <span m='3204090'>model,</span> <span m='3204480'>this</span>
  <span m='3204720'>is</span> <span m='3204930'>basically</span> <span m='3205470'>optimal,</span>
  <span m='3206370'>which is</span> <span m='3206790'>kind</span> <span m='3206970'>of</span>
  <span m='3207120'>even</span> <span m='3207390'>crazier.</span> <span m='3207960'>This</span>
  <span m='3208170'>is</span> <span m='3208320'>an</span> <span m='3208530'>old</span>
  <span m='3208680'>result</span> <span m='3209200'>by</span> <span m='3209730'>Chazelle.</span>
  <span m='3211970'>That's in</span> <span m='3212310'>'86.</span> <span m='3214560'>OK.</span>
  <span m='3215670'>This</span> <span m='3215940'>is</span> <span m='3216090'>2D--</span>
  <span m='3218470'>sorry,</span> <span m='3219486'>not</span> <span m='3219880'>2D,</span>
  <span m='3220930'>just in</span> <span m='3221070'>general.</span> </p><p><span
  m='3225600'>Turns</span> <span m='3225900'>out</span> <span m='3226040'>this</span>
  <span m='3226290'>query</span> <span m='3226530'>time</span> <span m='3227130'>is</span>
  <span m='3227310'>not</span> <span m='3227490'>optimal.</span> <span m='3228840'>If</span>
  <span m='3228930'>you</span> <span m='3228990'>allow</span> <span m='3229230'>the</span>
  <span m='3229350'>space</span> <span m='3229680'>to</span> <span m='3229770'>go</span>
  <span m='3229920'>up</span> <span m='3230040'>a</span> <span m='3230100'>little</span>
  <span m='3230340'>bit,</span> <span m='3231630'>you</span> <span m='3231810'>can</span>
  <span m='3231960'>get</span> <span m='3232110'>another</span> <span m='3232500'>log</span>
  <span m='3232770'>improvement.</span> <span m='3235188'>So</span> <span m='3235680'>I</span>
  <span m='3235740'>can</span> <span m='3235890'>get</span> <span m='3236860'>log</span>
  <span m='3237290'>to</span> <span m='3237450'>the</span> <span m='3237570'>d minus</span>
  <span m='3238260'>2</span> <span m='3239160'>and</span> <span m='3239760'>query</span>
  <span m='3241980'>if</span> <span m='3242220'>I'm</span> <span m='3242400'>willing</span>
  <span m='3242700'>to</span> <span m='3242820'>pay--</span> <span m='3244675'>I didn't</span>
  <span m='3244960'>this is</span> <span m='3245370'>space--</span> <span m='3249210'>n</span>
  <span m='3250470'>log</span> <span m='3250950'>to</span> <span m='3251130'>the</span>
  <span m='3251290'>d</span> <span m='3252660'>n</span> <span m='3253920'>space.</span>
  </p><p><span m='3255510'>So</span> <span m='3255610'>if</span> <span m='3255630'>I</span>
  <span m='3255720'>give</span> <span m='3255990'>up</span> <span m='3256230'>another</span>
  <span m='3256620'>log</span> <span m='3256890'>factor</span> <span m='3258030'>in</span>
  <span m='3258240'>space,</span> <span m='3259260'>I</span> <span m='3259350'>can</span>
  <span m='3259470'>get</span> <span m='3259620'>another</span> <span m='3259980'>log</span>
  <span m='3260220'>factor in</span> <span m='3260670'>query.</span> <span m='3261060'>I</span>
  <span m='3261090'>don't</span> <span m='3261270'>think</span> <span m='3261390'>you</span>
  <span m='3261540'>can</span> <span m='3261660'>keep</span> <span m='3261870'>doing</span>
  <span m='3262080'>that.</span> <span m='3263040'>But</span> <span m='3263340'>for</span>
  <span m='3263610'>one</span> <span m='3263880'>more</span> <span m='3264060'>step,</span>
  <span m='3264390'>you</span> <span m='3264510'>can.</span> <span m='3265520'>I</span>
  <span m='3265820'>believe</span> <span m='3266160'>this</span> <span m='3266370'>is</span>
  <span m='3266660'>conjectured</span> <span m='3267210'>optimal</span> <span m='3267780'>for</span>
  <span m='3268230'>query.</span> <span m='3268770'>I</span> <span m='3269220'>don't</span>
  <span m='3269370'>know</span> <span m='3269460'>if</span> <span m='3269580'>it's</span>
  <span m='3269750'>proved.</span> </p><p><span m='3272040'>And</span> <span m='3272160'>this</span>
  <span m='3272370'>was</span> <span m='3272580'>originally</span> <span m='3273030'>done</span>
  <span m='3273330'>by</span> <span m='3273970'>Chazelle</span> <span m='3274270'>and</span>
  <span m='3274565'>Guibas</span> <span m='3275190'>using</span> <span m='3275940'>fractional</span>
  <span m='3276420'>cascading.</span> <span m='3278190'>And</span> <span m='3279300'>we'll</span>
  <span m='3279390'>see.</span> <span m='3279570'>If</span> <span m='3279660'>there's</span>
  <span m='3279840'>time</span> <span m='3280230'>next</span> <span m='3280500'>class,</span>
  <span m='3280890'>I'll</span> <span m='3281940'>show</span> <span m='3282180'>you</span>
  <span m='3282300'>how</span> <span m='3282480'>this</span> <span m='3282870'>works.</span>
  <span m='3283710'>But</span> <span m='3283830'>for</span> <span m='3283940'>now,</span>
  <span m='3284040'>I</span> <span m='3284100'>want</span> <span m='3284250'>to</span>
  <span m='3284310'>tell</span> <span m='3284490'>you</span> <span m='3284670'>in</span>
  <span m='3284790'>general</span> <span m='3285180'>how</span> <span m='3285360'>fractional</span>
  <span m='3285780'>cascading</span> <span m='3286290'>works</span> <span m='3286950'>in</span>
  <span m='3287070'>generality.</span> </p><p><span m='3288540'>This</span> <span
  m='3288840'>is</span> <span m='3288990'>part</span> <span m='3289260'>of</span>
  <span m='3289320'>fractional</span> <span m='3289710'>cascading,</span> <span m='3290250'>this</span>
  <span m='3290430'>idea</span> <span m='3290710'>of</span> <span m='3291420'>cross-linking</span>
  <span m='3292590'>from</span> <span m='3292740'>a</span> <span m='3292800'>bigger</span>
  <span m='3293040'>structure</span> <span m='3293400'>to</span> <span m='3293520'>a</span>
  <span m='3293550'>smaller</span> <span m='3293970'>one,</span> <span m='3295020'>so</span>
  <span m='3295200'>that</span> <span m='3295320'>you</span> <span m='3295410'>don't</span>
  <span m='3295620'>have</span> <span m='3295770'>to</span> <span m='3295860'>keep</span>
  <span m='3296040'>researching.</span> <span m='3296640'>You</span> <span m='3296730'>just</span>
  <span m='3296880'>reuse</span> <span m='3297930'>where</span> <span m='3298110'>you</span>
  <span m='3298200'>were.</span> <span m='3299340'>But</span> <span m='3299490'>there's</span>
  <span m='3299670'>another</span> <span m='3299970'>idea.</span> <span m='3300480'>I</span>
  <span m='3300570'>want</span> <span m='3300720'>to</span> <span m='3300780'>show</span>
  <span m='3300960'>you</span> <span m='3301080'>that</span> <span m='3301290'>idea.</span>
  <span m='3304200'>So,</span> <span m='3304830'>fractional</span> <span m='3305460'>cascading.</span>
  </p><p><span m='3322052'>AUDIENCE:</span> <span m='3322217'>Would</span> <span m='3322382'>that</span>
  <span m='3322548'>work</span> <span m='3323044'>for d</span> <span m='3323540'>equals
  2?</span> </p><p><span m='3324540'>ERIK DEMAINE:</span> <span m='3324625'>For</span>
  <span m='3324710'>d</span> <span m='3324950'>equals</span> <span m='3325610'>2,</span>
  <span m='3326150'>no</span> <span m='3326420'>it</span> <span m='3326510'>does</span>
  <span m='3326660'>not</span> <span m='3326900'>work.</span> <span m='3327840'>So</span>
  <span m='3328670'>I</span> <span m='3328790'>should</span> <span m='3328970'>say</span>
  <span m='3329690'>this</span> <span m='3329900'>is</span> <span m='3330020'>for</span>
  <span m='3330200'>2D</span> <span m='3330710'>and</span> <span m='3330800'>higher.</span>
  <span m='3331590'>D</span> <span m='3332120'>has</span> <span m='3332270'>to</span>
  <span m='3332360'>be</span> <span m='3332450'>bigger</span> <span m='3332720'>than</span>
  <span m='3332870'>1.</span> <span m='3333620'>Because</span> <span m='3333810'>you</span>
  <span m='3333980'>can</span> <span m='3334100'>never</span> <span m='3334340'>be</span>
  <span m='3334590'>log</span> <span m='3335060'>n.</span> </p><p><span m='3335920'>So</span>
  <span m='3336350'>for</span> <span m='3336800'>2D and</span> <span m='3337000'>higher,</span>
  <span m='3337460'>we</span> <span m='3337580'>could</span> <span m='3337730'>use</span>
  <span m='3337880'>the</span> <span m='3337970'>trick</span> <span m='3338210'>that</span>
  <span m='3338300'>we</span> <span m='3338390'>just</span> <span m='3338570'>did.</span>
  <span m='3339470'>For</span> <span m='3339650'>3D</span> <span m='3340070'>and</span>
  <span m='3340190'>higher,</span> <span m='3341270'>you</span> <span m='3341480'>can</span>
  <span m='3342380'>improve</span> <span m='3342710'>by</span> <span m='3342860'>another</span>
  <span m='3343070'>long,</span> <span m='3343450'>thanks.</span> <span m='3345010'>Other</span>
  <span m='3345230'>questions?</span> </p><p><span m='3345650'>AUDIENCE:</span> <span
  m='3345768'>But you said</span> <span m='3345886'>you can</span> <span m='3346122'>never</span>
  <span m='3346594'>beat</span> <span m='3347066'>log n.</span> </p><p><span m='3347540'>ERIK
  DEMAINE:</span> <span m='3347585'>We</span> <span m='3347630'>can</span> <span m='3347750'>never</span>
  <span m='3347990'>beat</span> <span m='3348200'>log</span> <span m='3348500'>n.</span>
  <span m='3348830'>In</span> <span m='3349040'>this</span> <span m='3349370'>model,</span>
  <span m='3351060'>which</span> <span m='3351200'>is</span> <span m='3351320'>basically</span>
  <span m='3351980'>comparison</span> <span m='3352610'>model,</span> <span m='3352880'>we're</span>
  <span m='3353030'>comparing</span> <span m='3353510'>coordinates.</span> <span m='3354580'>In</span>
  <span m='3354710'>that</span> <span m='3354860'>model</span> <span m='3355280'>and</span>
  <span m='3355490'>many</span> <span m='3355820'>other</span> <span m='3356000'>models,</span>
  <span m='3356690'>you</span> <span m='3356780'>can't</span> <span m='3356970'>beat</span>
  <span m='3357110'>log</span> <span m='3357380'>n</span> <span m='3357530'>query.</span>
  <span m='3358940'>Because</span> <span m='3359150'>in</span> <span m='3359240'>particular,</span>
  <span m='3359760'>you</span> <span m='3359860'>have</span> <span m='3359960'>to</span>
  <span m='3360060'>solve</span> <span m='3360170'>the</span> <span m='3360290'>search</span>
  <span m='3360560'>problem</span> <span m='3361220'>in</span> <span m='3361370'>1D.</span>
  </p><p><span m='3362570'>So</span> <span m='3362870'>we're</span> <span m='3362990'>always</span>
  <span m='3363470'>hampered</span> <span m='3363890'>by</span> <span m='3364040'>that.</span>
  <span m='3364310'>But</span> <span m='3364590'>the</span> <span m='3364670'>question</span>
  <span m='3364940'>is,</span> <span m='3365130'>how</span> <span m='3365210'>does</span>
  <span m='3365360'>it</span> <span m='3365420'>grow</span> <span m='3365630'>with</span>
  <span m='3365850'>d?</span> <span m='3368170'>And the</span> <span m='3368590'>claim</span>
  <span m='3368800'>is</span> <span m='3368950'>we</span> <span m='3369010'>can</span>
  <span m='3369100'>get</span> <span m='3369250'>log</span> <span m='3369500'>n</span>
  <span m='3369640'>all</span> <span m='3369880'>the</span> <span m='3369970'>way</span>
  <span m='3370090'>up</span> <span m='3370240'>to</span> <span m='3370360'>three</span>
  <span m='3370600'>dimensions.</span> <span m='3371230'>Only</span> <span m='3371500'>at</span>
  <span m='3371590'>four</span> <span m='3371830'>dimensions</span> <span m='3372250'>do
  we</span> <span m='3372370'>have</span> <span m='3372450'>to</span> <span m='3372550'>pay</span>
  <span m='3372700'>log</span> <span m='3372940'>squared.</span> <span m='3373900'>It's</span>
  <span m='3373990'>pretty</span> <span m='3374230'>amazing</span> <span m='3375160'>I</span>
  <span m='3375190'>think.</span> </p><p><span m='3377870'>OK.</span> <span m='3378570'>Fractional</span>
  <span m='3379130'>cascading--</span> <span m='3388020'>super</span> <span m='3388610'>cool</span>
  <span m='3388930'>name,</span> <span m='3389980'>kind</span> <span m='3390160'>of</span>
  <span m='3390340'>scary</span> <span m='3391000'>name.</span> <span m='3392320'>I</span>
  <span m='3392410'>was</span> <span m='3392530'>always</span> <span m='3392680'>scared</span>
  <span m='3393370'>when</span> <span m='3393550'>I</span> <span m='3393610'>heard</span>
  <span m='3393730'>about</span> <span m='3393910'>fractional</span> <span m='3394240'>cascading.</span>
  <span m='3394690'>But it</span> <span m='3394820'>turns</span> <span m='3395050'>out,
  it's</span> <span m='3395260'>very</span> <span m='3395470'>simple.</span> <span
  m='3395940'>Goal</span> <span m='3396140'>today</span> <span m='3396390'>is</span>
  <span m='3396550'>to</span> <span m='3396640'>not</span> <span m='3396820'>be</span>
  <span m='3396940'>scared.</span> </p><p><span m='3400110'>Let's</span> <span m='3400270'>start</span>
  <span m='3400510'>with</span> <span m='3400810'>a</span> <span m='3400990'>warm</span>
  <span m='3401290'>up</span> <span m='3401380'>problem.</span> <span m='3403560'>And</span>
  <span m='3403840'>then</span> <span m='3403990'>I'll</span> <span m='3404080'>tell</span>
  <span m='3404230'>you</span> <span m='3404500'>its</span> <span m='3404740'>full</span>
  <span m='3404950'>generality.</span> <span m='3406190'>But</span> <span m='3406810'>simple</span>
  <span m='3407170'>version</span> <span m='3407410'>of</span> <span m='3407470'>the</span>
  <span m='3407560'>problem</span> <span m='3408370'>is</span> <span m='3408850'>not</span>
  <span m='3409150'>geometry,</span> <span m='3409870'>per</span> <span m='3410080'>se.</span>
  <span m='3410290'>It's</span> <span m='3410410'>kind</span> <span m='3410590'>of</span>
  <span m='3410710'>1</span> <span m='3410920'>and</span> <span m='3411130'>1/2</span>
  <span m='3411340'>dimensions,</span> <span m='3411880'>if</span> <span m='3412000'>you</span>
  <span m='3412090'>will.</span> <span m='3412900'>Suppose</span> <span m='3413380'>I</span>
  <span m='3413500'>have</span> <span m='3414600'>k</span> <span m='3415190'>lists</span>
  <span m='3417610'>and</span> <span m='3417850'>each</span> <span m='3419800'>has</span>
  <span m='3420070'>size</span> <span m='3420550'>n.</span> </p><p><span m='3422620'>They're</span>
  <span m='3423220'>sorted</span> <span m='3423610'>lists,</span> <span m='3423980'>think</span>
  <span m='3424060'>of</span> <span m='3424150'>them.</span> <span m='3424630'>So</span>
  <span m='3426270'>we</span> <span m='3426520'>have</span> <span m='3427170'>n</span>
  <span m='3427390'>items</span> <span m='3428290'>come</span> <span m='3428470'>from</span>
  <span m='3428650'>an</span> <span m='3428740'>ordered</span> <span m='3429010'>universe.</span>
  <span m='3429460'>Here's</span> <span m='3429650'>list</span> <span m='3429860'>one.</span>
  <span m='3430840'>Here's</span> <span m='3431150'>list</span> <span m='3431460'>two.</span>
  <span m='3432760'>Here's</span> <span m='3432990'>a</span> <span m='3433040'>list</span>
  <span m='3433240'>three.</span> <span m='3434260'>There's k</span> <span m='3434620'>of</span>
  <span m='3434740'>them.</span> <span m='3436330'>Each</span> <span m='3436480'>of</span>
  <span m='3436540'>them</span> <span m='3436750'>has</span> <span m='3437140'>n</span>
  <span m='3437350'>items.</span> </p><p><span m='3439180'>I</span> <span m='3439330'>would</span>
  <span m='3439570'>like</span> <span m='3439810'>to</span> <span m='3439930'>search</span>
  <span m='3441380'>the</span> <span m='3441520'>query.</span> <span m='3444712'>We'll</span>
  <span m='3445150'>just</span> <span m='3445330'>do</span> <span m='3445450'>static</span>
  <span m='3446020'>here.</span> <span m='3446920'>Original</span> <span m='3447520'>fractional</span>
  <span m='3447910'>cascading</span> <span m='3448390'>was</span> <span m='3448540'>just</span>
  <span m='3448750'>static.</span> <span m='3449880'>And</span> <span m='3450100'>these</span>
  <span m='3450280'>results</span> <span m='3450640'>are</span> <span m='3450700'>just</span>
  <span m='3450880'>static.</span> </p><p><span m='3452170'>You</span> <span m='3452380'>can</span>
  <span m='3452590'>make</span> <span m='3452770'>it</span> <span m='3452830'>dynamic,</span>
  <span m='3453310'>but</span> <span m='3453490'>there</span> <span m='3453670'>is</span>
  <span m='3453730'>some</span> <span m='3453910'>overhead.</span> <span m='3454320'>And</span>
  <span m='3454420'>I</span> <span m='3454480'>don't</span> <span m='3454630'>want</span>
  <span m='3454780'>to</span> <span m='3455230'>get</span> <span m='3455380'>into</span>
  <span m='3455650'>that.</span> <span m='3455920'>It's</span> <span m='3456910'>even</span>
  <span m='3457660'>messier,</span> <span m='3459740'>or</span> <span m='3459880'>it</span>
  <span m='3459940'>is</span> <span m='3460090'>messy.</span> <span m='3460450'>Fractional</span>
  <span m='3460810'>cascading</span> <span m='3461230'>by</span> <span m='3461320'>itself</span>
  <span m='3461590'>is</span> <span m='3461680'>a</span> <span m='3461710'>very</span>
  <span m='3461830'>simple</span> <span m='3462400'>idea.</span> </p><p><span m='3463900'>Query</span>
  <span m='3464350'>is</span> <span m='3465100'>search</span> <span m='3467320'>for</span>
  <span m='3467960'>x</span> <span m='3469990'>in</span> <span m='3470140'>all</span>
  <span m='3470340'>lists.</span> <span m='3474140'>OK.</span> <span m='3474370'>So</span>
  <span m='3474610'>I</span> <span m='3474760'>want</span> <span m='3474940'>to</span>
  <span m='3475000'>know</span> <span m='3475630'>what</span> <span m='3475900'>is</span>
  <span m='3476050'>the</span> <span m='3476200'>predecessor</span> <span m='3476770'>and</span>
  <span m='3476860'>successor</span> <span m='3477310'>of</span> <span m='3477400'>x</span>
  <span m='3477640'>in</span> <span m='3477730'>this</span> <span m='3477880'>list.</span>
  <span m='3478180'>I</span> <span m='3478300'>want</span> <span m='3478450'>to</span>
  <span m='3478510'>know</span> <span m='3478690'>what is</span> <span m='3478870'>the</span>
  <span m='3478960'>predecessor</span> <span m='3479560'>and</span> <span m='3479770'>successor</span>
  <span m='3480190'>in</span> <span m='3480250'>this</span> <span m='3480430'>list.</span>
  <span m='3480690'>I</span> <span m='3480790'>want</span> <span m='3480940'>to</span>
  <span m='3481000'>know</span> <span m='3481720'>what's</span> <span m='3481910'>the</span>
  <span m='3481990'>predecessor</span> <span m='3482530'>and</span> <span m='3482620'>successor</span>
  <span m='3483010'>in</span> <span m='3483100'>this</span> <span m='3483250'>list,</span>
  <span m='3483850'>all</span> <span m='3484060'>of</span> <span m='3484180'>them.</span>
  </p><p><span m='3484810'>It's</span> <span m='3484960'>more</span> <span m='3485200'>information.</span>
  <span m='3485680'>If</span> <span m='3485800'>I</span> <span m='3485890'>just</span>
  <span m='3486100'>merged</span> <span m='3486430'>the</span> <span m='3486550'>lists</span>
  <span m='3486880'>and</span> <span m='3487000'>searched</span> <span m='3487240'>for</span>
  <span m='3487360'>x,</span> <span m='3488470'>I</span> <span m='3488590'>would</span>
  <span m='3489370'>find</span> <span m='3489670'>where</span> <span m='3489820'>x</span>
  <span m='3490060'>fits</span> <span m='3490240'>globally.</span> <span m='3491330'>But</span>
  <span m='3491380'>I</span> <span m='3491470'>want</span> <span m='3491620'>to</span>
  <span m='3491710'>know</span> <span m='3491920'>how</span> <span m='3492160'>it</span>
  <span m='3492250'>fits</span> <span m='3492490'>relative</span> <span m='3492880'>to</span>
  <span m='3492940'>this</span> <span m='3493120'>list</span> <span m='3493390'>and</span>
  <span m='3493630'>relative</span> <span m='3493990'>to</span> <span m='3494080'>this</span>
  <span m='3494260'>list</span> <span m='3494500'>and</span> <span m='3494680'>relative</span>
  <span m='3495040'>to</span> <span m='3495130'>this</span> <span m='3495340'>list.</span>
  <span m='3496480'>How</span> <span m='3496630'>do</span> <span m='3496750'>I</span>
  <span m='3496810'>do</span> <span m='3496990'>it?</span> </p><p><span m='3498430'>I</span>
  <span m='3498550'>could</span> <span m='3498700'>just</span> <span m='3498850'>do</span>
  <span m='3498940'>k</span> <span m='3499180'>binary</span> <span m='3499480'>searches.</span>
  <span m='3500330'>So</span> <span m='3501520'>this</span> <span m='3501670'>is</span>
  <span m='3501820'>an</span> <span m='3501910'>easy</span> <span m='3502120'>problem</span>
  <span m='3502420'>to</span> <span m='3502480'>solve.</span> <span m='3505270'>You</span>
  <span m='3505420'>get</span> <span m='3506230'>k</span> <span m='3506940'>times</span>
  <span m='3507310'>log</span> <span m='3507570'>n.</span> <span m='3509500'>But,</span>
  <span m='3509680'>now,</span> <span m='3509920'>fractional</span> <span m='3510370'>cascading</span>
  <span m='3510910'>comes</span> <span m='3511210'>in.</span> <span m='3512050'>And</span>
  <span m='3513280'>we</span> <span m='3513460'>can</span> <span m='3513610'>get</span>
  <span m='3516520'>the</span> <span m='3516670'>optimal</span> <span m='3517090'>bound,</span>
  <span m='3517610'>which</span> <span m='3517720'>is</span> <span m='3517930'>k</span>
  <span m='3518530'>plus</span> <span m='3519000'>log</span> <span m='3519310'>n.</span>
  </p><p><span m='3520760'>I</span> <span m='3521160'>need</span> <span m='3521410'>k</span>
  <span m='3521770'>to</span> <span m='3521920'>write</span> <span m='3522100'>down</span>
  <span m='3522310'>the</span> <span m='3522430'>answers.</span> <span m='3523600'>I</span>
  <span m='3523690'>need</span> <span m='3523900'>log</span> <span m='3524170'>n</span>
  <span m='3524350'>to</span> <span m='3524500'>do</span> <span m='3524620'>the</span>
  <span m='3524640'>search</span> <span m='3524890'>in</span> <span m='3524980'>one</span>
  <span m='3525190'>list.</span> <span m='3525640'>It</span> <span m='3526040'>turns</span>
  <span m='3526290'>out</span> <span m='3526360'>I</span> <span m='3526450'>can</span>
  <span m='3526570'>search</span> <span m='3526810'>on</span> <span m='3526900'>all</span>
  <span m='3527110'>k lists,</span> <span m='3527500'>simultaneously</span> <span
  m='3528310'>get</span> <span m='3528460'>all</span> <span m='3528700'>k answers</span>
  <span m='3529660'>in</span> <span m='3529810'>k</span> <span m='3530020'>plus</span>
  <span m='3530290'>log</span> <span m='3530500'>n</span> <span m='3530620'>time.</span>
  </p><p><span m='3532570'>It's</span> <span m='3532690'>kind</span> <span m='3532870'>of</span>
  <span m='3532930'>cool</span> <span m='3533860'>and,</span> <span m='3533980'>actually,</span>
  <span m='3534310'>quite</span> <span m='3534550'>easy</span> <span m='3534820'>to</span>
  <span m='3534970'>do.</span> <span m='3537400'>We</span> <span m='3537610'>want</span>
  <span m='3537880'>to</span> <span m='3537940'>use</span> <span m='3538150'>this</span>
  <span m='3538300'>concept.</span> <span m='3541390'>If</span> <span m='3541570'>I</span>
  <span m='3541630'>could</span> <span m='3541810'>search</span> <span m='3542200'>for</span>
  <span m='3542440'>my</span> <span m='3542950'>item,</span> <span m='3543370'>for</span>
  <span m='3543560'>x, in</span> <span m='3543940'>here,</span> <span m='3544870'>and</span>
  <span m='3544960'>then</span> <span m='3545110'>basically</span> <span m='3545470'>follow</span>
  <span m='3545920'>a</span> <span m='3546010'>pointer</span> <span m='3546940'>to</span>
  <span m='3547030'>where</span> <span m='3547210'>I</span> <span m='3547270'>want</span>
  <span m='3547380'>to</span> <span m='3547480'>go</span> <span m='3547630'>in</span>
  <span m='3547720'>here,</span> <span m='3548710'>I'd</span> <span m='3548830'>be</span>
  <span m='3548950'>done.</span> <span m='3549910'>Sadly,</span> <span m='3550330'>that</span>
  <span m='3550510'>can't</span> <span m='3550780'>be</span> <span m='3550900'>done.</span>
  </p><p><span m='3552500'>Why?</span> <span m='3553300'>Because</span> <span m='3554560'>who</span>
  <span m='3554740'>knows</span> <span m='3555100'>what</span> <span m='3555250'>elements</span>
  <span m='3555640'>are</span> <span m='3555730'>in</span> <span m='3555880'>here?</span>
  <span m='3556810'>All</span> <span m='3557170'>of</span> <span m='3557260'>these</span>
  <span m='3557470'>elements</span> <span m='3558850'>could</span> <span m='3559030'>fit</span>
  <span m='3559660'>right</span> <span m='3559900'>in</span> <span m='3559990'>this</span>
  <span m='3560080'>slot.</span> <span m='3561480'>And</span> <span m='3561700'>so</span>
  <span m='3561850'>how</span> <span m='3562060'>do</span> <span m='3562210'>I</span>
  <span m='3562300'>know</span> <span m='3562510'>where</span> <span m='3562690'>to</span>
  <span m='3562810'>go</span> <span m='3563290'>in</span> <span m='3563440'>this</span>
  <span m='3563650'>giant</span> <span m='3564130'>list?</span> </p><p><span m='3564400'>If</span>
  <span m='3564490'>these</span> <span m='3564700'>all</span> <span m='3565000'>fit</span>
  <span m='3565210'>in</span> <span m='3565330'>here</span> <span m='3566590'>and,</span>
  <span m='3567190'>recursively,</span> <span m='3567680'>these</span> <span m='3567910'>all</span>
  <span m='3568150'>fit</span> <span m='3568330'>in</span> <span m='3568450'>here,</span>
  <span m='3569050'>then</span> <span m='3569200'>by</span> <span m='3569320'>searching</span>
  <span m='3569800'>up</span> <span m='3569980'>here,</span> <span m='3570280'>I</span>
  <span m='3570400'>learn</span> <span m='3570580'>nothing</span> <span m='3571060'>about</span>
  <span m='3571300'>where</span> <span m='3571480'>x</span> <span m='3571810'>fits</span>
  <span m='3572050'>in</span> <span m='3572170'>here.</span> <span m='3572420'>I</span>
  <span m='3572470'>have</span> <span m='3572620'>to</span> <span m='3572710'>do</span>
  <span m='3572860'>another</span> <span m='3573130'>search.</span> <span m='3573820'>And</span>
  <span m='3573900'>then</span> <span m='3574030'>I</span> <span m='3574060'>learn</span>
  <span m='3574250'>nothing</span> <span m='3574600'>about</span> <span m='3574810'>where</span>
  <span m='3574960'>x</span> <span m='3575170'>fits</span> <span m='3575380'>in</span>
  <span m='3575470'>here.</span> </p><p><span m='3575650'>So</span> <span m='3575770'>it</span>
  <span m='3575830'>doesn't</span> <span m='3576100'>work</span> <span m='3576730'>straight</span>
  <span m='3577090'>up.</span> <span m='3577720'>But</span> <span m='3577840'>if</span>
  <span m='3577960'>we</span> <span m='3578050'>combine</span> <span m='3578560'>this</span>
  <span m='3578740'>idea</span> <span m='3579130'>with</span> <span m='3579640'>fractional</span>
  <span m='3580390'>cascading,</span> <span m='3581830'>then</span> <span m='3582130'>we</span>
  <span m='3582220'>can</span> <span m='3582370'>do</span> <span m='3582490'>it.</span>
  <span m='3583786'>So</span> <span m='3584190'>I</span> <span m='3584360'>can</span>
  <span m='3585400'>erase</span> <span m='3585700'>this</span> <span m='3585880'>now.</span>
  </p><p><span m='3598040'>So</span> <span m='3599020'>what</span> <span m='3599170'>do</span>
  <span m='3599230'>we</span> <span m='3599320'>do?</span> <span m='3602720'>Idea</span>
  <span m='3602910'>is</span> <span m='3603040'>very</span> <span m='3603220'>simple.</span>
  <span m='3604430'>So</span> <span m='3604600'>I'm</span> <span m='3604690'>going</span>
  <span m='3604810'>to</span> <span m='3604870'>call</span> <span m='3605110'>these</span>
  <span m='3605330'>lists</span> <span m='3606310'>L1,</span> <span m='3608110'>L2,</span>
  <span m='3609390'>L3</span> <span m='3609670'>up</span> <span m='3609800'>to</span>
  <span m='3609930'>Lk.</span> <span m='3613780'>I</span> <span m='3613930'>want</span>
  <span m='3614200'>to</span> <span m='3614740'>add</span> <span m='3621280'>every</span>
  <span m='3621700'>other</span> <span m='3622060'>item</span> <span m='3626720'>in</span>
  <span m='3627080'>Lk</span> <span m='3630740'>to</span> <span m='3633270'>Lk</span>
  <span m='3633680'>minus</span> <span m='3634020'>1</span> <span m='3635300'>and</span>
  <span m='3635450'>produce</span> <span m='3635840'>a</span> <span m='3635900'>new</span>
  <span m='3636050'>list</span> <span m='3636380'>Lk</span> <span m='3636770'>minus
  1</span> <span m='3637040'>prime.</span> </p><p><span m='3639880'>So</span> <span
  m='3640060'>I</span> <span m='3640280'>take</span> <span m='3641180'>every</span>
  <span m='3641420'>second</span> <span m='3641720'>item</span> <span m='3641990'>here,</span>
  <span m='3645150'>just</span> <span m='3645380'>insert</span> <span m='3645740'>them</span>
  <span m='3645890'>into</span> <span m='3646040'>this</span> <span m='3646220'>list.</span>
  <span m='3649320'>[INAUDIBLE]</span> <span m='3649460'>it's</span> <span m='3649700'>a</span>
  <span m='3649760'>constant</span> <span m='3650060'>fraction</span> <span m='3650420'>bigger.</span>
  <span m='3652460'>And</span> <span m='3652580'>then</span> <span m='3652730'>repeat.</span>
  <span m='3654080'>This</span> <span m='3654230'>is</span> <span m='3654320'>the</span>
  <span m='3654440'>fractional</span> <span m='3655310'>part.</span> <span m='3656090'>Here,
  a</span> <span m='3656330'>fraction</span> <span m='3656840'>is</span> <span m='3657140'>one</span>
  <span m='3657430'>half.</span> <span m='3658100'>You</span> <span m='3658190'>can</span>
  <span m='3658310'>make</span> <span m='3658490'>it</span> <span m='3658580'>whatever</span>
  <span m='3658910'>fraction</span> <span m='3659300'>you</span> <span m='3659390'>like</span>
  <span m='3660270'>less than one.</span> </p><p><span m='3662540'>In</span> <span
  m='3662690'>general,</span> <span m='3663660'>I'm</span> <span m='3663700'>going</span>
  <span m='3663920'>to</span> <span m='3664010'>add</span> <span m='3665630'>every</span>
  <span m='3665960'>other</span> <span m='3666200'>item--</span> <span m='3669720'>this</span>
  <span m='3669930'>is</span> <span m='3670040'>in</span> <span m='3670160'>sorted</span>
  <span m='3670550'>order</span> <span m='3671250'>in</span> <span m='3671390'>Lk,</span>
  <span m='3671910'>of</span> <span m='3671930'>course--</span> <span m='3673360'>that's</span>
  <span m='3673670'>in</span> <span m='3673970'>Li</span> <span m='3675060'>prime--</span>
  <span m='3676610'>the</span> <span m='3676700'>prime</span> <span m='3677060'>is</span>
  <span m='3677150'>the</span> <span m='3677240'>important</span> <span m='3677570'>part</span>
  <span m='3677780'>here--</span> <span m='3678410'>to</span> <span m='3678620'>Li</span>
  <span m='3679220'>minus</span> <span m='3679580'>1</span> <span m='3680810'>to</span>
  <span m='3681260'>form</span> <span m='3682340'>Li</span> <span m='3682940'>minus</span>
  <span m='3683240'>prime.</span> <span m='3684780'>So</span> <span m='3684800'>I've</span>
  <span m='3684890'>got</span> <span m='3685070'>this</span> <span m='3685250'>new</span>
  <span m='3685490'>larger</span> <span m='3685970'>version</span> <span m='3686300'>of</span>
  <span m='3686390'>L2.</span> <span m='3687520'>I</span> <span m='3687620'>take</span>
  <span m='3687920'>half</span> <span m='3688220'>the</span> <span m='3688370'>items</span>
  <span m='3688640'>from</span> <span m='3688790'>here.</span> </p><p><span m='3689030'>Some</span>
  <span m='3689300'>of</span> <span m='3689390'>them</span> <span m='3689990'>may
  be</span> <span m='3690290'>items</span> <span m='3690650'>that</span> <span m='3690770'>were</span>
  <span m='3690950'>in</span> <span m='3691100'>L3.</span> <span m='3691850'>Some</span>
  <span m='3692120'>of</span> <span m='3692180'>them</span> <span m='3692420'>are</span>
  <span m='3692540'>items</span> <span m='3692900'>that</span> <span m='3693020'>were</span>
  <span m='3693140'>originally</span> <span m='3693560'>in</span> <span m='3693620'>L2.</span>
  <span m='3694280'>But</span> <span m='3694400'>all</span> <span m='3694670'>of</span>
  <span m='3694790'>them</span> <span m='3694970'>get</span> <span m='3695120'>promoted.</span>
  <span m='3696030'>Or</span> <span m='3696440'>half</span> <span m='3696800'>of</span>
  <span m='3696890'>them</span> <span m='3697610'>get</span> <span m='3697790'>promoted</span>
  <span m='3698720'>to</span> <span m='3699040'>L1.</span> <span m='3700550'>So</span>
  <span m='3700670'>I</span> <span m='3700730'>keep</span> <span m='3700970'>promoting</span>
  <span m='3701510'>from</span> <span m='3701630'>the</span> <span m='3701720'>bottom</span>
  <span m='3702050'>up.</span> </p><p><span m='3703880'>How</span> <span m='3704210'>big</span>
  <span m='3704480'>do</span> <span m='3704630'>my</span> <span m='3704780'>lists</span>
  <span m='3705110'>get?</span> <span m='3706340'>What</span> <span m='3706490'>is</span>
  <span m='3706640'>the</span> <span m='3706820'>size</span> <span m='3707930'>of</span>
  <span m='3708240'>Li</span> <span m='3708730'>prime?</span> <span m='3710550'>Well,</span>
  <span m='3711330'>it</span> <span m='3711500'>started</span> <span m='3711860'>with</span>
  <span m='3712160'>Li.</span> <span m='3714290'>And</span> <span m='3714410'>then</span>
  <span m='3714590'>I</span> <span m='3714740'>added</span> <span m='3716330'>half</span>
  <span m='3716900'>of</span> <span m='3717140'>the</span> <span m='3717290'>items</span>
  <span m='3717680'>that</span> <span m='3717830'>were</span> <span m='3717980'>in</span>
  <span m='3718070'>the</span> <span m='3718130'>next</span> <span m='3718370'>level</span>
  <span m='3718610'>down,</span> <span m='3719250'>Li</span> <span m='3719810'>plus</span>
  <span m='3720110'>1.</span> </p><p><span m='3722450'>OK.</span> <span m='3722700'>So</span>
  <span m='3723020'>this</span> <span m='3723320'>is</span> <span m='3723650'>n.</span>
  <span m='3725800'>And</span> <span m='3725930'>so</span> <span m='3726050'>this</span>
  <span m='3726260'>is</span> <span m='3726320'>going</span> <span m='3726470'>to</span>
  <span m='3726530'>be</span> <span m='3726650'>half</span> <span m='3727070'>of</span>
  <span m='3727550'>n</span> <span m='3727970'>plus</span> <span m='3728270'>half</span>
  <span m='3728690'>of</span> <span m='3729440'>another</span> <span m='3729710'>n</span>
  <span m='3729980'>plus</span> <span m='3730220'>half</span> <span m='3730550'>of--</span>
  <span m='3730760'>I</span> <span m='3730820'>mean,</span> <span m='3730940'>it's</span>
  <span m='3731030'>going</span> <span m='3731140'>to</span> <span m='3731210'>be</span>
  <span m='3731330'>n plus</span> <span m='3731740'>a</span> <span m='3731810'>half</span>
  <span m='3732090'>n plus</span> <span m='3732410'>a</span> <span m='3732470'>quarter</span>
  <span m='3732750'>n</span> <span m='3732920'>plus</span> <span m='3733100'>an</span>
  <span m='3733190'>eighth</span> <span m='3733380'>n.</span> <span m='3734010'>It's
  a</span> <span m='3734120'>geometric</span> <span m='3734600'>series.</span> </p><p><span
  m='3735670'>This</span> <span m='3735980'>is</span> <span m='3736370'>just</span>
  <span m='3736580'>a</span> <span m='3736640'>constant</span> <span m='3736970'>factor</span>
  <span m='3737270'>growth.</span> <span m='3738215'>I'm</span> <span m='3738650'>assuming</span>
  <span m='3739040'>all</span> <span m='3739130'>the</span> <span m='3739190'>lists</span>
  <span m='3739430'>have</span> <span m='3739550'>the</span> <span m='3739670'>same</span>
  <span m='3739880'>size</span> <span m='3740180'>here</span> <span m='3740510'>for</span>
  <span m='3740660'>simplicity.</span> <span m='3741140'>You</span> <span m='3741260'>can</span>
  <span m='3741410'>generalize.</span> </p><p><span m='3744380'>So</span> <span m='3744530'>I</span>
  <span m='3744590'>didn't</span> <span m='3744800'>really</span> <span m='3744980'>make</span>
  <span m='3745160'>the</span> <span m='3745250'>lists</span> <span m='3745490'>any</span>
  <span m='3745670'>bigger,</span> <span m='3746810'>per</span> <span m='3746960'>se.</span>
  <span m='3747920'>But</span> <span m='3748490'>I</span> <span m='3748580'>fixed</span>
  <span m='3748970'>this</span> <span m='3749120'>problem.</span> <span m='3750230'>If</span>
  <span m='3750410'>all</span> <span m='3750680'>of</span> <span m='3750770'>the</span>
  <span m='3750890'>elements</span> <span m='3751250'>in</span> <span m='3751360'>L2</span>
  <span m='3753230'>fit</span> <span m='3753620'>right</span> <span m='3753920'>here</span>
  <span m='3754400'>in</span> <span m='3754520'>L1,</span> <span m='3756330'>it's</span>
  <span m='3756980'>no</span> <span m='3757130'>longer</span> <span m='3757340'>a</span>
  <span m='3757370'>problem.</span> <span m='3757760'>Because,</span> <span m='3758090'>now,</span>
  <span m='3758240'>half</span> <span m='3758630'>of</span> <span m='3758720'>the</span>
  <span m='3758840'>items</span> <span m='3759140'>from</span> <span m='3759290'>L2</span>
  <span m='3760010'>now</span> <span m='3760280'>live</span> <span m='3760550'>in</span>
  <span m='3760640'>L1.</span> </p><p><span m='3761090'>So</span> <span m='3761210'>when</span>
  <span m='3761360'>I</span> <span m='3761420'>search</span> <span m='3761750'>among</span>
  <span m='3762050'>L1,</span> <span m='3762950'>I'm</span> <span m='3763220'>not</span>
  <span m='3763430'>quite</span> <span m='3763880'>doing</span> <span m='3764120'>a</span>
  <span m='3764180'>global</span> <span m='3764570'>search.</span> <span m='3765500'>But</span>
  <span m='3765920'>I'm</span> <span m='3766100'>finding</span> <span m='3766520'>where</span>
  <span m='3766670'>I</span> <span m='3766760'>fit</span> <span m='3766940'>in</span>
  <span m='3767080'>L1.</span> <span m='3767590'>I</span> <span m='3767670'>didn't</span>
  <span m='3767870'>contaminate</span> <span m='3768640'>it</span> <span m='3768830'>too</span>
  <span m='3769100'>much</span> <span m='3769370'>from</span> <span m='3769530'>L2.</span>
  <span m='3770990'>And</span> <span m='3771200'>then</span> <span m='3773180'>now,</span>
  <span m='3773360'>it's</span> <span m='3773480'>useful</span> <span m='3773900'>to</span>
  <span m='3773990'>have</span> <span m='3774170'>pointers</span> <span m='3774590'>from</span>
  <span m='3774890'>L1</span> <span m='3775790'>to</span> <span m='3775910'>L2.</span>
  <span m='3776390'>Let</span> <span m='3776510'>me</span> <span m='3776660'>draw</span>
  <span m='3776930'>a</span> <span m='3776960'>picture</span> <span m='3777310'>maybe.</span>
  </p><p><span m='3792130'>So</span> <span m='3795000'>here's</span> <span m='3795400'>L1,</span>
  <span m='3798030'>L2,</span> <span m='3800050'>L3.</span> <span m='3801700'>So</span>
  <span m='3802540'>half</span> <span m='3802900'>of</span> <span m='3802990'>the</span>
  <span m='3803140'>items</span> <span m='3803530'>here</span> <span m='3807070'>have</span>
  <span m='3807310'>been</span> <span m='3807460'>inserted</span> <span m='3808930'>into</span>
  <span m='3809140'>here.</span> <span m='3809380'>Now,</span> <span m='3809860'>we</span>
  <span m='3809980'>don't</span> <span m='3810160'>really</span> <span m='3810400'>know--</span>
  <span m='3811870'>maybe</span> <span m='3812380'>many</span> <span m='3812620'>of</span>
  <span m='3812710'>them</span> <span m='3812830'>went</span> <span m='3813430'>near</span>
  <span m='3813640'>the</span> <span m='3813730'>same</span> <span m='3813970'>location.</span>
  </p><p><span m='3816480'>But</span> <span m='3816760'>they</span> <span m='3817420'>went</span>
  <span m='3817630'>there.</span> <span m='3817840'>And</span> <span m='3817930'>I'm</span>
  <span m='3817990'>going</span> <span m='3818080'>to</span> <span m='3818140'>have</span>
  <span m='3818260'>pointers</span> <span m='3818620'>in</span> <span m='3818770'>both</span>
  <span m='3819010'>directions.</span> <span m='3819790'>Let's say</span> <span m='3820030'>I</span>
  <span m='3820120'>need</span> <span m='3820270'>them</span> <span m='3820420'>down.</span>
  <span m='3822800'>So</span> <span m='3822910'>that</span> <span m='3823060'>if</span>
  <span m='3823210'>I</span> <span m='3823300'>search</span> <span m='3823600'>in</span>
  <span m='3823690'>here,</span> <span m='3824050'>I</span> <span m='3824170'>can</span>
  <span m='3824320'>figure</span> <span m='3824560'>out</span> <span m='3824650'>where</span>
  <span m='3824830'>I</span> <span m='3824920'>am</span> <span m='3825340'>down</span>
  <span m='3825550'>here.</span> </p><p><span m='3829020'>Then</span> <span m='3830440'>half</span>
  <span m='3830710'>of</span> <span m='3830800'>these</span> <span m='3831040'>guys--</span>
  <span m='3831670'>maybe I'll</span> <span m='3832000'>use</span> <span m='3832150'>another</span>
  <span m='3832390'>color--</span> <span m='3835120'>get</span> <span m='3835270'>promoted</span>
  <span m='3835720'>to</span> <span m='3835840'>the</span> <span m='3835900'>next</span>
  <span m='3836110'>level</span> <span m='3836470'>up.</span> <span m='3837340'>So</span>
  <span m='3838420'>maybe</span> <span m='3838900'>this</span> <span m='3839110'>one</span>
  <span m='3839290'>gets</span> <span m='3839500'>promoted.</span> <span m='3840070'>Maybe</span>
  <span m='3840430'>this</span> <span m='3840670'>one</span> <span m='3840820'>gets</span>
  <span m='3841030'>promoted.</span> <span m='3842670'>I guess</span> <span m='3842960'>half</span>
  <span m='3843390'>would be</span> <span m='3843820'>that one,</span> <span m='3844820'>that
  one,</span> <span m='3845900'>that</span> <span m='3846100'>one,</span> <span m='3846815'>that</span>
  <span m='3847140'>one,</span> <span m='3847740'>that one.</span> <span m='3848710'>These</span>
  <span m='3848920'>guys</span> <span m='3849430'>get</span> <span m='3849580'>promoted</span>
  <span m='3850030'>to</span> <span m='3850180'>the</span> <span m='3850270'>next</span>
  <span m='3850510'>level.</span> </p><p><span m='3866450'>OK.</span> <span m='3867600'>I</span>
  <span m='3867640'>claim</span> <span m='3868000'>this</span> <span m='3868180'>is</span>
  <span m='3868300'>enough</span> <span m='3868570'>information.</span> <span m='3869290'>This</span>
  <span m='3869500'>is</span> <span m='3869650'>fractional</span> <span m='3870100'>cascading</span>
  <span m='3870640'>in</span> <span m='3870730'>its</span> <span m='3870820'>full</span>
  <span m='3871000'>generality.</span> <span m='3872020'>We</span> <span m='3872110'>have</span>
  <span m='3872230'>the</span> <span m='3872320'>cross-linking</span> <span m='3873250'>that</span>
  <span m='3873370'>we</span> <span m='3873490'>had</span> <span m='3873880'>in</span>
  <span m='3874180'>the</span> <span m='3874390'>layered</span> <span m='3875440'>range</span>
  <span m='3875740'>trees.</span> <span m='3876400'>But,</span> <span m='3876550'>now,</span>
  <span m='3876670'>we</span> <span m='3876820'>also</span> <span m='3877120'>have</span>
  <span m='3877780'>the</span> <span m='3877900'>fractional</span> <span m='3878290'>cascading</span>
  <span m='3878770'>part,</span> <span m='3879010'>which</span> <span m='3879160'>is</span>
  <span m='3879250'>you</span> <span m='3879370'>take</span> <span m='3879600'>a</span>
  <span m='3879770'>fraction,</span> <span m='3880090'>you</span> <span m='3880210'>cascade</span>
  <span m='3880720'>it</span> <span m='3880820'>into</span> <span m='3881020'>the</span>
  <span m='3881080'>next</span> <span m='3881290'>layer.</span> </p><p><span m='3881980'>The</span>
  <span m='3882070'>cascading</span> <span m='3882550'>refers</span> <span m='3882630'>to</span>
  <span m='3882990'>those</span> <span m='3883300'>guys</span> <span m='3884050'>continue</span>
  <span m='3884500'>to</span> <span m='3884590'>get</span> <span m='3884800'>promoted.</span>
  <span m='3885330'>Half</span> <span m='3885610'>of</span> <span m='3885700'>them</span>
  <span m='3885910'>get</span> <span m='3886060'>promoted</span> <span m='3886480'>up</span>
  <span m='3887320'>recursively.</span> <span m='3889330'>That's</span> <span m='3889480'>where</span>
  <span m='3889600'>the</span> <span m='3889690'>name</span> <span m='3889870'>comes</span>
  <span m='3890080'>from.</span> </p><p><span m='3891950'>So</span> <span m='3892000'>now,</span>
  <span m='3892510'>how</span> <span m='3892660'>do</span> <span m='3892750'>we</span>
  <span m='3892840'>do</span> <span m='3892960'>a</span> <span m='3892990'>search?</span>
  <span m='3893650'>We're</span> <span m='3893740'>going</span> <span m='3893860'>to</span>
  <span m='3893920'>start</span> <span m='3894130'>at</span> <span m='3894190'>the</span>
  <span m='3894250'>top.</span> <span m='3894750'>And</span> <span m='3894760'>we're</span>
  <span m='3894820'>going</span> <span m='3894940'>to</span> <span m='3895000'>do</span>
  <span m='3895100'>a</span> <span m='3895120'>regular</span> <span m='3895600'>binary</span>
  <span m='3895990'>search</span> <span m='3896260'>at</span> <span m='3896350'>the</span>
  <span m='3896440'>top.</span> <span m='3897490'>Because</span> <span m='3897640'>we</span>
  <span m='3897730'>can</span> <span m='3897880'>afford</span> <span m='3898180'>log</span>
  <span m='3898460'>n</span> <span m='3898630'>once.</span> </p><p><span m='3899650'>So</span>
  <span m='3899800'>we</span> <span m='3899920'>do the</span> <span m='3900320'>binary</span>
  <span m='3900540'>search</span> <span m='3900790'>at</span> <span m='3900850'>the</span>
  <span m='3900970'>top.</span> <span m='3902230'>So</span> <span m='3902410'>maybe</span>
  <span m='3902650'>we</span> <span m='3902800'>find</span> <span m='3903670'>that</span>
  <span m='3903820'>our</span> <span m='3903940'>item</span> <span m='3904720'>fits</span>
  <span m='3904960'>here</span> <span m='3906910'>in</span> <span m='3907060'>this</span>
  <span m='3907180'>search.</span> <span m='3907600'>So</span> <span m='3907900'>that</span>
  <span m='3908380'>tells</span> <span m='3908680'>us,</span> <span m='3908980'>oh,</span>
  <span m='3909130'>well,</span> <span m='3910030'>this</span> <span m='3910300'>is</span>
  <span m='3910420'>where</span> <span m='3910990'>item</span> <span m='3911320'>x</span>
  <span m='3911620'>fits</span> <span m='3912550'>in</span> <span m='3912700'>this</span>
  <span m='3912880'>list.</span> <span m='3913960'>Great.</span> <span m='3914830'>Now,</span>
  <span m='3914980'>I</span> <span m='3915040'>need</span> <span m='3915190'>to</span>
  <span m='3915280'>know</span> <span m='3915460'>where</span> <span m='3915580'>it</span>
  <span m='3915670'>fits</span> <span m='3915940'>in</span> <span m='3916030'>the</span>
  <span m='3916120'>next</span> <span m='3916330'>list</span> <span m='3916690'>in</span>
  <span m='3916930'>constant</span> <span m='3917380'>time.</span> </p><p><span m='3918970'>Well,</span>
  <span m='3919300'>I</span> <span m='3919600'>need</span> <span m='3919750'>some</span>
  <span m='3919870'>more</span> <span m='3919990'>pointers</span> <span m='3920290'>for</span>
  <span m='3920380'>this.</span> <span m='3920980'>So</span> <span m='3921130'>for</span>
  <span m='3921370'>each</span> <span m='3921610'>item</span> <span m='3921820'>in</span>
  <span m='3921910'>here,</span> <span m='3922780'>I'm</span> <span m='3922870'>going</span>
  <span m='3922990'>to</span> <span m='3923050'>store</span> <span m='3923230'>a</span>
  <span m='3923290'>pointer</span> <span m='3923740'>to</span> <span m='3923950'>the</span>
  <span m='3924040'>previous</span> <span m='3924520'>and</span> <span m='3924730'>next,</span>
  <span m='3925060'>let's</span> <span m='3925240'>say,</span> <span m='3925880'>red</span>
  <span m='3926190'>node,</span> <span m='3927380'>the</span> <span m='3927730'>previous</span>
  <span m='3928150'>and</span> <span m='3928230'>next</span> <span m='3928450'>node</span>
  <span m='3928570'>that</span> <span m='3928720'>was</span> <span m='3928870'>promoted</span>
  <span m='3929380'>from</span> <span m='3929650'>the</span> <span m='3929980'>list</span>
  <span m='3930220'>below.</span> <span m='3931800'>OK.</span> <span m='3931990'>So,</span>
  <span m='3932200'>now,</span> <span m='3933160'>I</span> <span m='3933610'>basically</span>
  <span m='3934150'>know</span> <span m='3934390'>where</span> <span m='3934600'>it</span>
  <span m='3934690'>fits</span> <span m='3934990'>here.</span> <span m='3935290'>Not</span>
  <span m='3935470'>quite,</span> <span m='3936310'>because</span> <span m='3936520'>this</span>
  <span m='3936670'>is</span> <span m='3936760'>only</span> <span m='3937000'>half</span>
  <span m='3937300'>the</span> <span m='3937450'>items.</span> </p><p><span m='3938350'>So</span>
  <span m='3938530'>I</span> <span m='3938650'>know</span> <span m='3939490'>that</span>
  <span m='3939640'>it</span> <span m='3939730'>fits</span> <span m='3939970'>between</span>
  <span m='3940330'>this</span> <span m='3940570'>guy</span> <span m='3941320'>and</span>
  <span m='3941470'>this</span> <span m='3941650'>guy</span> <span m='3942040'>in</span>
  <span m='3942430'>list</span> <span m='3942850'>2</span> <span m='3943480'>prime,</span>
  <span m='3944480'>technically.</span> <span m='3947260'>So</span> <span m='3947710'>the</span>
  <span m='3947830'>only</span> <span m='3948040'>thing</span> <span m='3948160'>I</span>
  <span m='3948250'>don't</span> <span m='3948460'>know</span> <span m='3948670'>is,</span>
  <span m='3948940'>is</span> <span m='3949210'>it</span> <span m='3949480'>here</span>
  <span m='3950020'>or</span> <span m='3950170'>here?</span> <span m='3951370'>So
  I</span> <span m='3951760'>compare</span> <span m='3952120'>with</span> <span m='3952270'>this</span>
  <span m='3952450'>one</span> <span m='3952780'>item.</span> <span m='3953590'>And</span>
  <span m='3954460'>in</span> <span m='3954610'>general,</span> <span m='3955750'>if</span>
  <span m='3955870'>it's</span> <span m='3956020'>not</span> <span m='3956170'>a</span>
  <span m='3956230'>half,</span> <span m='3956560'>if</span> <span m='3956650'>the</span>
  <span m='3956770'>fraction is</span> <span m='3957180'>some</span> <span m='3957370'>other</span>
  <span m='3957520'>constant,</span> <span m='3958190'>I</span> <span m='3958330'>spend</span>
  <span m='3958710'>constant</span> <span m='3959050'>time</span> <span m='3959410'>to</span>
  <span m='3959530'>look</span> <span m='3959680'>at</span> <span m='3959740'>a</span>
  <span m='3959810'>constant</span> <span m='3960160'>number</span> <span m='3960340'>of</span>
  <span m='3960430'>items,</span> <span m='3961120'>figure</span> <span m='3961330'>out</span>
  <span m='3961450'>where</span> <span m='3961600'>it</span> <span m='3961690'>fits</span>
  <span m='3962020'>among</span> <span m='3962290'>those</span> <span m='3962500'>items.</span>
  </p><p><span m='3962930'>Now,</span> <span m='3963070'>I</span> <span m='3963130'>know</span>
  <span m='3963340'>where</span> <span m='3963490'>it</span> <span m='3963550'>fits</span>
  <span m='3963790'>in</span> <span m='3963910'>L2</span> <span m='3964270'>prime.</span>
  <span m='3965980'>Then</span> <span m='3966220'>I,</span> <span m='3967210'>again,</span>
  <span m='3967840'>follow</span> <span m='3968200'>pointers</span> <span m='3968560'>to</span>
  <span m='3968680'>the</span> <span m='3968800'>next</span> <span m='3969100'>items.</span>
  <span m='3969490'>In</span> <span m='3969550'>this</span> <span m='3969700'>case,</span>
  <span m='3969890'>they're</span> <span m='3970030'>the</span> <span m='3970180'>white</span>
  <span m='3970510'>items.</span> <span m='3971510'>So</span> <span m='3971530'>let's</span>
  <span m='3971710'>say</span> <span m='3971890'>it</span> <span m='3972010'>fits</span>
  <span m='3972850'>here,</span> <span m='3974410'>basically.</span> </p><p><span
  m='3975150'>I</span> <span m='3975230'>have</span> <span m='3975400'>a</span> <span
  m='3975460'>pointer</span> <span m='3975790'>to</span> <span m='3975970'>the</span>
  <span m='3976090'>previous</span> <span m='3976750'>and</span> <span m='3977140'>next</span>
  <span m='3977890'>white</span> <span m='3978190'>item</span> <span m='3978530'>from</span>
  <span m='3978760'>that</span> <span m='3979000'>item.</span> <span m='3979900'>Follow</span>
  <span m='3980230'>those</span> <span m='3980440'>pointers</span> <span m='3980770'>down.</span>
  <span m='3981070'>And</span> <span m='3981160'>now,</span> <span m='3981340'>I</span>
  <span m='3981400'>know</span> <span m='3981610'>it's</span> <span m='3981760'>either,</span>
  <span m='3982780'>basically,</span> <span m='3983050'>here,</span> <span m='3983320'>here,</span>
  <span m='3983680'>here.</span> <span m='3984630'>It's</span> <span m='3985000'>somewhere</span>
  <span m='3985420'>in</span> <span m='3985510'>that</span> <span m='3985690'>little</span>
  <span m='3985870'>range</span> <span m='3987250'>of</span> <span m='3987370'>either</span>
  <span m='3987610'>equaling</span> <span m='3988060'>this</span> <span m='3988300'>or</span>
  <span m='3988390'>being</span> <span m='3988600'>between</span> <span m='3989020'>these</span>
  <span m='3989200'>two</span> <span m='3989320'>items</span> <span m='3989650'>or</span>
  <span m='3989740'>on</span> <span m='3989950'>this</span> <span m='3990130'>item</span>
  <span m='3990420'>or</span> <span m='3990520'>between</span> <span m='3990880'>those</span>
  <span m='3991030'>two</span> <span m='3991180'>items</span> <span m='3991420'>or</span>
  <span m='3991510'>on</span> <span m='3991630'>this</span> <span m='3991810'>item.</span>
  </p><p><span m='3993280'>And,</span> <span m='3993490'>again,</span> <span m='3993730'>constant</span>
  <span m='3994120'>number</span> <span m='3994270'>of</span> <span m='3994360'>things</span>
  <span m='3994540'>to</span> <span m='3994630'>look</span> <span m='3994840'>at.</span>
  <span m='3995410'>I</span> <span m='3995500'>figure</span> <span m='3995770'>out</span>
  <span m='3995890'>where</span> <span m='3996190'>I</span> <span m='3996280'>belong.</span>
  <span m='3997240'>In</span> <span m='3997540'>the</span> <span m='3997840'>primed</span>
  <span m='3998440'>list,</span> <span m='3998800'>which</span> <span m='3998980'>is</span>
  <span m='3999070'>not</span> <span m='3999280'>quite</span> <span m='3999700'>the</span>
  <span m='3999820'>original</span> <span m='4000180'>list,</span> <span m='4003450'>maybe</span>
  <span m='4003750'>I</span> <span m='4003810'>determine</span> <span m='4004260'>that</span>
  <span m='4004410'>x</span> <span m='4004710'>falls</span> <span m='4005040'>here.</span>
  <span m='4006320'>And</span> <span m='4006420'>what</span> <span m='4006570'>I</span>
  <span m='4006660'>really</span> <span m='4006960'>want</span> <span m='4007110'>to</span>
  <span m='4007170'>know</span> <span m='4007350'>is</span> <span m='4007470'>it's</span>
  <span m='4007590'>between</span> <span m='4008850'>this</span> <span m='4009210'>item</span>
  <span m='4009510'>and</span> <span m='4009630'>that</span> <span m='4009840'>item</span>
  <span m='4010110'>of</span> <span m='4010230'>the</span> <span m='4010350'>original</span>
  <span m='4010800'>list.</span> </p><p><span m='4011170'>I</span> <span m='4011270'>don't</span>
  <span m='4011490'>care</span> <span m='4011790'>so</span> <span m='4012000'>much</span>
  <span m='4012210'>about</span> <span m='4012390'>the</span> <span m='4012480'>promoted</span>
  <span m='4012930'>lists.</span> <span m='4013920'>So</span> <span m='4014160'>I</span>
  <span m='4014250'>need</span> <span m='4014430'>more</span> <span m='4014580'>pointers,</span>
  <span m='4015390'>which</span> <span m='4015600'>tell</span> <span m='4015840'>me</span>
  <span m='4016670'>if</span> <span m='4017820'>it</span> <span m='4017910'>happens</span>
  <span m='4018240'>that</span> <span m='4018330'>I</span> <span m='4018420'>fall</span>
  <span m='4018720'>here,</span> <span m='4019050'>basically,</span> <span m='4021900'>every</span>
  <span m='4022140'>promoted</span> <span m='4022650'>item</span> <span m='4023370'>has</span>
  <span m='4023580'>a</span> <span m='4023640'>pointer</span> <span m='4023910'>to</span>
  <span m='4024030'>the</span> <span m='4024120'>previous</span> <span m='4024510'>and</span>
  <span m='4024600'>next</span> <span m='4024840'>unpromoted</span> <span m='4025530'>item</span>
  <span m='4025770'>from</span> <span m='4025920'>the</span> <span m='4026010'>original</span>
  <span m='4026340'>list.</span> <span m='4027800'>This</span> <span m='4028440'>is</span>
  <span m='4028530'>static.</span> <span m='4029040'>I</span> <span m='4029130'>can</span>
  <span m='4029280'>have all</span> <span m='4029490'>these</span> <span m='4029760'>pointers.</span>
  <span m='4030650'>Let's</span> <span m='4030840'>write</span> <span m='4031050'>them</span>
  <span m='4031170'>down.</span> </p><p><span m='4032490'>So</span> <span m='4032820'>every</span>
  <span m='4036360'>promoted</span> <span m='4036930'>item</span> <span m='4041620'>in</span>
  <span m='4042510'>Li</span> <span m='4043140'>prime--</span> <span m='4043620'>that</span>
  <span m='4043740'>means</span> <span m='4043920'>it</span> <span m='4043980'>came</span>
  <span m='4044340'>from</span> <span m='4044790'>a</span> <span m='4044880'>promotion</span>
  <span m='4045450'>from</span> <span m='4045630'>below--</span> <span m='4048060'>has</span>
  <span m='4048480'>a</span> <span m='4048540'>pointer</span> <span m='4053100'>to</span>
  <span m='4054110'>the</span> <span m='4056880'>previous</span> <span m='4058710'>and</span>
  <span m='4058860'>next</span> <span m='4061110'>non-promoted</span> <span m='4061860'>item.</span>
  <span m='4062290'>So</span> <span m='4062310'>that's</span> <span m='4062520'>an</span>
  <span m='4062640'>item</span> <span m='4063430'>in</span> <span m='4063860'>Li.</span>
  <span m='4065650'>OK.</span> <span m='4065850'>That's</span> <span m='4066030'>two</span>
  <span m='4066210'>pointers.</span> </p><p><span m='4067560'>And</span> <span m='4068940'>that's</span>
  <span m='4069180'>what</span> <span m='4069330'>we</span> <span m='4069450'>just</span>
  <span m='4069780'>use.</span> <span m='4070080'>So</span> <span m='4070380'>I</span>
  <span m='4070470'>found</span> <span m='4070800'>where</span> <span m='4070920'>I</span>
  <span m='4070980'>was</span> <span m='4071310'>among</span> <span m='4071730'>the</span>
  <span m='4071850'>entire</span> <span m='4072440'>L1</span> <span m='4072960'>prime,</span>
  <span m='4073650'>which</span> <span m='4073710'>was</span> <span m='4073800'>almost</span>
  <span m='4074100'>like</span> <span m='4074250'>a</span> <span m='4074310'>global</span>
  <span m='4074640'>search,</span> <span m='4074970'>not</span> <span m='4075120'>quite.</span>
  <span m='4076590'>And</span> <span m='4077910'>then</span> <span m='4078150'>I</span>
  <span m='4078270'>follow</span> <span m='4078600'>these</span> <span m='4078750'>points
  to</span> <span m='4079050'>figure</span> <span m='4079320'>out where</span> <span
  m='4079500'>it</span> <span m='4079560'>was</span> <span m='4079770'>in</span> <span
  m='4079830'>the</span> <span m='4079890'>original</span> <span m='4080350'>L1.</span>
  </p><p><span m='4085180'>Well,</span> <span m='4085320'>so</span> <span m='4085650'>if</span>
  <span m='4085860'>I</span> <span m='4085980'>found</span> <span m='4086250'>that</span>
  <span m='4086340'>I</span> <span m='4086400'>was</span> <span m='4086520'>in</span>
  <span m='4086580'>the</span> <span m='4086700'>middle</span> <span m='4086970'>of</span>
  <span m='4087030'>this</span> <span m='4087180'>big</span> <span m='4087390'>white</span>
  <span m='4087660'>region,</span> <span m='4088020'>I</span> <span m='4088110'>need</span>
  <span m='4088290'>to</span> <span m='4088410'>find</span> <span m='4088680'>the</span>
  <span m='4088770'>next</span> <span m='4089070'>red</span> <span m='4089820'>region.</span>
  <span m='4090180'>So</span> <span m='4090310'>it's</span> <span m='4090420'>basically</span>
  <span m='4090740'>the</span> <span m='4090950'>reverse.</span> <span m='4091810'>Every</span>
  <span m='4092110'>non-promoted</span> <span m='4092890'>item,</span> <span m='4096060'>every</span>
  <span m='4096279'>item</span> <span m='4096609'>in</span> <span m='4096819'>Li,</span>
  <span m='4098770'>has</span> <span m='4099040'>a</span> <span m='4099100'>pointer.</span>
  </p><p><span m='4103229'>So this is</span> <span m='4103390'>basically</span> <span
  m='4103880'>Li</span> <span m='4104200'>prime</span> <span m='4104529'>minus</span>
  <span m='4104950'>Li,</span> <span m='4105580'>if</span> <span m='4105670'>you</span>
  <span m='4105790'>will.</span> <span m='4107410'>And</span> <span m='4107600'>then</span>
  <span m='4107720'>these</span> <span m='4107890'>guys</span> <span m='4108100'>need</span>
  <span m='4108279'>a</span> <span m='4108340'>pointer</span> <span m='4108760'>to</span>
  <span m='4109000'>the</span> <span m='4109090'>next</span> <span m='4109590'>and</span>
  <span m='4109720'>previous</span> <span m='4110050'>in</span> <span m='4110229'>that,</span>
  <span m='4114342'>so</span> <span m='4114819'>previous</span> <span m='4115540'>and</span>
  <span m='4115810'>the</span> <span m='4115899'>next</span> <span m='4116100'>item</span>
  <span m='4120620'>in</span> <span m='4122539'>Li</span> <span m='4123520'>prime</span>
  <span m='4124189'>minus</span> <span m='4124740'>Li.</span> <span m='4125720'>So</span>
  <span m='4125840'>these</span> <span m='4126050'>are</span> <span m='4126109'>the</span>
  <span m='4126200'>promoted</span> <span m='4126649'>items.</span> </p><p><span m='4127920'>These</span>
  <span m='4127939'>are</span> <span m='4128000'>the</span> <span m='4128149'>unpromoted</span>
  <span m='4128710'>items.</span> <span m='4128899'>So</span> <span m='4129170'>it's</span>
  <span m='4129290'>actually</span> <span m='4129560'>just</span> <span m='4129740'>two</span>
  <span m='4130040'>pointers</span> <span m='4130430'>per</span> <span m='4131420'>item.</span>
  <span m='4132020'>If</span> <span m='4132109'>you're</span> <span m='4132200'>promoted,</span>
  <span m='4132680'>you</span> <span m='4132770'>store</span> <span m='4133020'>the</span>
  <span m='4133130'>previous</span> <span m='4133460'>and</span> <span m='4133590'>next.</span>
  <span m='4134560'>Unpromoted,</span> <span m='4135229'>if</span> <span m='4135380'>you're</span>
  <span m='4135529'>unpromoted,</span> <span m='4136010'>you</span> <span m='4136069'>store</span>
  <span m='4136250'>the</span> <span m='4136350'>previous</span> <span m='4136660'>and</span>
  <span m='4136750'>next</span> <span m='4137120'>promoted.</span> </p><p><span m='4137880'>It's</span>
  <span m='4138120'>nice</span> <span m='4138350'>and</span> <span m='4138439'>symmetric.</span>
  <span m='4138739'>It's</span> <span m='4139040'>pretty</span> <span m='4139250'>clean,</span>
  <span m='4139609'>a</span> <span m='4139910'>lot</span> <span m='4140060'>of</span>
  <span m='4140120'>pointers,</span> <span m='4140550'>hard</span> <span m='4140689'>to</span>
  <span m='4140779'>draw,</span> <span m='4141950'>but</span> <span m='4142910'>quite</span>
  <span m='4143120'>simple</span> <span m='4143450'>in</span> <span m='4143540'>the</span>
  <span m='4143660'>end.</span> <span m='4144359'>There's</span> <span m='4144500'>two</span>
  <span m='4144680'>main</span> <span m='4144859'>ideas.</span> <span m='4145350'>One</span>
  <span m='4145460'>is</span> <span m='4145550'>to</span> <span m='4145640'>promote</span>
  <span m='4146540'>recursively</span> <span m='4147140'>up,</span> <span m='4147560'>just</span>
  <span m='4147740'>a</span> <span m='4147800'>constant</span> <span m='4148130'>fraction,</span>
  <span m='4148609'>so</span> <span m='4149000'>the</span> <span m='4149420'>lists</span>
  <span m='4149660'>don't</span> <span m='4149870'>get</span> <span m='4149990'>much</span>
  <span m='4150200'>bigger.</span> </p><p><span m='4151729'>Because</span> <span m='4152090'>it's</span>
  <span m='4152240'>a</span> <span m='4152270'>constant</span> <span m='4152600'>fraction,</span>
  <span m='4153080'>the</span> <span m='4153170'>gaps</span> <span m='4153890'>when</span>
  <span m='4154040'>you</span> <span m='4154220'>walk</span> <span m='4154520'>down</span>
  <span m='4154790'>are</span> <span m='4154880'>constant</span> <span m='4155270'>size.</span>
  <span m='4155779'>And</span> <span m='4155870'>so you</span> <span m='4156080'>basically</span>
  <span m='4156380'>get</span> <span m='4156500'>free</span> <span m='4156920'>relocalization</span>
  <span m='4157819'>within</span> <span m='4158060'>each</span> <span m='4158210'>list</span>
  <span m='4158960'>with</span> <span m='4159140'>the</span> <span m='4159229'>help</span>
  <span m='4159439'>of</span> <span m='4159510'>some</span> <span m='4159710'>pointers</span>
  <span m='4160370'>to</span> <span m='4160819'>walk</span> <span m='4161120'>down</span>
  <span m='4161510'>and</span> <span m='4161630'>jump</span> <span m='4162380'>left</span>
  <span m='4162649'>and</span> <span m='4162770'>right</span> <span m='4163250'>between</span>
  <span m='4163550'>the</span> <span m='4163609'>two</span> <span m='4163760'>colors.</span>
  <span m='4166220'>OK.</span> <span m='4167439'>That's</span> <span m='4167830'>basic</span>
  <span m='4168279'>fractional</span> <span m='4168700'>cascading</span> <span m='4169350'>in</span>
  <span m='4169479'>that</span> <span m='4170740'>we</span> <span m='4170859'>solved</span>
  <span m='4171130'>this</span> <span m='4171279'>problem,</span> <span m='4172850'>searched</span>
  <span m='4173359'>within</span> <span m='4173840'>k</span> <span m='4174150'>lists</span>
  <span m='4174460'>each</span> <span m='4174670'>of</span> <span m='4174729'>size</span>
  <span m='4175060'>n</span> <span m='4175330'>and</span> <span m='4175719'>k</span>
  <span m='4176109'>plus</span> <span m='4176560'>log</span> <span m='4176800'>n</span>
  <span m='4176979'>time,</span> <span m='4177689'>which is</span> <span m='4177850'>kind</span>
  <span m='4178090'>of</span> <span m='4178210'>amazing</span> <span m='4178810'>I</span>
  <span m='4178899'>think,</span> <span m='4180220'>pretty</span> <span m='4180430'>cool.</span>
  </p><p><span m='4184510'>But</span> <span m='4184660'>there's</span> <span m='4184840'>a</span>
  <span m='4184899'>more</span> <span m='4185080'>general</span> <span m='4185410'>form</span>
  <span m='4185680'>of</span> <span m='4185770'>this,</span> <span m='4187590'>uses</span>
  <span m='4187960'>the</span> <span m='4188109'>exact</span> <span m='4188500'>same</span>
  <span m='4188740'>ideas.</span> <span m='4189529'>But I</span> <span m='4189609'>just</span>
  <span m='4189760'>want</span> <span m='4189880'>to</span> <span m='4189970'>tell</span>
  <span m='4190210'>you</span> <span m='4192790'>how</span> <span m='4193300'>they</span>
  <span m='4193450'>generalized</span> <span m='4194040'>it.</span> <span m='4198110'>This</span>
  <span m='4198320'>is</span> <span m='4198470'>Chazelle</span> <span m='4198920'>and</span>
  <span m='4199010'>Guibas.</span> </p><p><span m='4207958'>So in</span> <span m='4208460'>general,</span>
  <span m='4211980'>fractional</span> <span m='4212640'>cascading,</span> <span m='4222920'>if</span>
  <span m='4223070'>you</span> <span m='4223160'>look</span> <span m='4223370'>at</span>
  <span m='4223460'>what</span> <span m='4223670'>cascading</span> <span m='4224300'>is</span>
  <span m='4224420'>happening</span> <span m='4224810'>here--</span> <span m='4227660'>here</span>
  <span m='4227900'>being</span> <span m='4228230'>here--</span> <span m='4229790'>we</span>
  <span m='4229940'>essentially</span> <span m='4230300'>have</span> <span m='4230450'>a</span>
  <span m='4230540'>path</span> <span m='4231000'>of</span> <span m='4231140'>cascades.</span>
  <span m='4231800'>We</span> <span m='4231920'>start</span> <span m='4232160'>at</span>
  <span m='4232250'>the</span> <span m='4232340'>bottom</span> <span m='4233030'>and</span>
  <span m='4233120'>push</span> <span m='4233390'>into</span> <span m='4234200'>the</span>
  <span m='4234290'>predecessor</span> <span m='4234800'>in</span> <span m='4234870'>the</span>
  <span m='4234950'>path.</span> <span m='4235280'>We</span> <span m='4235370'>push</span>
  <span m='4235640'>into</span> <span m='4235790'>the</span> <span m='4235880'>predecessor</span>
  <span m='4236340'>in</span> <span m='4236400'>the</span> <span m='4236510'>path.</span>
  </p><p><span m='4237530'>In</span> <span m='4237770'>the</span> <span m='4237890'>general</span>
  <span m='4238220'>case,</span> <span m='4238730'>we</span> <span m='4238820'>do</span>
  <span m='4238970'>it</span> <span m='4239060'>on</span> <span m='4239180'>a</span>
  <span m='4239240'>graph</span> <span m='4239690'>instead</span> <span m='4239960'>of</span>
  <span m='4240050'>a</span> <span m='4240110'>path,</span> <span m='4240590'>arbitrary</span>
  <span m='4241010'>graph.</span> <span m='4242580'>So</span> <span m='4244700'>we</span>
  <span m='4244760'>have</span> <span m='4244970'>a</span> <span m='4245030'>graph.</span>
  <span m='4246510'>The input,</span> <span m='4247040'>in</span> <span m='4247130'>some</span>
  <span m='4247340'>sense,</span> <span m='4248570'>you</span> <span m='4248600'>can</span>
  <span m='4248720'>think</span> <span m='4248870'>of</span> <span m='4248960'>this</span>
  <span m='4249110'>as</span> <span m='4249230'>a</span> <span m='4249320'>transformation.</span>
  <span m='4252080'>But</span> <span m='4252230'>it's</span> <span m='4252410'>for
  a</span> <span m='4252710'>specific</span> <span m='4253370'>kind</span> <span m='4253670'>of</span>
  <span m='4253760'>data</span> <span m='4253940'>structure.</span> </p><p><span m='4254510'>The</span>
  <span m='4254600'>data</span> <span m='4254870'>structure</span> <span m='4257210'>is</span>
  <span m='4257360'>represented</span> <span m='4257930'>by</span> <span m='4258110'>a</span>
  <span m='4258140'>graph.</span> <span m='4259640'>And</span> <span m='4260030'>each</span>
  <span m='4260300'>vertex</span> <span m='4260870'>of</span> <span m='4260930'>the</span>
  <span m='4261020'>graph</span> <span m='4263990'>has</span> <span m='4264500'>a</span>
  <span m='4264560'>set</span> <span m='4264890'>of</span> <span m='4265010'>elements</span>
  <span m='4271370'>or</span> <span m='4271580'>a</span> <span m='4271640'>list</span>
  <span m='4271940'>of</span> <span m='4272030'>elements.</span> <span m='4272540'>That's</span>
  <span m='4272750'>what</span> <span m='4272840'>we</span> <span m='4272930'>had</span>
  <span m='4273110'>here.</span> </p><p><span m='4273680'>We</span> <span m='4273770'>had</span>
  <span m='4273890'>a</span> <span m='4273950'>path</span> <span m='4275300'>here.</span>
  <span m='4277580'>And</span> <span m='4277850'>each</span> <span m='4278090'>node</span>
  <span m='4278300'>in</span> <span m='4278390'>the</span> <span m='4278480'>path</span>
  <span m='4278780'>had</span> <span m='4278900'>a</span> <span m='4278960'>corresponding</span>
  <span m='4279440'>list</span> <span m='4279650'>of</span> <span m='4279740'>elements.</span>
  <span m='4280040'>And</span> <span m='4280130'>we</span> <span m='4280220'>wanted</span>
  <span m='4280430'>to</span> <span m='4280520'>search</span> <span m='4280850'>among</span>
  <span m='4281810'>those</span> <span m='4282020'>lists.</span> <span m='4283040'>Before</span>
  <span m='4283280'>I</span> <span m='4283340'>tell</span> <span m='4283520'>you</span>
  <span m='4283640'>exactly</span> <span m='4284000'>what</span> <span m='4284150'>search
  is,</span> <span m='4284690'>let</span> <span m='4284840'>me</span> <span m='4285410'>tell</span>
  <span m='4285590'>you</span> <span m='4285740'>about</span> <span m='4285950'>the</span>
  <span m='4286010'>rest</span> <span m='4286190'>of</span> <span m='4286250'>the</span>
  <span m='4286340'>graph.</span> </p><p><span m='4294500'>And</span> <span m='4294650'>this</span>
  <span m='4294860'>is,</span> <span m='4295300'>sorry,</span> <span m='4295510'>in
  an</span> <span m='4295640'>ordered</span> <span m='4295940'>universe.</span> <span
  m='4298710'>So</span> <span m='4298810'>it's</span> <span m='4299000'>one</span>
  <span m='4299210'>dimensional.</span> <span m='4303750'>Edge</span> <span m='4304070'>is</span>
  <span m='4304190'>labeled</span> <span m='4305900'>with</span> <span m='4306080'>a</span>
  <span m='4306140'>range</span> <span m='4306800'>from</span> <span m='4307010'>that</span>
  <span m='4308270'>ordered</span> <span m='4308570'>universe</span> <span m='4310050'>a,
  b.</span> <span m='4310940'>Every</span> <span m='4311270'>edge</span> <span m='4311540'>has</span>
  <span m='4311720'>some</span> <span m='4311960'>range.</span> <span m='4315710'>You</span>
  <span m='4315800'>can</span> <span m='4315920'>think</span> <span m='4316100'>of</span>
  <span m='4316190'>it</span> <span m='4316250'>as</span> <span m='4316370'>a</span>
  <span m='4316430'>directed</span> <span m='4316820'>graph.</span> <span m='4317120'>It's</span>
  <span m='4317240'>probably</span> <span m='4317540'>cleaner.</span> </p><p><span
  m='4318080'>So</span> <span m='4319040'>when</span> <span m='4319160'>I</span> <span
  m='4319250'>follow</span> <span m='4319730'>this</span> <span m='4320000'>edge,</span>
  <span m='4321080'>there's</span> <span m='4321260'>a</span> <span m='4321320'>range</span>
  <span m='4321740'>here.</span> <span m='4322580'>And,</span> <span m='4322670'>basically,</span>
  <span m='4323030'>I'm</span> <span m='4323180'>only</span> <span m='4323450'>allowed</span>
  <span m='4323720'>to</span> <span m='4323810'>follow</span> <span m='4324200'>that</span>
  <span m='4324410'>edge</span> <span m='4325130'>if</span> <span m='4325370'>the</span>
  <span m='4325520'>range</span> <span m='4326900'>contains</span> <span m='4327500'>the</span>
  <span m='4327590'>thing</span> <span m='4327800'>I'm</span> <span m='4327950'>searching</span>
  <span m='4328340'>for.</span> <span m='4328730'>So</span> <span m='4328820'>here,
  I was</span> <span m='4329060'>searching</span> <span m='4329420'>for</span> <span
  m='4329540'>some</span> <span m='4329780'>item</span> <span m='4330050'>x</span>
  <span m='4330470'>in</span> <span m='4330620'>all</span> <span m='4330830'>the</span>
  <span m='4330950'>lists.</span> </p><p><span m='4333330'>There's</span> <span m='4333380'>no</span>
  <span m='4333500'>ranges</span> <span m='4333860'>here.</span> <span m='4334160'>But</span>
  <span m='4334520'>in</span> <span m='4334610'>general,</span> <span m='4335010'>you</span>
  <span m='4335030'>get</span> <span m='4335150'>to</span> <span m='4335240'>specify</span>
  <span m='4335630'>a</span> <span m='4335660'>range.</span> <span m='4336770'>Why</span>
  <span m='4336950'>do</span> <span m='4337010'>we</span> <span m='4337130'>want</span>
  <span m='4337250'>to</span> <span m='4337310'>specify</span> <span m='4337670'>a</span>
  <span m='4337700'>range?</span> <span m='4338090'>We</span> <span m='4338240'>need</span>
  <span m='4338710'>a</span> <span m='4338810'>sort</span> <span m='4339080'>of</span>
  <span m='4339920'>bounded</span> <span m='4340310'>degree</span> <span m='4340670'>constraint.</span>
  </p><p><span m='4348890'>We</span> <span m='4349040'>want</span> <span m='4349220'>to</span>
  <span m='4349280'>have</span> <span m='4349460'>bounded</span> <span m='4350690'>n</span>
  <span m='4350930'>degree.</span> <span m='4353348'>So</span> <span m='4353840'>here</span>
  <span m='4354050'>we</span> <span m='4354210'>had</span> <span m='4355330'>n</span>
  <span m='4355490'>degree</span> <span m='4355760'>1</span> <span m='4356180'>for</span>
  <span m='4356330'>every</span> <span m='4356540'>node.</span> <span m='4357410'>In</span>
  <span m='4357500'>general,</span> <span m='4357830'>we</span> <span m='4357950'>don't</span>
  <span m='4358130'>want</span> <span m='4358250'>to</span> <span m='4358310'>have</span>
  <span m='4358490'>too</span> <span m='4358760'>many</span> <span m='4358970'>nodes</span>
  <span m='4359210'>pointing</span> <span m='4359540'>in.</span> <span m='4359760'>Because</span>
  <span m='4360650'>we</span> <span m='4360800'>want</span> <span m='4360980'>to</span>
  <span m='4361040'>take</span> <span m='4361400'>half</span> <span m='4361730'>the</span>
  <span m='4361850'>nodes</span> <span m='4362120'>in</span> <span m='4362180'>here,</span>
  <span m='4362690'>or</span> <span m='4362840'>a</span> <span m='4362870'>constant</span>
  <span m='4363230'>fraction</span> <span m='4363560'>of</span> <span m='4363620'>the</span>
  <span m='4363680'>items</span> <span m='4363950'>here,</span> <span m='4364460'>and</span>
  <span m='4364550'>promote</span> <span m='4364940'>them</span> <span m='4365510'>into</span>
  <span m='4365720'>all</span> <span m='4365990'>the</span> <span m='4366110'>nodes</span>
  <span m='4366380'>that</span> <span m='4366470'>point</span> <span m='4366740'>to</span>
  <span m='4366890'>it,</span> <span m='4366980'>so</span> <span m='4367130'>that</span>
  <span m='4367250'>when</span> <span m='4367430'>we</span> <span m='4367550'>follow</span>
  <span m='4367910'>the</span> <span m='4368030'>pointer,</span> <span m='4368330'>we</span>
  <span m='4368450'>get</span> <span m='4368600'>to</span> <span m='4368690'>know</span>
  <span m='4368900'>where</span> <span m='4369080'>we</span> <span m='4369200'>belong</span>
  <span m='4369590'>here.</span> <span m='4370400'>That's</span> <span m='4370610'>the</span>
  <span m='4370700'>general</span> <span m='4371570'>concept.</span> </p><p><span
  m='4372530'>So,</span> <span m='4372650'>ideally,</span> <span m='4373010'>we</span>
  <span m='4373130'>have</span> <span m='4373370'>bounded</span> <span m='4373790'>n
  degree.</span> <span m='4374570'>If</span> <span m='4374660'>we</span> <span m='4374750'>do,</span>
  <span m='4374930'>we're</span> <span m='4375020'>done.</span> <span m='4376130'>We</span>
  <span m='4376250'>can</span> <span m='4376400'>have</span> <span m='4376550'>a</span>
  <span m='4376580'>slightly</span> <span m='4376940'>weaker</span> <span m='4377270'>condition,</span>
  <span m='4378200'>which</span> <span m='4378380'>is</span> <span m='4378440'>called</span>
  <span m='4378620'>locally-bounded</span> <span m='4379490'>n</span> <span m='4379580'>degree</span>
  <span m='4380570'>where</span> <span m='4382010'>the</span> <span m='4382130'>number</span>
  <span m='4382490'>of</span> <span m='4382700'>incoming</span> <span m='4383210'>edges</span>
  <span m='4386330'>for</span> <span m='4386540'>a</span> <span m='4386570'>node</span>
  <span m='4388700'>whose</span> <span m='4389060'>labels</span> <span m='4391100'>are</span>
  <span m='4391190'>ranges</span> </p><p><span m='4392750'>The</span> <span m='4392840'>labels</span>
  <span m='4393200'>have</span> <span m='4393350'>to</span> <span m='4393410'>have</span>
  <span m='4393530'>a</span> <span m='4393590'>common</span> <span m='4393980'>intersection,</span>
  <span m='4394660'>x.</span> <span m='4395960'>So</span> <span m='4397160'>we're</span>
  <span m='4397340'>searching</span> <span m='4397700'>for</span> <span m='4397820'>some</span>
  <span m='4398060'>item</span> <span m='4398360'>x.</span> <span m='4399260'>And</span>
  <span m='4399410'>if</span> <span m='4399620'>all</span> <span m='4399830'>the</span>
  <span m='4399920'>possible</span> <span m='4400370'>ways</span> <span m='4400580'>we</span>
  <span m='4400670'>can</span> <span m='4400820'>enter</span> <span m='4401120'>this</span>
  <span m='4401300'>node</span> <span m='4401570'>given</span> <span m='4401930'>item</span>
  <span m='4402230'>x--</span> <span m='4402920'>so</span> <span m='4403070'>this</span>
  <span m='4403310'>x</span> <span m='4403580'>has</span> <span m='4403700'>to</span>
  <span m='4403790'>fall</span> <span m='4404000'>in</span> <span m='4404120'>all</span>
  <span m='4404390'>those</span> <span m='4404630'>ranges--</span> <span m='4405980'>that</span>
  <span m='4406220'>should</span> <span m='4406400'>be</span> <span m='4406760'>bounded,</span>
  <span m='4409670'>so,</span> <span m='4409850'>at</span> <span m='4409940'>most,</span>
  <span m='4410170'>some</span> <span m='4410440'>constant</span> <span m='4410775'>c.</span>
  </p><p><span m='4412700'>If</span> <span m='4412820'>it's</span> <span m='4412940'>always</span>
  <span m='4413180'>at</span> <span m='4413270'>most</span> <span m='4413480'>c</span>
  <span m='4413720'>for</span> <span m='4413870'>all</span> <span m='4414080'>nodes</span>
  <span m='4414470'>and</span> <span m='4414590'>for</span> <span m='4414710'>all</span>
  <span m='4414920'>x's,</span> <span m='4416330'>then</span> <span m='4416480'>this</span>
  <span m='4416630'>is</span> <span m='4417080'>locally-bounded</span> <span m='4417800'>degree.</span>
  <span m='4418040'>And</span> <span m='4419150'>these</span> <span m='4419720'>range</span>
  <span m='4420020'>labels</span> <span m='4420410'>help</span> <span m='4420620'>you</span>
  <span m='4420740'>achieve</span> <span m='4421010'>this</span> <span m='4421160'>property.</span>
  <span m='4422720'>If</span> <span m='4422840'>you</span> <span m='4422960'>can</span>
  <span m='4423110'>constrain</span> <span m='4424070'>that</span> <span m='4424160'>you're</span>
  <span m='4424250'>only</span> <span m='4424400'>going</span> <span m='4424520'>to</span>
  <span m='4424610'>follow</span> <span m='4424800'>this</span> <span m='4424970'>edge</span>
  <span m='4425150'>in</span> <span m='4425240'>certain</span> <span m='4425510'>situations</span>
  <span m='4426290'>and</span> <span m='4426380'>there</span> <span m='4426500'>aren't</span>
  <span m='4426620'>too</span> <span m='4426770'>many</span> <span m='4426980'>ways</span>
  <span m='4427190'>you</span> <span m='4427280'>could</span> <span m='4427400'>have</span>
  <span m='4427490'>gotten</span> <span m='4427730'>to</span> <span m='4427850'>a</span>
  <span m='4427880'>node,</span> <span m='4428870'>then</span> <span m='4429080'>you</span>
  <span m='4429170'>have</span> <span m='4429320'>this</span> <span m='4429470'>property.</span>
  </p><p><span m='4430340'>AUDIENCE:</span> <span m='4430580'>[INAUDIBLE]</span> <span
  m='4435140'>bound to</span> <span m='4435620'>x?</span> </p><p><span m='4437210'>ERIK
  DEMAINE:</span> <span m='4437285'>Contain</span> <span m='4438320'>x</span> <span
  m='4438620'>is</span> <span m='4438770'>a</span> <span m='4438830'>backwards</span>
  <span m='4439850'>containment.</span> <span m='4442030'>Let</span> <span m='4442120'>me</span>
  <span m='4442190'>put</span> <span m='4442310'>it</span> <span m='4442400'>this</span>
  <span m='4442550'>way.</span> <span m='4443340'>You have</span> <span m='4443620'>a</span>
  <span m='4444190'>node.</span> <span m='4444620'>You have</span> <span m='4445100'>all</span>
  <span m='4445280'>these</span> <span m='4446480'>edges</span> <span m='4446780'>coming</span>
  <span m='4447050'>into</span> <span m='4447320'>it.</span> </p><p><span m='4447740'>I</span>
  <span m='4447860'>want</span> <span m='4448430'>x</span> <span m='4448760'>to</span>
  <span m='4448880'>be</span> <span m='4449030'>a</span> <span m='4449060'>valid</span>
  <span m='4449480'>choice</span> <span m='4449990'>for</span> <span m='4450170'>each</span>
  <span m='4450410'>of</span> <span m='4450500'>these</span> <span m='4450770'>edges.</span>
  <span m='4451190'>Meaning,</span> <span m='4452090'>the</span> <span m='4452240'>range,</span>
  <span m='4453140'>each</span> <span m='4453290'>of</span> <span m='4453350'>them</span>
  <span m='4453620'>is</span> <span m='4453770'>some</span> <span m='4453980'>interval</span>
  <span m='4455690'>on</span> <span m='4455840'>the</span> <span m='4455930'>line.</span>
  <span m='4456980'>All</span> <span m='4457280'>those</span> <span m='4457460'>intervals</span>
  <span m='4457820'>should</span> <span m='4458000'>contain</span> <span m='4458450'>x.</span>
  </p><p><span m='4462740'>It's</span> <span m='4462830'>basically,</span> <span m='4463340'>if</span>
  <span m='4463820'>you</span> <span m='4463910'>laid</span> <span m='4464150'>out</span>
  <span m='4464270'>all</span> <span m='4464510'>the</span> <span m='4464630'>intervals</span>
  <span m='4465130'>incoming</span> <span m='4465710'>into</span> <span m='4465920'>this</span>
  <span m='4466100'>node,</span> <span m='4466850'>what</span> <span m='4466970'>is</span>
  <span m='4467090'>the</span> <span m='4467210'>maximum</span> <span m='4467810'>depth</span>
  <span m='4468290'>of</span> <span m='4468380'>those</span> <span m='4468590'>intervals?</span>
  <span m='4469310'>What's</span> <span m='4469460'>the</span> <span m='4469550'>maximum</span>
  <span m='4470210'>intersection</span> <span m='4470840'>between</span> <span m='4471310'>all</span>
  <span m='4471410'>those</span> <span m='4471560'>intervals?</span> <span m='4472040'>That</span>
  <span m='4472280'>is</span> <span m='4472490'>your</span> <span m='4473240'>local</span>
  <span m='4473660'>degree.</span> <span m='4474200'>And</span> <span m='4474560'>as</span>
  <span m='4474740'>long</span> <span m='4474920'>as</span> <span m='4475040'>that's</span>
  <span m='4475270'>the</span> <span m='4475320'>constant,</span> <span m='4476135'>we're</span>
  <span m='4476390'>happy.</span> <span m='4479516'>All right.</span> </p><p><span
  m='4482320'>So</span> <span m='4482550'>now,</span> <span m='4482850'>let</span>
  <span m='4483000'>me</span> <span m='4483150'>specify</span> <span m='4483630'>what</span>
  <span m='4483810'>a</span> <span m='4483870'>search</span> <span m='4484170'>means.</span>
  <span m='4487120'>This</span> <span m='4487450'>is</span> <span m='4487530'>the</span>
  <span m='4487620'>problem</span> <span m='4488010'>that</span> <span m='4488100'>fractional</span>
  <span m='4488520'>cascading</span> <span m='4489060'>can</span> <span m='4489240'>solve.</span>
  <span m='4492150'>Goal</span> <span m='4493170'>is</span> <span m='4493410'>to</span>
  <span m='4493560'>find</span> <span m='4494280'>x</span> <span m='4495720'>in</span>
  <span m='4495900'>some</span> <span m='4496340'>k</span> <span m='4502710'>vertex</span>
  <span m='4503100'>sets.</span> </p><p><span m='4505310'>So</span> <span m='4505980'>k</span>
  <span m='4506310'>vertices,</span> <span m='4507180'>each</span> <span m='4507390'>of</span>
  <span m='4507450'>them</span> <span m='4507630'>has</span> <span m='4507870'>a</span>
  <span m='4507930'>set.</span> <span m='4508800'>I</span> <span m='4508890'>want</span>
  <span m='4509040'>to</span> <span m='4509100'>find</span> <span m='4509400'>x</span>
  <span m='4509820'>in</span> <span m='4510150'>k</span> <span m='4510420'>of</span>
  <span m='4510540'>them.</span> <span m='4510860'>Not</span> <span m='4511080'>all</span>
  <span m='4511290'>of</span> <span m='4511350'>them,</span> <span m='4511770'>k</span>
  <span m='4512010'>of</span> <span m='4512140'>them.</span> <span m='4512670'>That's</span>
  <span m='4512890'>the</span> <span m='4512970'>general</span> <span m='4513600'>problem.</span>
  <span m='4514650'>I</span> <span m='4514710'>have</span> <span m='4514920'>a</span>
  <span m='4514980'>constraint</span> <span m='4515640'>on</span> <span m='4515730'>how</span>
  <span m='4516000'>those</span> <span m='4516300'>sets</span> <span m='4516600'>are</span>
  <span m='4516690'>found.</span> </p><p><span m='4523170'>They're</span> <span m='4523710'>found</span>
  <span m='4524010'>by</span> <span m='4524280'>navigating</span> <span m='4524850'>this</span>
  <span m='4525000'>graph</span> <span m='4526470'>starting</span> <span m='4528000'>from</span>
  <span m='4528270'>any</span> <span m='4528480'>vertex.</span> <span m='4535010'>And</span>
  <span m='4535250'>we</span> <span m='4535370'>navigate</span> <span m='4536120'>by</span>
  <span m='4536360'>following</span> <span m='4537140'>edges</span> <span m='4540350'>whose</span>
  <span m='4540590'>labels</span> <span m='4541100'>contain</span> <span m='4541550'>x.</span>
  <span m='4550520'>So</span> <span m='4551150'>we</span> <span m='4551240'>started</span>
  <span m='4551480'>some</span> <span m='4551660'>vertex</span> <span m='4551990'>in</span>
  <span m='4552050'>the</span> <span m='4552150'>graph.</span> </p><p><span m='4553070'>We</span>
  <span m='4553220'>can</span> <span m='4553370'>follow</span> <span m='4554090'>some</span>
  <span m='4554420'>edges</span> <span m='4555590'>that</span> <span m='4555710'>contain</span>
  <span m='4556160'>x.</span> <span m='4556640'>x</span> <span m='4556910'>is</span>
  <span m='4557030'>a</span> <span m='4557090'>valid</span> <span m='4557420'>choice</span>
  <span m='4557750'>here</span> <span m='4557900'>that's</span> <span m='4558080'>inside</span>
  <span m='4558470'>the</span> <span m='4558590'>interval.</span> <span m='4559690'>Then</span>
  <span m='4559850'>from</span> <span m='4560030'>here,</span> <span m='4560270'>maybe</span>
  <span m='4560510'>we</span> <span m='4560630'>follow</span> <span m='4560900'>some</span>
  <span m='4561050'>more</span> <span m='4562520'>where</span> <span m='4562730'>x</span>
  <span m='4562940'>is</span> <span m='4563060'>a</span> <span m='4563120'>valid</span>
  <span m='4563390'>choice,</span> <span m='4564800'>and</span> <span m='4564890'>so</span>
  <span m='4565100'>on.</span> <span m='4566990'>It</span> <span m='4567410'>could</span>
  <span m='4567560'>look</span> <span m='4567740'>like</span> <span m='4567890'>anything.</span>
  </p><p><span m='4569540'>It</span> <span m='4569900'>doesn't</span> <span m='4570110'>have</span>
  <span m='4570200'>to</span> <span m='4570290'>be</span> <span m='4570350'>depth</span>
  <span m='4570560'>first</span> <span m='4570860'>or</span> <span m='4570950'>breadth</span>
  <span m='4571190'>first.</span> <span m='4571610'>It's just</span> <span m='4572070'>you</span>
  <span m='4572330'>follow</span> <span m='4572700'>some</span> <span m='4573080'>tree</span>
  <span m='4574100'>from</span> <span m='4574400'>some</span> <span m='4574670'>node</span>
  <span m='4575030'>where</span> <span m='4575240'>all</span> <span m='4575480'>of</span>
  <span m='4575570'>the</span> <span m='4575720'>edges</span> <span m='4576020'>are</span>
  <span m='4576290'>valid</span> <span m='4576830'>for</span> <span m='4577010'>x.</span>
  <span m='4579530'>At</span> <span m='4579620'>some</span> <span m='4579800'>point,</span>
  <span m='4579980'>you</span> <span m='4580070'>decide</span> <span m='4580490'>that</span>
  <span m='4580580'>I've</span> <span m='4580700'>seen</span> <span m='4580910'>enough.</span>
  </p><p><span m='4582140'>And</span> <span m='4583370'>now,</span> <span m='4583640'>the</span>
  <span m='4583730'>goal</span> <span m='4584150'>is</span> <span m='4584390'>to</span>
  <span m='4585200'>find</span> <span m='4585840'>in</span> <span m='4586040'>this</span>
  <span m='4586310'>set,</span> <span m='4587000'>where</span> <span m='4587240'>is</span>
  <span m='4587360'>x?</span> <span m='4587750'>In</span> <span m='4587930'>this</span>
  <span m='4588110'>set,</span> <span m='4588370'>where</span> <span m='4588470'>is</span>
  <span m='4588650'>x?</span> <span m='4588910'>In this</span> <span m='4589000'>set,</span>
  <span m='4589310'>where</span> <span m='4589460'>is</span> <span m='4589760'>x?</span>
  <span m='4591490'>In</span> <span m='4591560'>each</span> <span m='4591710'>of</span>
  <span m='4591770'>these</span> <span m='4591890'>lists,</span> <span m='4592880'>what</span>
  <span m='4593030'>is</span> <span m='4593150'>a</span> <span m='4593210'>predecessor</span>
  <span m='4593750'>and</span> <span m='4593840'>successor of</span> <span m='4594340'>x?</span>
  <span m='4595040'>Question.</span> </p><p><span m='4595400'>AUDIENCE:</span> <span
  m='4595626'>So</span> <span m='4595853'>there's generally</span> <span m='4596306'>some</span>
  <span m='4596759'>root node</span> <span m='4597212'>from which</span> <span m='4597665'>all
  queries</span> <span m='4598118'>start?</span> </p><p><span m='4599030'>ERIK DEMAINE:</span>
  <span m='4599150'>I</span> <span m='4599480'>believe</span> <span m='4600230'>you</span>
  <span m='4600440'>do</span> <span m='4600560'>not</span> <span m='4600830'>need</span>
  <span m='4601070'>a</span> <span m='4601130'>single</span> <span m='4601520'>root</span>
  <span m='4601700'>node.</span> <span m='4602420'>Each</span> <span m='4602630'>search</span>
  <span m='4602960'>could</span> <span m='4603140'>start</span> <span m='4603380'>from</span>
  <span m='4603530'>a</span> <span m='4603590'>different</span> <span m='4603890'>point.</span>
  </p><p><span m='4605040'>AUDIENCE:</span> <span m='4605252'>OK.</span> <span m='4605465'>So
  it's</span> <span m='4605677'>[INAUDIBLE].</span> </p><p><span m='4605890'>ERIK
  DEMAINE:</span> <span m='4605970'>But</span> <span m='4606050'>you're</span> <span
  m='4606230'>told</span> <span m='4606980'>where.</span> <span m='4608090'>So</span>
  <span m='4608710'>imagine</span> <span m='4609140'>this</span> <span m='4609290'>is</span>
  <span m='4609410'>like</span> <span m='4609560'>an</span> <span m='4609620'>interaction</span>
  <span m='4610130'>between</span> <span m='4610430'>two</span> <span m='4610580'>parties.</span>
  <span m='4611100'>So</span> <span m='4611930'>the</span> <span m='4612140'>input</span>
  <span m='4612770'>basically</span> <span m='4613130'>says,</span> <span m='4614190'>look,</span>
  <span m='4614430'>I'm</span> <span m='4614450'>searching</span> <span m='4614780'>for</span>
  <span m='4614930'>x.</span> <span m='4615350'>And</span> <span m='4615440'>I'm</span>
  <span m='4615500'>going</span> <span m='4615620'>to</span> <span m='4615680'>start</span>
  <span m='4615940'>at</span> <span m='4616040'>this</span> <span m='4616260'>node.</span>
  </p><p><span m='4617240'>And</span> <span m='4617360'>then the</span> <span m='4617720'>fractional</span>
  <span m='4618140'>cascading</span> <span m='4618600'>data structure</span> <span
  m='4619050'>says,</span> <span m='4619220'>OK,</span> <span m='4619640'>here's</span>
  <span m='4619910'>where</span> <span m='4620060'>x</span> <span m='4620300'>is</span>
  <span m='4620630'>in</span> <span m='4620780'>that</span> <span m='4620930'>node.</span>
  <span m='4621560'>It</span> <span m='4621920'>tells</span> <span m='4622130'>you</span>
  <span m='4622190'>immediately.</span> <span m='4623057'>Why not?</span> <span m='4624220'>Then
  it</span> <span m='4624520'>says,</span> <span m='4624680'>OK,</span> <span m='4625670'>I'd</span>
  <span m='4625910'>like</span> <span m='4626060'>to</span> <span m='4626150'>follow</span>
  <span m='4626420'>this</span> <span m='4626600'>edge</span> <span m='4627050'>and</span>
  <span m='4627170'>go</span> <span m='4627290'>to</span> <span m='4627410'>this</span>
  <span m='4627570'>node.</span> </p><p><span m='4628520'>And</span> <span m='4628670'>fractional</span>
  <span m='4628970'>cascading</span> <span m='4629390'>says,</span> <span m='4629510'>OK,</span>
  <span m='4629870'>here's</span> <span m='4630140'>where</span> <span m='4630260'>x</span>
  <span m='4630540'>is</span> <span m='4630640'>in</span> <span m='4630710'>this</span>
  <span m='4630860'>node</span> <span m='4631040'>in</span> <span m='4631190'>constant</span>
  <span m='4631640'>time.</span> <span m='4632990'>OK.</span> <span m='4633170'>Then</span>
  <span m='4633440'>now</span> <span m='4633650'>these</span> <span m='4633830'>two</span>
  <span m='4634010'>guys</span> <span m='4634190'>are</span> <span m='4634280'>active.</span>
  <span m='4634720'>And</span> <span m='4635270'>now,</span> <span m='4635720'>the</span>
  <span m='4636800'>adversary,</span> <span m='4637310'>the</span> <span m='4637430'>input,</span>
  <span m='4637790'>whatever,</span> <span m='4638510'>can</span> <span m='4638660'>decide,</span>
  <span m='4639030'>OK,</span> <span m='4639470'>I'm</span> <span m='4639590'>going</span>
  <span m='4639710'>to</span> <span m='4639770'>follow</span> <span m='4639920'>this</span>
  <span m='4640160'>edge,</span> <span m='4640550'>or this</span> <span m='4640760'>edge,</span>
  <span m='4641690'>any</span> <span m='4641930'>order.</span> <span m='4642410'>It</span>
  <span m='4642470'>can</span> <span m='4642620'>build</span> <span m='4642800'>this</span>
  <span m='4642920'>tree</span> <span m='4643100'>in</span> <span m='4643190'>any</span>
  <span m='4643370'>order.</span> </p><p><span m='4644120'>And</span> <span m='4644300'>every</span>
  <span m='4644570'>time</span> <span m='4644770'>it</span> <span m='4644810'>says</span>
  <span m='4645920'>here's</span> <span m='4646160'>the</span> <span m='4646310'>edge</span>
  <span m='4646490'>I</span> <span m='4646550'>want</span> <span m='4646700'>to</span>
  <span m='4646760'>follow,</span> <span m='4647510'>the</span> <span m='4647650'>fractional</span>
  <span m='4647930'>cascading</span> <span m='4649000'>data</span> <span m='4649250'>structure</span>
  <span m='4649550'>in</span> <span m='4649670'>constant</span> <span m='4650030'>time</span>
  <span m='4650240'>tells</span> <span m='4650480'>you</span> <span m='4650960'>here's</span>
  <span m='4651230'>where</span> <span m='4651380'>x</span> <span m='4651620'>is</span>
  <span m='4651770'>among</span> <span m='4652040'>all</span> <span m='4652190'>the</span>
  <span m='4652310'>items</span> <span m='4652610'>in</span> <span m='4652700'>that</span>
  <span m='4652850'>node.</span> <span m='4654130'>How</span> <span m='4654300'>does</span>
  <span m='4654450'>it</span> <span m='4654500'>do</span> <span m='4654680'>that?</span>
  <span m='4655730'>With</span> <span m='4655940'>fractional</span> <span m='4656350'>cascading.</span>
  </p><p><span m='4657200'>You</span> <span m='4657320'>just</span> <span m='4657530'>take</span>
  <span m='4658160'>half</span> <span m='4658460'>the</span> <span m='4658610'>items.</span>
  <span m='4659450'>Half</span> <span m='4659810'>doesn't</span> <span m='4660020'>work</span>
  <span m='4660230'>anymore.</span> <span m='4661040'>Now, it</span> <span m='4661250'>depends</span>
  <span m='4661640'>on</span> <span m='4661730'>that</span> <span m='4661910'>bounded</span>
  <span m='4662270'>n</span> <span m='4662390'>degree.</span> <span m='4664130'>But</span>
  <span m='4664220'>you</span> <span m='4664370'>take</span> <span m='4664670'>some</span>
  <span m='4665090'>function</span> <span m='4665510'>of</span> <span m='4665630'>that</span>
  <span m='4666260'>degree</span> <span m='4666530'>c,</span> <span m='4667910'>take</span>
  <span m='4668780'>some</span> <span m='4669050'>constant</span> <span m='4669350'>fraction</span>
  <span m='4669770'>of</span> <span m='4669830'>the</span> <span m='4669950'>items,</span>
  <span m='4670790'>promote</span> <span m='4671180'>them</span> <span m='4671630'>to</span>
  <span m='4671810'>all</span> <span m='4672020'>the</span> <span m='4672110'>things,</span>
  <span m='4672920'>keep</span> <span m='4673100'>going.</span> <span m='4674030'>It's</span>
  <span m='4674150'>a</span> <span m='4674180'>little</span> <span m='4674420'>trickier,</span>
  <span m='4674750'>because</span> <span m='4674930'>now</span> <span m='4675080'>you</span>
  <span m='4675200'>have</span> <span m='4675290'>cycles.</span> </p><p><span m='4677370'>So</span>
  <span m='4677600'>you</span> <span m='4677750'>could</span> <span m='4677930'>actually</span>
  <span m='4678170'>promote</span> <span m='4678470'>back</span> <span m='4678750'>into</span>
  <span m='4678920'>yourself,</span> <span m='4679310'>eventually,</span> <span m='4679760'>by</span>
  <span m='4679910'>chain</span> <span m='4680150'>reactions.</span> <span m='4681350'>But</span>
  <span m='4681530'>if</span> <span m='4681650'>you</span> <span m='4681740'>set</span>
  <span m='4681900'>the</span> <span m='4681980'>constant</span> <span m='4682340'>low</span>
  <span m='4682490'>enough,</span> <span m='4683040'>it's</span> <span m='4683390'>like</span>
  <span m='4684590'>radioactive</span> <span m='4685130'>decay.</span> <span m='4685700'>Eventually,</span>
  <span m='4686240'>it</span> <span m='4686570'>all</span> <span m='4686720'>goes</span>
  <span m='4686960'>away,</span> <span m='4687260'>right?</span> <span m='4689390'>I</span>
  <span m='4689480'>wish.</span> </p><p><span m='4692390'>So</span> <span m='4692860'>it's</span>
  <span m='4693170'>much</span> <span m='4693350'>better</span> <span m='4693560'>than</span>
  <span m='4693710'>radioactive</span> <span m='4694190'>decay.</span> <span m='4694610'>Radioactive</span>
  <span m='4695060'>is</span> <span m='4695150'>logarithmic.</span> <span m='4695750'>This</span>
  <span m='4695930'>is</span> <span m='4696050'>exponential.</span> <span m='4697110'>So</span>
  <span m='4697130'>it's</span> <span m='4697280'>decreasing</span> <span m='4697760'>very</span>
  <span m='4697970'>quickly.</span> <span m='4698510'>After</span> <span m='4698810'>log</span>
  <span m='4699050'>n</span> <span m='4699170'>steps,</span> <span m='4699530'>all</span>
  <span m='4699650'>your</span> <span m='4699770'>items</span> <span m='4700010'>are</span>
  <span m='4700070'>gone.</span> </p><p><span m='4701030'>So,</span> <span m='4701270'>yeah,</span>
  <span m='4701450'>maybe</span> <span m='4701690'>you</span> <span m='4701810'>go</span>
  <span m='4701960'>in</span> <span m='4702050'>a</span> <span m='4702290'>short</span>
  <span m='4702620'>loop</span> <span m='4702830'>for</span> <span m='4703010'>a</span>
  <span m='4703090'>while.</span> <span m='4703620'>But</span> <span m='4705680'>after</span>
  <span m='4705980'>log n</span> <span m='4706310'>steps,</span> <span m='4706580'>it's</span>
  <span m='4706670'>all</span> <span m='4706820'>gone.</span> <span m='4707030'>So</span>
  <span m='4707160'>you're, at</span> <span m='4707340'>most,</span> <span m='4707600'>increasing</span>
  <span m='4707960'>by</span> <span m='4708080'>a</span> <span m='4708110'>log</span>
  <span m='4708320'>factor.</span> <span m='4708690'>In fact,</span> <span m='4709010'>you</span>
  <span m='4709070'>just</span> <span m='4709250'>increase</span> <span m='4709550'>by</span>
  <span m='4709680'>a</span> <span m='4709700'>constant</span> <span m='4710090'>factor,</span>
  <span m='4710450'>because</span> <span m='4710630'>the</span> <span m='4710720'>number</span>
  <span m='4710930'>of</span> <span m='4711020'>items</span> <span m='4711290'>that</span>
  <span m='4711410'>remain</span> <span m='4711710'>gets</span> <span m='4711860'>so</span>
  <span m='4712250'>tiny</span> <span m='4713150'>very</span> <span m='4713360'>quickly.</span>
  </p><p><span m='4715170'>So</span> <span m='4715520'>I'm</span> <span m='4715670'>not</span>
  <span m='4715820'>going</span> <span m='4715940'>to</span> <span m='4716030'>go</span>
  <span m='4716180'>into</span> <span m='4716320'>the</span> <span m='4716420'>details,</span>
  <span m='4716810'>but</span> <span m='4716930'>you</span> <span m='4717050'>just</span>
  <span m='4717260'>take</span> <span m='4717560'>this</span> <span m='4717710'>list</span>
  <span m='4717980'>idea,</span> <span m='4718940'>apply</span> <span m='4719260'>it</span>
  <span m='4719330'>to</span> <span m='4719430'>your</span> <span m='4719460'>graph.</span>
  <span m='4720320'>It</span> <span m='4720470'>works.</span> <span m='4721700'>It</span>
  <span m='4721850'>gets</span> <span m='4722060'>messier.</span> <span m='4723230'>But</span>
  <span m='4723770'>in</span> <span m='4723950'>this</span> <span m='4724100'>very</span>
  <span m='4724430'>general</span> <span m='4724730'>scenario,</span> <span m='4725240'>you</span>
  <span m='4725390'>can</span> <span m='4725510'>support</span> <span m='4725900'>these</span>
  <span m='4726050'>searches</span> <span m='4727010'>in</span> <span m='4728600'>k</span>
  <span m='4728870'>plus</span> <span m='4729140'>log</span> <span m='4729480'>n</span>
  <span m='4730700'>where</span> <span m='4731060'>n,</span> <span m='4731480'>let's</span>
  <span m='4731660'>say,</span> <span m='4731900'>is</span> <span m='4732050'>the</span>
  <span m='4732230'>maximum</span> <span m='4732800'>size</span> <span m='4733310'>of</span>
  <span m='4734780'>any</span> <span m='4734960'>vertex</span> <span m='4735360'>set.</span>
  </p><p><span m='4741200'>So</span> <span m='4741510'>just</span> <span m='4741670'>it</span>
  <span m='4742100'>directly</span> <span m='4742610'>generalizes.</span> <span m='4743780'>And</span>
  <span m='4743960'>this</span> <span m='4744290'>is</span> <span m='4744440'>the</span>
  <span m='4744560'>thing</span> <span m='4745910'>that</span> <span m='4746090'>you</span>
  <span m='4746270'>can</span> <span m='4746420'>use</span> <span m='4746750'>to</span>
  <span m='4746900'>get</span> <span m='4747620'>this</span> <span m='4747830'>log</span>
  <span m='4748160'>factor</span> <span m='4748520'>improvement</span> <span m='4751520'>and</span>
  <span m='4751730'>many</span> <span m='4752060'>other</span> <span m='4752240'>things.</span>
  <span m='4752630'>Actually,</span> <span m='4753710'>this</span> <span m='4753980'>was</span>
  <span m='4754100'>such</span> <span m='4754430'>a</span> <span m='4754520'>big</span>
  <span m='4754760'>thing</span> <span m='4755210'>at</span> <span m='4755360'>the</span>
  <span m='4755450'>time.</span> </p><p><span m='4755660'>There</span> <span m='4755750'>were</span>
  <span m='4755870'>two</span> <span m='4756110'>papers</span> <span m='4756530'>on</span>
  <span m='4756650'>fractional</span> <span m='4757010'>cascading,</span> <span m='4757460'>part</span>
  <span m='4757640'>1</span> <span m='4757850'>and</span> <span m='4757940'>part</span>
  <span m='4758120'>2.</span> <span m='4758870'>Part</span> <span m='4759050'>1</span>
  <span m='4759290'>is</span> <span m='4759410'>what</span> <span m='4760190'>is</span>
  <span m='4760460'>solving</span> <span m='4761060'>this.</span> <span m='4761690'>And</span>
  <span m='4761810'>part</span> <span m='4761990'>2</span> <span m='4762200'>is</span>
  <span m='4762440'>applications.</span> <span m='4763340'>They</span> <span m='4763490'>solved</span>
  <span m='4763820'>a</span> <span m='4763880'>ton</span> <span m='4764200'>of</span>
  <span m='4764270'>problems</span> <span m='4764630'>that</span> <span m='4764750'>no</span>
  <span m='4764900'>one</span> <span m='4765020'>knew</span> <span m='4765170'>how</span>
  <span m='4765260'>to</span> <span m='4765350'>solve</span> <span m='4766160'>using</span>
  <span m='4766460'>this</span> <span m='4766610'>general</span> <span m='4767090'>fractional</span>
  <span m='4767480'>cascading</span> <span m='4768380'>technique.</span> <span m='4769280'>That's</span>
  <span m='4769580'>it for</span> <span m='4769880'>today.</span> </p>
type: course
uid: 35f5e21ff0ace3b604d3bd819a66744c

---
None