---
about_this_resource_text: '<p><strong>Description:</strong> Integer: Models, predecessor
  problem, van Emde Boas, x-fast and y-fast trees, indirection.</p> <p><strong>Speaker:</strong>
  Prof. Erik Demaine</p>'
course_id: 6-851-advanced-data-structures-spring-2012
embedded_media:
- id: Video-YouTube-Stream
  media_location: u-HHY1ylhHY
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Video-YouTube-Stream
  type: Video
  uid: afb7c1038edad17c3720cd266ab8d788
- id: Video-iTunesU-MP4
  media_location: https://itunes.apple.com/us/itunes-u/session-11-integer-models/id735348884?i=199527719
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Video-iTunes U-MP4
  type: Video
  uid: f67770825d1565e9ed48e66d1dc8fca8
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.851S12/MIT6_851S12_lec11_300k.mp4
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Video-Internet Archive-MP4
  type: Video
  uid: 27b53cca0946cdb211327ce60daec3a5
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/u-HHY1ylhHY/default.jpg
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 0ee171b2b289c79aa70069a7d49b4f17
- id: 3Play-3PlayYouTubeid-MP4
  media_location: u-HHY1ylhHY
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 8a4920547ea12446977f55846e969592
- id: u-HHY1ylhHY.srt
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-11-integer-models/u-HHY1ylhHY.srt
  title: 3play caption file
  type: null
  uid: 9dfd06cea78d183e83c8ccb8211f3a03
- id: u-HHY1ylhHY.pdf
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-11-integer-models/u-HHY1ylhHY.pdf
  title: 3play pdf file
  type: null
  uid: 99bafece9d69a10ac42650ba5ddd29c6
- id: Caption-3Play YouTube id-SRT
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 3af477ad1661040559e9dc6a723d1091
- id: Transcript-3Play YouTube id-PDF
  parent_uid: e7b07389264fb92cd0d88926aa5f853a
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: fabaf3bccbe1a6d7f5d6b7208ad6658e
inline_embed_id: 47920138session11:integermodels69355250
layout: video
order_index: null
parent_uid: b66cbbb7b35e74ff17cdbf44e5fb6b1d
related_resources_text: ''
short_url: session-11-integer-models
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-11-integer-models
template_type: Tabbed
title: 'Session 11: Integer Models'
transcript: <p><span m='90'>The</span> <span m='180'>following</span> <span m='630'>content</span>
  <span m='1200'>is</span> <span m='1320'>provided</span> <span m='1770'>under</span>
  <span m='2009'>a</span> <span m='2070'>Creative</span> <span m='2490'>Commons</span>
  <span m='2910'>license.</span> <span m='4030'>Your</span> <span m='4200'>support</span>
  <span m='4710'>will</span> <span m='4860'>help</span> <span m='5100'>MIT</span>
  <span m='5550'>OpenCourseWare</span> <span m='6360'>continue</span> <span m='6870'>to</span>
  <span m='6960'>offer</span> <span m='7380'>high</span> <span m='7620'>quality</span>
  <span m='8100'>educational</span> <span m='8730'>resources</span> <span m='9360'>for</span>
  <span m='9540'>free.</span> <span m='10720'>To</span> <span m='10740'>make</span>
  <span m='10920'>a</span> <span m='10980'>donation</span> <span m='11730'>or</span>
  <span m='11940'>view</span> <span m='12390'>additional</span> <span m='12810'>materials</span>
  <span m='13320'>from</span> <span m='13500'>hundreds</span> <span m='13920'>of</span>
  <span m='14040'>MIT</span> <span m='14460'>courses,</span> <span m='15550'>visit</span>
  <span m='15780'>MIT</span> <span m='16200'>OpenCourseWare</span> <span m='17280'>at</span>
  <span m='17430'>ocw.mit.edu.</span> </p><p><span m='21610'>ERIK DEMAINE:</span>
  <span m='21685'>All</span> <span m='21760'>right.</span> <span m='21970'>Today</span>
  <span m='22270'>is</span> <span m='22450'>all</span> <span m='22720'>about</span>
  <span m='23050'>the</span> <span m='23440'>predecessor</span> <span m='24340'>problem,</span>
  <span m='24920'>which</span> <span m='25000'>is</span> <span m='25110'>a</span>
  <span m='25180'>problem</span> <span m='25510'>we've</span> <span m='25990'>certainly</span>
  <span m='26350'>talked</span> <span m='26590'>about</span> <span m='26740'>implicitly</span>
  <span m='27070'>with,</span> <span m='27400'>say,</span> <span m='27640'>binary</span>
  <span m='27970'>search</span> <span m='28240'>trees.</span> <span m='28540'>You</span>
  <span m='28600'>want</span> <span m='28780'>to</span> <span m='28840'>be</span>
  <span m='28900'>able</span> <span m='29050'>to</span> <span m='29140'>insert</span>
  <span m='29530'>and</span> <span m='29620'>delete</span> <span m='29920'>into</span>
  <span m='30130'>a</span> <span m='30190'>set,</span> <span m='30940'>and</span>
  <span m='31240'>compute</span> <span m='31540'>the</span> <span m='31630'>predecessor</span>
  <span m='32259'>and</span> <span m='32350'>successor</span> <span m='32860'>of</span>
  <span m='32950'>any</span> <span m='33160'>given</span> <span m='33490'>key.</span>
  <span m='34570'>So</span> <span m='35560'>maybe</span> <span m='38290'>define</span>
  <span m='38710'>that</span> <span m='38830'>formally.</span> </p><p><span m='48160'>And</span>
  <span m='48310'>this</span> <span m='48520'>is</span> <span m='50110'>not</span>
  <span m='50260'>really</span> <span m='50500'>our</span> <span m='50590'>first,</span>
  <span m='51070'>but</span> <span m='51440'>it</span> <span m='51540'>is</span> <span
  m='51760'>an</span> <span m='51880'>example</span> <span m='52360'>of</span> <span
  m='52450'>an</span> <span m='52570'>integer</span> <span m='53020'>data</span> <span
  m='53260'>structure.</span> <span m='54370'>And</span> <span m='55540'>for</span>
  <span m='55690'>whatever</span> <span m='55990'>reason,</span> <span m='56350'>I</span>
  <span m='56470'>don't</span> <span m='56680'>brand</span> <span m='56980'>hashing</span>
  <span m='57550'>as</span> <span m='57940'>an</span> <span m='58060'>integer</span>
  <span m='58360'>data</span> <span m='58540'>structure,</span> <span m='58900'>just</span>
  <span m='59050'>because</span> <span m='59260'>it's</span> <span m='59410'>its</span>
  <span m='59590'>own</span> <span m='60310'>beast.</span> <span m='61640'>But</span>
  <span m='61840'>in</span> <span m='61960'>particular,</span> <span m='62440'>today,</span>
  <span m='62710'>I</span> <span m='62770'>need</span> <span m='62950'>to</span> <span
  m='63070'>be</span> <span m='63160'>a</span> <span m='63220'>little</span> <span
  m='63400'>more</span> <span m='63550'>formal</span> <span m='63940'>about</span>
  <span m='64209'>the</span> <span m='64330'>models</span> <span m='64660'>of</span>
  <span m='64750'>computation</span> <span m='65349'>we're</span> <span m='65530'>allowing--</span>
  <span m='66030'>or</span> <span m='66180'>I</span> <span m='66220'>want</span> <span
  m='66430'>to</span> <span m='66550'>be.</span> <span m='67600'>In</span> <span m='67720'>particular,</span>
  <span m='68290'>because,</span> <span m='69070'>in</span> <span m='69250'>the</span>
  <span m='69340'>predecessor</span> <span m='69910'>problem,</span> <span m='70910'>which</span>
  <span m='71050'>is,</span> <span m='72880'>insert,</span> <span m='75366'>delete,</span>
  <span m='77770'>predecessor,</span> <span m='78310'>successor,</span> <span m='79410'>there</span>
  <span m='79590'>are</span> <span m='79660'>actually</span> <span m='79990'>lower</span>
  <span m='80320'>bounds</span> <span m='81100'>that</span> <span m='81250'>say</span>
  <span m='81400'>you</span> <span m='81610'>cannot</span> <span m='82030'>do</span>
  <span m='82210'>better</span> <span m='82540'>than</span> <span m='82750'>such</span>
  <span m='82990'>and</span> <span m='83080'>such.</span> </p><p><span m='83950'>With</span>
  <span m='84130'>hashing,</span> <span m='85060'>there</span> <span m='85150'>aren't</span>
  <span m='85270'>really</span> <span m='85510'>any</span> <span m='85660'>lower</span>
  <span m='85900'>bounds,</span> <span m='86170'>because</span> <span m='86440'>you</span>
  <span m='86560'>can</span> <span m='86680'>do</span> <span m='86770'>everything</span>
  <span m='87130'>in</span> <span m='87250'>constant</span> <span m='87640'>time</span>
  <span m='87940'>with</span> <span m='88090'>high</span> <span m='88210'>probability.</span>
  <span m='89140'>So</span> <span m='89380'>I</span> <span m='89470'>mean,</span>
  <span m='89620'>there</span> <span m='89840'>are</span> <span m='90040'>maybe</span>
  <span m='90250'>some</span> <span m='90400'>lower</span> <span m='90580'>bounds</span>
  <span m='90850'>on</span> <span m='90940'>deterministic</span> <span m='91570'>hashing.</span>
  <span m='91990'>That's</span> <span m='92200'>harder.</span> <span m='93080'>But</span>
  <span m='93490'>if</span> <span m='93610'>you</span> <span m='93670'>allow</span>
  <span m='93850'>randomization,</span> <span m='94600'>there's</span> <span m='94750'>no</span>
  <span m='94870'>real</span> <span m='95080'>lower</span> <span m='95270'>bounds,</span>
  <span m='95850'>whereas</span> <span m='96130'>predecessor,</span> <span m='97130'>there</span>
  <span m='97350'>is.</span> </p><p><span m='100430'>And</span> <span m='102650'>in</span>
  <span m='102840'>general,</span> <span m='103900'>predecessor</span> <span m='104410'>problem--</span>
  <span m='106566'>the</span> <span m='106970'>key</span> <span m='107200'>thing</span>
  <span m='107360'>I</span> <span m='107470'>want</span> <span m='107680'>to</span>
  <span m='107830'>highlight</span> <span m='108670'>is</span> <span m='108880'>that</span>
  <span m='109720'>we're</span> <span m='109900'>maintaining</span> <span m='110470'>here</span>
  <span m='110770'>a</span> <span m='110830'>set</span> <span m='111570'>of--</span>
  <span m='113500'>the</span> <span m='113730'>set</span> <span m='114010'>is</span>
  <span m='114100'>called</span> <span m='114310'>s</span> <span m='117640'>of</span>
  <span m='119500'>n</span> <span m='120130'>elements,</span> <span m='124030'>which</span>
  <span m='124270'>live</span> <span m='124450'>in</span> <span m='124540'>some</span>
  <span m='125110'>universe,</span> <span m='125455'>U--</span> <span m='126890'>just</span>
  <span m='127060'>like</span> <span m='127240'>last</span> <span m='127480'>time.</span>
  <span m='128259'>When</span> <span m='128380'>you</span> <span m='128470'>insert,</span>
  <span m='128850'>you</span> <span m='128949'>can</span> <span m='129070'>insert</span>
  <span m='129340'>an</span> <span m='129460'>arbitrary</span> <span m='129880'>element</span>
  <span m='130180'>of</span> <span m='130300'>the</span> <span m='130419'>universe.</span>
  <span m='130900'>That</span> <span m='131020'>probably</span> <span m='131320'>shouldn't</span>
  <span m='131590'>be</span> <span m='131710'>an</span> <span m='131830'>s,</span>
  <span m='132100'>or</span> <span m='132570'>it</span> <span m='132660'>will</span>
  <span m='132790'>get</span> <span m='132940'>thrown</span> <span m='133180'>away.</span>
  </p><p><span m='135100'>But</span> <span m='135310'>the</span> <span m='135400'>key</span>
  <span m='135520'>thing</span> <span m='135700'>is</span> <span m='135800'>that</span>
  <span m='135880'>predecessor</span> <span m='136420'>and</span> <span m='136510'>successor</span>
  <span m='137020'>operate</span> <span m='137440'>not</span> <span m='137710'>just</span>
  <span m='138010'>on</span> <span m='138190'>the</span> <span m='138310'>[INAUDIBLE]</span>
  <span m='138970'>in</span> <span m='139190'>s,</span> <span m='139600'>but</span>
  <span m='139780'>you</span> <span m='139960'>can</span> <span m='140080'>give</span>
  <span m='140260'>it</span> <span m='140350'>any</span> <span m='140650'>key.</span>
  <span m='141000'>It doesn't</span> <span m='141250'>have</span> <span m='141460'>to</span>
  <span m='141550'>be</span> <span m='141700'>in</span> <span m='141850'>there.</span>
  <span m='142390'>And</span> <span m='142540'>it</span> <span m='142630'>will</span>
  <span m='142720'>find</span> <span m='143020'>the</span> <span m='143140'>previous</span>
  <span m='143590'>key</span> <span m='143800'>that</span> <span m='143950'>is</span>
  <span m='144070'>in</span> <span m='144250'>s, or</span> <span m='144700'>the</span>
  <span m='144790'>next</span> <span m='145090'>key</span> <span m='145420'>that</span>
  <span m='145750'>is</span> <span m='145930'>in</span> <span m='146080'>s.</span>
  <span m='146350'>So</span> <span m='146620'>predecessor</span> <span m='147340'>is</span>
  <span m='147730'>the</span> <span m='148390'>largest</span> <span m='148960'>key</span>
  <span m='149280'>that</span> <span m='149470'>is</span> <span m='149710'>less</span>
  <span m='149980'>than</span> <span m='150100'>or</span> <span m='150160'>equal</span>
  <span m='150370'>to</span> <span m='150460'>x</span> <span m='152770'>that's</span>
  <span m='153220'>in</span> <span m='153400'>your</span> <span m='153580'>set.</span>
  <span m='157550'>And</span> <span m='158510'>successor</span> <span m='159130'>is</span>
  <span m='159430'>the</span> <span m='159970'>smallest</span> <span m='160720'>that</span>
  <span m='160900'>is</span> <span m='161080'>larger--</span> <span m='163600'>of</span>
  <span m='163660'>course,</span> <span m='163900'>if</span> <span m='164050'>there</span>
  <span m='164200'>is</span> <span m='164350'>one.</span> </p><p><span m='168850'>So</span>
  <span m='169000'>those</span> <span m='169270'>are</span> <span m='169330'>the</span>
  <span m='169540'>kinds</span> <span m='169780'>of</span> <span m='169870'>operations</span>
  <span m='170320'>we</span> <span m='170410'>want</span> <span m='170560'>to</span>
  <span m='170620'>do.</span> <span m='170800'>Now,</span> <span m='170980'>we</span>
  <span m='171100'>know</span> <span m='171250'>how</span> <span m='171370'>to</span>
  <span m='171490'>do</span> <span m='171640'>all</span> <span m='171820'>of</span>
  <span m='171880'>this</span> <span m='172090'>n</span> <span m='172210'>log</span>
  <span m='172400'>n</span> <span m='172960'>time,</span> <span m='173440'>no</span>
  <span m='173620'>problem,</span> <span m='174040'>with</span> <span m='174160'>binary</span>
  <span m='174460'>search</span> <span m='174730'>trees,</span> <span m='176590'>in</span>
  <span m='176800'>the</span> <span m='176890'>comparison</span> <span m='177370'>model.</span>
  <span m='177850'>But</span> <span m='178060'>I</span> <span m='178120'>want</span>
  <span m='178240'>to</span> <span m='178330'>introduce</span> <span m='178780'>two</span>
  <span m='179140'>more,</span> <span m='180020'>say,</span> <span m='180390'>realistic</span>
  <span m='180880'>models</span> <span m='181330'>of</span> <span m='182620'>computers,</span>
  <span m='183820'>that</span> <span m='184040'>ignore</span> <span m='184570'>the</span>
  <span m='184690'>memory</span> <span m='185050'>hierarchy,</span> <span m='185620'>but</span>
  <span m='185830'>think</span> <span m='186100'>about</span> <span m='186850'>regular</span>
  <span m='187630'>RAM</span> <span m='187930'>machines--</span> <span m='188620'>random</span>
  <span m='188890'>access</span> <span m='189190'>machines--</span> <span m='189550'>and</span>
  <span m='189700'>what</span> <span m='191320'>they</span> <span m='191470'>can</span>
  <span m='191620'>really</span> <span m='191860'>do.</span> </p><p><span m='193810'>And</span>
  <span m='193960'>it's</span> <span m='194110'>a</span> <span m='194140'>model</span>
  <span m='194410'>we're</span> <span m='194530'>going</span> <span m='194630'>to</span>
  <span m='194740'>be</span> <span m='194830'>working</span> <span m='195130'>on</span>
  <span m='195220'>for</span> <span m='195340'>the</span> <span m='195430'>next,</span>
  <span m='195670'>I</span> <span m='195730'>think,</span> <span m='195920'>five</span>
  <span m='196240'>lectures.</span> <span m='197780'>So,</span> <span m='198160'>important</span>
  <span m='198580'>to</span> <span m='198730'>set</span> <span m='198940'>the</span>
  <span m='199060'>stage</span> <span m='199360'>right.</span> <span m='202150'>So</span>
  <span m='202360'>these</span> <span m='202540'>are</span> <span m='202630'>models</span>
  <span m='203140'>for</span> <span m='203530'>integer</span> <span m='205000'>data</span>
  <span m='205210'>structures.</span> </p><p><span m='209470'>In</span> <span m='209620'>general,</span>
  <span m='210850'>we</span> <span m='211000'>have</span> <span m='211240'>a</span>
  <span m='211330'>unifying</span> <span m='214450'>concept,</span> <span m='214960'>which</span>
  <span m='215170'>is</span> <span m='215560'>a</span> <span m='215710'>word</span>
  <span m='216490'>of</span> <span m='217690'>information,</span> <span m='218350'>a</span>
  <span m='218440'>word</span> <span m='218890'>of</span> <span m='219700'>data,</span>
  <span m='220045'>a</span> <span m='220390'>word</span> <span m='220720'>of</span>
  <span m='220810'>memory.</span> <span m='221690'>It's</span> <span m='222010'>used</span>
  <span m='222220'>all</span> <span m='222340'>over</span> <span m='222520'>the</span>
  <span m='222610'>place--</span> <span m='222970'>a</span> <span m='223030'>word</span>
  <span m='223240'>of</span> <span m='223330'>input.</span> <span m='224730'>A</span>
  <span m='225190'>word</span> <span m='226810'>is</span> <span m='226990'>the</span>
  <span m='227530'>machine</span> <span m='227980'>theoretic</span> <span m='228370'>sense,</span>
  <span m='228640'>not</span> <span m='228790'>like</span> <span m='228970'>the</span>
  <span m='229060'>linguistic</span> <span m='229570'>sense.</span> <span m='230790'>It's</span>
  <span m='230920'>going</span> <span m='231040'>to</span> <span m='231130'>be</span>
  <span m='231340'>a</span> <span m='231470'>w-bit</span> <span m='232090'>integer.</span>
  </p><p><span m='234300'>And</span> <span m='234460'>so</span> <span m='234820'>this</span>
  <span m='235000'>defines</span> <span m='235450'>the</span> <span m='235510'>universe,</span>
  <span m='236680'>which</span> <span m='236920'>is--</span> <span m='237790'>I'm</span>
  <span m='237910'>going</span> <span m='238120'>to</span> <span m='238210'>assume</span>
  <span m='238510'>they're</span> <span m='238660'>all</span> <span m='238990'>unsigned</span>
  <span m='239470'>integers.</span> <span m='240910'>So</span> <span m='241210'>this</span>
  <span m='241420'>is</span> <span m='241730'>2</span> <span m='242080'>to</span>
  <span m='242300'>the</span> <span m='242440'>w</span> <span m='243040'>minus</span>
  <span m='244240'>one.</span> <span m='245120'>Those</span> <span m='245560'>are</span>
  <span m='245650'>all</span> <span m='245860'>the</span> <span m='246340'>unsigned</span>
  <span m='246670'>integers</span> <span m='247000'>you</span> <span m='247090'>can</span>
  <span m='247180'>represent</span> <span m='247630'>with</span> <span m='247780'>w-bits.</span>
  <span m='248760'>We'll</span> <span m='249020'>also</span> <span m='249280'>call</span>
  <span m='249490'>this</span> <span m='249640'>number,</span> <span m='249910'>2</span>
  <span m='250070'>to</span> <span m='250150'>the</span> <span m='250270'>w,</span>
  <span m='251020'>little</span> <span m='251380'>u.</span> <span m='251860'>That</span>
  <span m='252160'>is</span> <span m='252400'>the</span> <span m='252520'>size</span>
  <span m='252940'>of</span> <span m='253120'>the</span> <span m='253180'>universe,</span>
  <span m='254660'>which</span> <span m='254740'>is</span> <span m='254830'>capital</span>
  <span m='255220'>U.</span> </p><p><span m='256060'>So</span> <span m='256240'>this</span>
  <span m='256480'>matches</span> <span m='256899'>notation</span> <span m='257410'>from</span>
  <span m='257589'>last</span> <span m='257800'>time.</span> <span m='258399'>But</span>
  <span m='258579'>I'm</span> <span m='258640'>really</span> <span m='258850'>highlighting</span>
  <span m='259420'>how</span> <span m='259570'>many</span> <span m='259810'>bits</span>
  <span m='260050'>we</span> <span m='260140'>have,</span> <span m='260660'>which</span>
  <span m='260690'>is</span> <span m='260850'>w.</span> <span m='263350'>Now,</span>
  <span m='265030'>here's</span> <span m='265270'>where</span> <span m='265390'>things</span>
  <span m='265600'>get</span> <span m='265750'>interesting.</span> </p><p><span m='266980'>I'm</span>
  <span m='267070'>going</span> <span m='267190'>to</span> <span m='267550'>get</span>
  <span m='267760'>to</span> <span m='268040'>a</span> <span m='268060'>model</span>
  <span m='268330'>called</span> <span m='268560'>a</span> <span m='268630'>word</span>
  <span m='268930'>RAM,</span> <span m='269380'>which</span> <span m='269590'>is</span>
  <span m='270280'>what</span> <span m='270430'>you</span> <span m='270550'>might</span>
  <span m='270730'>expect,</span> <span m='272080'>more</span> <span m='272290'>or</span>
  <span m='272350'>less.</span> <span m='272830'>But</span> <span m='273010'>before</span>
  <span m='273280'>I</span> <span m='273340'>get</span> <span m='273520'>there</span>
  <span m='273700'>I</span> <span m='273730'>want</span> <span m='273940'>to</span>
  <span m='274030'>define</span> <span m='274240'>something</span> <span m='274510'>called</span>
  <span m='274690'>transdichotomous</span> <span m='275960'>RAM--</span> <span m='278770'>tough</span>
  <span m='278950'>word</span> <span m='279140'>to</span> <span m='279220'>spell.</span>
  <span m='280280'>It</span> <span m='280730'>just</span> <span m='280900'>means</span>
  <span m='281320'>bridging</span> <span m='282100'>a</span> <span m='282130'>dichotomy--</span>
  <span m='282820'>bridging</span> <span m='283360'>two</span> <span m='283570'>worlds,</span>
  <span m='283990'>if</span> <span m='284110'>you</span> <span m='284230'>will.</span>
  <span m='286510'>RAM</span> <span m='286960'>is</span> <span m='287210'>a</span>
  <span m='287230'>random</span> <span m='287500'>access</span> <span m='287830'>machine.</span>
  <span m='290170'>I've</span> <span m='290880'>certainly</span> <span m='291190'>mentioned</span>
  <span m='291490'>the</span> <span m='291580'>word</span> <span m='291880'>RAM</span>
  <span m='292180'>before.</span> <span m='294310'>But</span> <span m='294520'>now</span>
  <span m='294700'>we're</span> <span m='294790'>going</span> <span m='294910'>to</span>
  <span m='295000'>get</span> <span m='295210'>a</span> <span m='295270'>little</span>
  <span m='295480'>more</span> <span m='295690'>precise</span> <span m='296110'>about</span>
  <span m='296350'>it.</span> </p><p><span m='296710'>So</span> <span m='296800'>in</span>
  <span m='296890'>general,</span> <span m='297190'>in</span> <span m='297250'>the</span>
  <span m='297330'>RAM,</span> <span m='298120'>memory</span> <span m='298660'>is</span>
  <span m='299500'>an</span> <span m='299620'>array.</span> <span m='300360'>And</span>
  <span m='300490'>you</span> <span m='300610'>can</span> <span m='300730'>do</span>
  <span m='300820'>random</span> <span m='301120'>access</span> <span m='301480'>into</span>
  <span m='301660'>the</span> <span m='301810'>array.</span> <span m='302530'>But</span>
  <span m='302680'>now,</span> <span m='302920'>we're</span> <span m='303040'>going</span>
  <span m='303250'>to</span> <span m='303370'>say,</span> <span m='304780'>the</span>
  <span m='305140'>cells</span> <span m='305590'>of</span> <span m='305680'>the</span>
  <span m='305800'>memory--</span> <span m='306580'>each</span> <span m='306790'>slot</span>
  <span m='307120'>in</span> <span m='307180'>that</span> <span m='307360'>array--</span>
  <span m='307990'>is</span> <span m='308170'>a</span> <span m='308260'>word.</span>
  <span m='309040'>Everything</span> <span m='309410'>is</span> <span m='309490'>going</span>
  <span m='309630'>to</span> <span m='309700'>be</span> <span m='309880'>a</span>
  <span m='309940'>word.</span> <span m='310540'>Every</span> <span m='310810'>input--</span>
  <span m='312250'>all</span> <span m='312490'>these</span> <span m='312760'>x's</span>
  <span m='313810'>are</span> <span m='313900'>going</span> <span m='314000'>to</span>
  <span m='314110'>be</span> <span m='314230'>words.</span> <span m='315050'>Everything</span>
  <span m='315430'>will</span> <span m='315520'>be</span> <span m='315670'>a</span>
  <span m='315730'>word.</span> <span m='315970'>And</span> <span m='316090'>in</span>
  <span m='316180'>particular,</span> <span m='316920'>the</span> <span m='317050'>things</span>
  <span m='317350'>in</span> <span m='317440'>your</span> <span m='317560'>memory</span>
  <span m='317950'>are</span> <span m='318100'>words.</span> </p><p><span m='321070'>Let's</span>
  <span m='321220'>say</span> <span m='321490'>you</span> <span m='321580'>have</span>
  <span m='321760'>s</span> <span m='321980'>of</span> <span m='322120'>them.</span>
  <span m='322300'>That's</span> <span m='322570'>your</span> <span m='322690'>space</span>
  <span m='323020'>bound.</span> <span m='325750'>In</span> <span m='325900'>general,</span>
  <span m='326330'>in transdichotomous</span> <span m='327160'>RAM,</span> <span m='327430'>you</span>
  <span m='327550'>can</span> <span m='327670'>do</span> <span m='327790'>any</span>
  <span m='328090'>operation</span> <span m='330730'>that</span> <span m='331810'>reads</span>
  <span m='332140'>and</span> <span m='332260'>writes</span> <span m='334180'>a</span>
  <span m='334300'>constant</span> <span m='334690'>number</span> <span m='334930'>of</span>
  <span m='335020'>words</span> <span m='339580'>in</span> <span m='339820'>memory.</span>
  <span m='340600'>And</span> <span m='340690'>in</span> <span m='340750'>particular,</span>
  <span m='341300'>you</span> <span m='341350'>can</span> <span m='341470'>do</span>
  <span m='342190'>random</span> <span m='342490'>access</span> <span m='343060'>to</span>
  <span m='343180'>that</span> <span m='343330'>memory.</span> </p><p><span m='345860'>But</span>
  <span m='345910'>in</span> <span m='346000'>particular,</span> <span m='347290'>we</span>
  <span m='347440'>use</span> <span m='348250'>words</span> <span m='349360'>to</span>
  <span m='351280'>serve</span> <span m='351750'>as</span> <span m='351910'>pointers.</span>
  <span m='357460'>Here's</span> <span m='357820'>my</span> <span m='358990'>memory</span>
  <span m='359320'>of</span> <span m='359410'>words.</span> <span m='362590'>Each</span>
  <span m='362800'>of</span> <span m='362860'>them</span> <span m='363190'>is</span>
  <span m='363810'>w</span> <span m='364240'>bits--</span> <span m='365460'>so</span>
  <span m='366150'>s</span> <span m='366370'>of</span> <span m='366460'>them,</span>
  <span m='367502'>from,</span> <span m='367860'>I</span> <span m='368110'>guess,</span>
  <span m='369520'>0</span> <span m='370680'>to</span> <span m='370840'>s</span> <span
  m='371020'>minus</span> <span m='371350'>one.</span> </p><p><span m='372040'>And</span>
  <span m='372340'>if</span> <span m='372490'>you</span> <span m='372610'>have,</span>
  <span m='373000'>like,</span> <span m='373210'>the</span> <span m='373300'>number</span>
  <span m='375520'>3</span> <span m='375820'>here,</span> <span m='377170'>that</span>
  <span m='378330'>can</span> <span m='378580'>be</span> <span m='378700'>used</span>
  <span m='378940'>as</span> <span m='379060'>a</span> <span m='379120'>pointer</span>
  <span m='379570'>to</span> <span m='379810'>the</span> <span m='380080'>third</span>
  <span m='380770'>slot</span> <span m='381040'>of</span> <span m='381100'>memory.</span>
  <span m='381610'>One,</span> <span m='382030'>two,</span> <span m='382366'>three.</span>
  <span m='384910'>You</span> <span m='385030'>can</span> <span m='385150'>use</span>
  <span m='385270'>numbers</span> <span m='385720'>as</span> <span m='385900'>indexes</span>
  <span m='386530'>into</span> <span m='386860'>memory.</span> <span m='387440'>So</span>
  <span m='387520'>that's</span> <span m='387700'>what</span> <span m='387820'>I</span>
  <span m='387880'>mean</span> <span m='388000'>by,</span> <span m='388150'>words</span>
  <span m='388360'>serve as</span> <span m='388690'>pointers.</span> </p><p><span
  m='389270'>So</span> <span m='389410'>particularly,</span> <span m='389800'>you</span>
  <span m='389890'>can</span> <span m='390010'>implement</span> <span m='390310'>a</span>
  <span m='390370'>pointer</span> <span m='390620'>machine,</span> <span m='392110'>which--</span>
  <span m='392610'>no</span> <span m='392770'>surprise--</span> <span m='393850'>but</span>
  <span m='394720'>for</span> <span m='394870'>this</span> <span m='395080'>to</span>
  <span m='395230'>work,</span> <span m='397300'>we</span> <span m='397450'>need</span>
  <span m='397600'>a</span> <span m='397690'>lower</span> <span m='397990'>bound</span>
  <span m='398260'>on</span> <span m='398380'>w.</span> <span m='399760'>This</span>
  <span m='399970'>implies</span> <span m='401200'>w</span> <span m='401530'>has</span>
  <span m='401770'>to</span> <span m='401860'>be</span> <span m='401980'>at</span>
  <span m='402070'>least</span> <span m='403000'>log</span> <span m='403540'>of</span>
  <span m='403660'>the</span> <span m='403780'>space</span> <span m='404110'>bound.</span>
  <span m='404440'>Otherwise,</span> <span m='404830'>you</span> <span m='404920'>just</span>
  <span m='405100'>can't</span> <span m='405370'>index</span> <span m='405820'>your</span>
  <span m='405940'>whole</span> <span m='406090'>memory.</span> </p><p><span m='407560'>And</span>
  <span m='407780'>if</span> <span m='407910'>you've</span> <span m='408030'>got</span>
  <span m='408240'>s</span> <span m='408570'>minus 1</span> <span m='408800'>things,</span>
  <span m='409390'>this</span> <span m='409880'>2 to the</span> <span m='410250'>w</span>
  <span m='410610'>minus 1</span> <span m='410940'>better</span> <span m='411420'>be</span>
  <span m='411570'>at</span> <span m='411630'>least</span> <span m='412440'>s</span>
  <span m='412800'>minus</span> <span m='412920'>1.</span> <span m='413880'>So</span>
  <span m='414060'>we</span> <span m='414160'>get</span> <span m='414930'>this</span>
  <span m='415110'>lower</span> <span m='415380'>bound.</span> <span m='415980'>So</span>
  <span m='416130'>in</span> <span m='416220'>particular,</span> <span m='417840'>presumably,</span>
  <span m='419040'>s</span> <span m='419430'>is</span> <span m='422100'>at</span>
  <span m='422250'>least</span> <span m='422640'>your</span> <span m='422760'>problem</span>
  <span m='423300'>size,</span> <span m='423840'>n.</span> <span m='424120'>If</span>
  <span m='424400'>you're</span> <span m='424590'>trying</span> <span m='424860'>to</span>
  <span m='424950'>maintain</span> <span m='425310'>n</span> <span m='425490'>items,</span>
  <span m='425880'>you've</span> <span m='426000'>got</span> <span m='426150'>to</span>
  <span m='426210'>store</span> <span m='426540'>them.</span> <span m='428670'>So</span>
  <span m='429660'>w</span> <span m='430110'>is</span> <span m='430290'>at</span>
  <span m='430380'>least</span> <span m='431110'>log</span> <span m='432170'>n.</span>
  </p><p><span m='432420'>Now,</span> <span m='432780'>this</span> <span m='433080'>relation</span>
  <span m='435300'>is</span> <span m='435660'>essentially</span> <span m='436200'>a</span>
  <span m='436260'>statement</span> <span m='437760'>bridging</span> <span m='438270'>two</span>
  <span m='438510'>worlds.</span> <span m='438930'>Namely,</span> <span m='439350'>you</span>
  <span m='439470'>have,</span> <span m='439800'>on</span> <span m='439920'>the</span>
  <span m='440010'>one</span> <span m='440190'>hand,</span> <span m='440560'>your</span>
  <span m='440640'>model</span> <span m='440970'>of</span> <span m='441090'>computation,</span>
  <span m='442260'>which</span> <span m='442420'>has</span> <span m='443070'>a</span>
  <span m='443130'>particular</span> <span m='443580'>word</span> <span m='443790'>size.</span>
  <span m='444045'>And</span> <span m='444300'>in</span> <span m='444540'>reality,</span>
  <span m='445050'>we</span> <span m='445170'>think</span> <span m='445350'>of</span>
  <span m='445410'>that</span> <span m='445560'>as</span> <span m='445650'>being</span>
  <span m='445860'>32</span> <span m='446370'>or</span> <span m='446460'>64</span>
  <span m='446860'>or</span> <span m='447260'>maybe</span> <span m='447600'>128.</span>
  <span m='448590'>Some</span> <span m='448800'>fancy</span> <span m='449130'>operations</span>
  <span m='449820'>on</span> <span m='450600'>Intel</span> <span m='450870'>machines,</span>
  <span m='451230'>you</span> <span m='451290'>can</span> <span m='451380'>do</span>
  <span m='451470'>128-bit</span> <span m='452700'>or</span> <span m='452940'>so.</span>
  </p><p><span m='454650'>And</span> <span m='454800'>then</span> <span m='454980'>there's</span>
  <span m='455160'>your</span> <span m='455280'>problem</span> <span m='455820'>size,</span>
  <span m='456210'>which</span> <span m='456330'>we</span> <span m='456450'>think</span>
  <span m='456630'>of</span> <span m='456750'>as</span> <span m='456900'>an</span>
  <span m='457020'>input.</span> <span m='457830'>Now,</span> <span m='457980'>this</span>
  <span m='458220'>is</span> <span m='458340'>relating</span> <span m='458930'>the
  two.</span> <span m='459810'>It's</span> <span m='459990'>a</span> <span m='460050'>little</span>
  <span m='460470'>weird.</span> <span m='460990'>I</span> <span m='461090'>guess</span>
  <span m='461100'>you</span> <span m='461190'>could</span> <span m='461340'>say</span>
  <span m='461460'>it's</span> <span m='461550'>just</span> <span m='461700'>a</span>
  <span m='461760'>limitation</span> <span m='462330'>for</span> <span m='462480'>a</span>
  <span m='462510'>given</span> <span m='462880'>CPU.</span> <span m='463470'>There's</span>
  <span m='463620'>only</span> <span m='463830'>certain</span> <span m='464130'>problems</span>
  <span m='464490'>you</span> <span m='464610'>can</span> <span m='464760'>solve.</span>
  </p><p><span m='466100'>But</span> <span m='466980'>theoretically,</span> <span
  m='468150'>it</span> <span m='468270'>makes</span> <span m='468900'>a</span> <span
  m='469020'>lot</span> <span m='469320'>of</span> <span m='469410'>sense</span> <span
  m='469740'>to</span> <span m='469890'>relate</span> <span m='470160'>these</span>
  <span m='470370'>two.</span> <span m='470520'>Because</span> <span m='471570'>if</span>
  <span m='471750'>you're</span> <span m='471920'>in</span> <span m='472080'>a</span>
  <span m='472140'>RAM,</span> <span m='472500'>and</span> <span m='472590'>you've</span>
  <span m='472770'>got</span> <span m='472920'>to</span> <span m='473010'>be</span>
  <span m='473070'>able</span> <span m='473220'>to</span> <span m='473310'>index</span>
  <span m='473790'>your</span> <span m='473970'>data,</span> <span m='474990'>you</span>
  <span m='475080'>need</span> <span m='475260'>at</span> <span m='475350'>least</span>
  <span m='475620'>that</span> <span m='475800'>many</span> <span m='476010'>bits</span>
  <span m='476220'>just</span> <span m='476430'>to</span> <span m='476550'>be</span>
  <span m='476640'>able</span> <span m='476760'>to</span> <span m='476850'>talk</span>
  <span m='477150'>about</span> <span m='477390'>all</span> <span m='477540'>those</span>
  <span m='477780'>things.</span> <span m='478860'>And</span> <span m='478890'>so</span>
  <span m='479100'>the</span> <span m='479250'>claim</span> <span m='479670'>is,</span>
  <span m='479790'>basically,</span> <span m='481290'>machines</span> <span m='481680'>will</span>
  <span m='481830'>grow</span> <span m='482190'>to</span> <span m='482340'>accommodate</span>
  <span m='482850'>memory</span> <span m='483180'>size.</span> <span m='483980'>As</span>
  <span m='484140'>memory</span> <span m='484410'>size</span> <span m='484680'>grows,</span>
  <span m='485140'>you'll</span> <span m='485190'>need</span> <span m='485400'>more</span>
  <span m='485610'>bits.</span> </p><p><span m='486700'>Now,</span> <span m='486780'>in</span>
  <span m='486870'>reality,</span> <span m='487830'>there's</span> <span m='487980'>only</span>
  <span m='488760'>about</span> <span m='488970'>2</span> <span m='489220'>to</span>
  <span m='489340'>256--</span> <span m='491894'>what do</span> <span m='492300'>you</span>
  <span m='492390'>call</span> <span m='492570'>them--</span> <span m='492750'>particles</span>
  <span m='493320'>in</span> <span m='493440'>the</span> <span m='493530'>known</span>
  <span m='493710'>universe.</span> <span m='495250'>So</span> <span m='496170'>word</span>
  <span m='496380'>size</span> <span m='496620'>probably</span> <span m='496890'>won't</span>
  <span m='497010'>get</span> <span m='497220'>that</span> <span m='497370'>much</span>
  <span m='497550'>bigger.</span> <span m='498520'>Beyond</span> <span m='498690'>256</span>
  <span m='499290'>should</span> <span m='499410'>be</span> <span m='499590'>OK.</span>
  </p><p><span m='500440'>But</span> <span m='502260'>theoretically,</span> <span
  m='502800'>this</span> <span m='502980'>is</span> <span m='503100'>a</span> <span
  m='503160'>nice</span> <span m='503430'>way</span> <span m='503610'>to</span> <span
  m='503880'>formalize</span> <span m='504840'>this</span> <span m='504990'>claim</span>
  <span m='505380'>that</span> <span m='505500'>word</span> <span m='505650'>sizes</span>
  <span m='506040'>don't</span> <span m='506220'>need</span> <span m='506370'>to</span>
  <span m='506460'>get</span> <span m='506580'>too</span> <span m='506730'>big</span>
  <span m='507150'>unless</span> <span m='507450'>memories</span> <span m='507840'>get</span>
  <span m='508020'>gigantic.</span> <span m='509370'>So</span> <span m='509670'>it</span>
  <span m='509910'>may</span> <span m='510060'>seem</span> <span m='510270'>weird</span>
  <span m='510480'>at</span> <span m='510540'>first,</span> <span m='510840'>but</span>
  <span m='511020'>it's</span> <span m='511290'>very</span> <span m='511620'>natural.</span>
  <span m='512400'>And</span> <span m='512990'>all</span> <span m='513419'>real</span>
  <span m='513750'>world</span> <span m='514020'>machines</span> <span m='514530'>have</span>
  <span m='514830'>big</span> <span m='515010'>enough</span> <span m='515220'>words</span>
  <span m='515549'>to</span> <span m='515760'>accommodate</span> <span m='516270'>that.</span>
  </p><p><span m='516750'>Word</span> <span m='516900'>size</span> <span m='517110'>could</span>
  <span m='517260'>be</span> <span m='517380'>bigger,</span> <span m='517740'>and
  that</span> <span m='517890'>will</span> <span m='518010'>give</span> <span m='518159'>you,</span>
  <span m='518220'>essentially,</span> <span m='518580'>more</span> <span m='518789'>parallelism.</span>
  <span m='520320'>But</span> <span m='520949'>it</span> <span m='521340'>should</span>
  <span m='521520'>be</span> <span m='521610'>at</span> <span m='521669'>least</span>
  <span m='521850'>that</span> <span m='522030'>big.</span> <span m='522794'>All right.</span>
  <span m='523289'>Enough</span> <span m='525070'>proselytizing.</span> </p><p><span
  m='530410'>That's</span> <span m='530820'>the</span> <span m='530880'>transdichotomous</span>
  <span m='531700'>RAM.</span> <span m='532350'>The</span> <span m='532580'>end.</span>
  <span m='534060'>And</span> <span m='534480'>the</span> <span m='534630'>word</span>
  <span m='534840'>RAM</span> <span m='535080'>is</span> <span m='535200'>a</span>
  <span m='535260'>specific</span> <span m='535830'>version</span> <span m='536220'>of</span>
  <span m='536310'>the</span> <span m='536400'>transdichotomous</span> <span m='537210'>RAM,</span>
  <span m='543900'>where</span> <span m='544230'>you</span> <span m='544380'>restrict</span>
  <span m='544860'>the</span> <span m='544980'>operations</span> <span m='545730'>to</span>
  <span m='546270'>c-like</span> <span m='546750'>operations.</span> <span m='551610'>These</span>
  <span m='551820'>are</span> <span m='551910'>sort</span> <span m='552120'>of</span>
  <span m='552210'>the</span> <span m='552330'>standard--</span> <span m='553460'>they're</span>
  <span m='553710'>instructions</span> <span m='554310'>on,</span> <span m='554430'>basically,</span>
  <span m='554820'>all</span> <span m='554970'>computers,</span> <span m='556560'>except</span>
  <span m='557340'>a</span> <span m='557410'>few</span> <span m='557550'>risk</span>
  <span m='557820'>architectures</span> <span m='558390'>don't</span> <span m='558600'>have</span>
  <span m='558850'>multiplication</span> <span m='559470'>and</span> <span m='559590'>division.</span>
  <span m='561650'>But</span> <span m='562080'>everything</span> <span m='562440'>else</span>
  <span m='564240'>is</span> <span m='564800'>on</span> <span m='565110'>everything.</span>
  </p><p><span m='569350'>So</span> <span m='569460'>these</span> <span m='569730'>are</span>
  <span m='569790'>the</span> <span m='569970'>operators,</span> <span m='570660'>unless</span>
  <span m='570930'>I</span> <span m='571020'>missed</span> <span m='571260'>one,</span>
  <span m='571560'>in</span> <span m='572370'>c.</span> <span m='575200'>They're</span>
  <span m='575370'>all</span> <span m='575520'>in</span> <span m='575760'>Python,</span>
  <span m='576450'>and</span> <span m='577010'>pick</span> <span m='577210'>your--</span>
  <span m='577530'>most</span> <span m='577770'>languages.</span> <span m='578565'>You've</span>
  <span m='578820'>got</span> <span m='578970'>integer</span> <span m='579480'>arithmetic,</span>
  <span m='580920'>including</span> <span m='581370'>mod.</span> <span m='582696'>You've</span>
  <span m='583140'>got</span> <span m='583590'>bitwise</span> <span m='584040'>and,</span>
  <span m='584430'>bitwise</span> <span m='584850'>or,</span> <span m='585560'>bitwise</span>
  <span m='586020'>x</span> <span m='586230'>or,</span> <span m='586860'>bitwise</span>
  <span m='587160'>negation,</span> <span m='588390'>and</span> <span m='588600'>shift</span>
  <span m='588840'>left,</span> <span m='589080'>and</span> <span m='589170'>shift</span>
  <span m='589380'>right.</span> </p><p><span m='590730'>These</span> <span m='591180'>we</span>
  <span m='591330'>all</span> <span m='591510'>view</span> <span m='591720'>as</span>
  <span m='591840'>taking</span> <span m='592110'>constant</span> <span m='592470'>time.</span>
  <span m='593400'>They</span> <span m='593520'>take</span> <span m='595410'>one</span>
  <span m='595890'>or</span> <span m='596070'>two</span> <span m='597330'>integer</span>
  <span m='597810'>inputs--</span> <span m='598200'>words</span> <span m='598620'>as</span>
  <span m='598740'>inputs.</span> <span m='599700'>They</span> <span m='599910'>can</span>
  <span m='600300'>compute</span> <span m='600660'>an</span> <span m='600720'>answer.</span>
  <span m='601120'>They</span> <span m='601290'>write</span> <span m='601560'>out</span>
  <span m='602160'>another</span> <span m='602520'>word.</span> <span m='603150'>Of</span>
  <span m='603210'>course,</span> <span m='603910'>there's</span> <span m='603990'>also</span>
  <span m='604230'>random</span> <span m='604560'>access--</span> <span m='605010'>array</span>
  <span m='605310'>dereference,</span> <span m='605870'>I</span> <span m='605970'>guess.</span>
  </p><p><span m='610980'>So</span> <span m='611130'>that's</span> <span m='611360'>the</span>
  <span m='611430'>word</span> <span m='611630'>RAM.</span> <span m='612110'>You</span>
  <span m='612180'>restrict</span> <span m='612510'>to</span> <span m='612600'>these</span>
  <span m='612780'>operations.</span> <span m='613260'>Whereas</span> <span m='613660'>transdichotomous</span>
  <span m='614180'>RAM,</span> <span m='614370'>you</span> <span m='614460'>can</span>
  <span m='614580'>do</span> <span m='614730'>weird</span> <span m='615030'>things,</span>
  <span m='615390'>as</span> <span m='615510'>long</span> <span m='615690'>as</span>
  <span m='615780'>they</span> <span m='615900'>only</span> <span m='616080'>involve</span>
  <span m='616350'>a</span> <span m='616380'>constant</span> <span m='616680'>number</span>
  <span m='616890'>of</span> <span m='616980'>words.</span> <span m='618030'>Word</span>
  <span m='618240'>RAM--</span> <span m='619110'>it's</span> <span m='619230'>the</span>
  <span m='619290'>regular</span> <span m='619650'>thing.</span> <span m='619890'>So</span>
  <span m='620040'>this</span> <span m='620250'>is</span> <span m='620340'>basically</span>
  <span m='621450'>the</span> <span m='621570'>standard</span> <span m='622020'>model</span>
  <span m='622800'>that</span> <span m='622980'>all</span> <span m='623250'>integer</span>
  <span m='623640'>data</span> <span m='623880'>structures</span> <span m='624300'>use,</span>
  <span m='624510'>pretty</span> <span m='624780'>much.</span> </p><p><span m='625350'>If</span>
  <span m='625440'>they</span> <span m='625530'>don't</span> <span m='625740'>use</span>
  <span m='625920'>this</span> <span m='626070'>model,</span> <span m='626310'>they</span>
  <span m='626460'>have</span> <span m='626610'>to</span> <span m='626700'>say</span>
  <span m='626910'>so.</span> <span m='628200'>Otherwise</span> <span m='628710'>this</span>
  <span m='629070'>model</span> <span m='629370'>has</span> <span m='629520'>become</span>
  <span m='629880'>accepted</span> <span m='630360'>as</span> <span m='631080'>the</span>
  <span m='631170'>normal</span> <span m='631440'>one.</span> <span m='631590'>It</span>
  <span m='631680'>took</span> <span m='631920'>several</span> <span m='632220'>years</span>
  <span m='632460'>before</span> <span m='633150'>people</span> <span m='633450'>realized</span>
  <span m='633930'>that's</span> <span m='634170'>a</span> <span m='634230'>good</span>
  <span m='634440'>model--</span> <span m='634860'>good</span> <span m='634980'>enough</span>
  <span m='635250'>to</span> <span m='636000'>capture</span> <span m='636360'>pretty</span>
  <span m='636540'>much</span> <span m='636720'>everything</span> <span m='637050'>we</span>
  <span m='637170'>want.</span> </p><p><span m='639300'>The</span> <span m='639420'>cool</span>
  <span m='639600'>thing</span> <span m='639780'>about</span> <span m='639990'>word</span>
  <span m='640170'>RAM</span> <span m='641100'>is,</span> <span m='641280'>it</span>
  <span m='641370'>lets</span> <span m='641610'>you</span> <span m='641730'>do</span>
  <span m='641910'>things</span> <span m='642330'>on</span> <span m='642580'>w-bits</span>
  <span m='643350'>in</span> <span m='643500'>parallel.</span> <span m='643980'>You</span>
  <span m='644100'>can</span> <span m='644370'>take</span> <span m='644580'>the</span>
  <span m='644710'>and</span> <span m='645000'>of</span> <span m='645090'>w-bits,</span>
  <span m='645930'>pairwise,</span> <span m='646860'>all</span> <span m='647040'>at</span>
  <span m='647130'>once.</span> <span m='647920'>So</span> <span m='648060'>you</span>
  <span m='648210'>get</span> <span m='648360'>some</span> <span m='649000'>speed</span>
  <span m='649330'>up.</span> <span m='649980'>But</span> <span m='650100'>it's</span>
  <span m='650250'>a</span> <span m='650310'>natural</span> <span m='650670'>generalization</span>
  <span m='651270'>of</span> <span m='651330'>something</span> <span m='651600'>like</span>
  <span m='651750'>the</span> <span m='651870'>comparison</span> <span m='652410'>model.</span>
  </p><p><span m='652680'>Comparison</span> <span m='653160'>model--</span> <span
  m='653940'>I</span> <span m='654000'>guess</span> <span m='654180'>I</span> <span
  m='654230'>didn't</span> <span m='654380'>write</span> <span m='654570'>those.</span>
  <span m='655215'>It's</span> <span m='655470'>more</span> <span m='655680'>operations--</span>
  <span m='656220'>less</span> <span m='656520'>than,</span> <span m='656820'>greater</span>
  <span m='657090'>than,</span> <span m='657270'>and</span> <span m='657360'>so</span>
  <span m='657450'>on.</span> <span m='659040'>You</span> <span m='659190'>can</span>
  <span m='659370'>compare</span> <span m='660030'>two</span> <span m='660210'>numbers</span>
  <span m='660570'>in</span> <span m='660690'>constant</span> <span m='661050'>time,</span>
  <span m='661290'>get</span> <span m='661440'>a</span> <span m='661470'>Boolean</span>
  <span m='661860'>output</span> <span m='662520'>via,</span> <span m='662820'>say,</span>
  <span m='663030'>subtraction,</span> <span m='663900'>and</span> <span m='664200'>computing</span>
  <span m='664620'>the</span> <span m='664750'>sine.</span> <span m='669000'>And</span>
  <span m='669450'>you</span> <span m='669660'>think</span> <span m='669840'>of</span>
  <span m='669930'>comparisons as</span> <span m='670380'>taking</span> <span m='670620'>constant</span>
  <span m='670950'>time,</span> <span m='671230'>so</span> <span m='671310'>why</span>
  <span m='671520'>not</span> <span m='671700'>all</span> <span m='671880'>of</span>
  <span m='671970'>these</span> <span m='672150'>things?</span> <span m='674850'>Cool.</span>
  </p><p><span m='675930'>One</span> <span m='676170'>more</span> <span m='676380'>model--</span>
  <span m='678110'>this is</span> <span m='678360'>kind</span> <span m='678600'>of</span>
  <span m='678690'>a</span> <span m='678750'>weird</span> <span m='679020'>one.</span>
  <span m='681710'>It's</span> <span m='681870'>called</span> <span m='682240'>cell</span>
  <span m='682600'>probe</span> <span m='682890'>model,</span> <span m='685650'>which</span>
  <span m='685920'>is,</span> <span m='687200'>we</span> <span m='687420'>just</span>
  <span m='687840'>count</span> <span m='690060'>the</span> <span m='690180'>number</span>
  <span m='690600'>of</span> <span m='691050'>memory</span> <span m='691440'>reads</span>
  <span m='691680'>and</span> <span m='691800'>writes</span> <span m='694810'>that</span>
  <span m='695040'>we</span> <span m='695160'>need</span> <span m='696000'>to</span>
  <span m='696120'>do</span> <span m='701430'>to</span> <span m='701640'>solve</span>
  <span m='702000'>a</span> <span m='702060'>data</span> <span m='702270'>structure
  or</span> <span m='702640'>a</span> <span m='702690'>query.</span> <span m='703080'>Like,</span>
  <span m='703290'>you</span> <span m='703590'>you're</span> <span m='703740'>looking</span>
  <span m='703990'>at</span> <span m='704070'>predecessor,</span> <span m='705030'>and</span>
  <span m='705220'>you</span> <span m='705300'>just</span> <span m='705480'>want</span>
  <span m='705660'>to</span> <span m='705720'>know,</span> <span m='705840'>how</span>
  <span m='706110'>much</span> <span m='706440'>of</span> <span m='706650'>the</span>
  <span m='706770'>data</span> <span m='706950'>structure</span> <span m='707280'>do
  I</span> <span m='707410'>have</span> <span m='707610'>to</span> <span m='707700'>read</span>
  <span m='707910'>in</span> <span m='708240'>order</span> <span m='708390'>to</span>
  <span m='708480'>be</span> <span m='708630'>able</span> <span m='708780'>to</span>
  <span m='708900'>answer</span> <span m='709710'>the</span> <span m='709830'>predecessor</span>
  <span m='710370'>problem?</span> <span m='710770'>How</span> <span m='710790'>much</span>
  <span m='711030'>do</span> <span m='711090'>I</span> <span m='711120'>have</span>
  <span m='711240'>to</span> <span m='711330'>write</span> <span m='711570'>out</span>
  <span m='711810'>to</span> <span m='711960'>do</span> <span m='712230'>an</span>
  <span m='712350'>insertion,</span> <span m='712725'>or whatever?</span> </p><p><span
  m='715140'>And</span> <span m='715980'>so</span> <span m='716280'>in</span> <span
  m='716460'>this</span> <span m='716610'>model,</span> <span m='716970'>computation</span>
  <span m='717570'>is</span> <span m='717690'>free.</span> <span m='720480'>And</span>
  <span m='720750'>this</span> <span m='720960'>is</span> <span m='721080'>kind</span>
  <span m='721530'>of</span> <span m='721650'>like</span> <span m='722070'>the</span>
  <span m='723870'>external</span> <span m='724290'>memory</span> <span m='724620'>model,</span>
  <span m='724950'>and</span> <span m='725040'>the</span> <span m='725130'>cache</span>
  <span m='725350'>oblivious</span> <span m='725750'>models.</span> <span m='726180'>There,</span>
  <span m='726380'>we were</span> <span m='726750'>measuring</span> <span m='727110'>how</span>
  <span m='727230'>many</span> <span m='727410'>block</span> <span m='727830'>reads</span>
  <span m='728070'>and</span> <span m='728190'>writes</span> <span m='728430'>there</span>
  <span m='728580'>are.</span> <span m='728780'>Here,</span> <span m='729150'>our</span>
  <span m='729180'>blocks</span> <span m='729720'>are</span> <span m='730050'>actually</span>
  <span m='730410'>our</span> <span m='730530'>words.</span> <span m='731160'>So</span>
  <span m='731340'>there</span> <span m='731490'>is</span> <span m='731670'>a</span>
  <span m='731760'>bit</span> <span m='731910'>of</span> <span m='732030'>a</span>
  <span m='732090'>relation,</span> <span m='732480'>except</span> <span m='732690'>there's</span>
  <span m='732840'>no</span> <span m='733740'>real--</span> <span m='734520'>you</span>
  <span m='734670'>can</span> <span m='734790'>either</span> <span m='735000'>think</span>
  <span m='735180'>of</span> <span m='735270'>there</span> <span m='735480'>being</span>
  <span m='735660'>no</span> <span m='735840'>cache</span> <span m='736230'>here,</span>
  <span m='736500'>because</span> <span m='736650'>you're</span> <span m='736740'>just</span>
  <span m='736890'>reading</span> <span m='737130'>in</span> <span m='737220'>a</span>
  <span m='737280'>constant</span> <span m='737550'>number</span> <span m='737750'>of</span>
  <span m='737790'>words,</span> <span m='738030'>doing</span> <span m='738270'>something,</span>
  <span m='738660'>spitting</span> <span m='738990'>stuff</span> <span m='739290'>out.</span>
  </p><p><span m='740220'>Or</span> <span m='740580'>in</span> <span m='740700'>the</span>
  <span m='740790'>cell</span> <span m='740950'>probe</span> <span m='741080'>model,</span>
  <span m='741360'>you</span> <span m='741450'>could</span> <span m='741570'>imagine</span>
  <span m='741870'>there</span> <span m='741990'>being</span> <span m='742170'>an</span>
  <span m='742290'>infinite</span> <span m='742740'>cache</span> <span m='743070'>for</span>
  <span m='743310'>this</span> <span m='743490'>operation,</span> <span m='744630'>but</span>
  <span m='744810'>no</span> <span m='744990'>cache</span> <span m='745290'>from</span>
  <span m='745530'>operation</span> <span m='745950'>to</span> <span m='746010'>operation.</span>
  <span m='746530'>It's</span> <span m='746610'>just,</span> <span m='747090'>how</span>
  <span m='747270'>much</span> <span m='747480'>do</span> <span m='747570'>I</span>
  <span m='747630'>have</span> <span m='747780'>to</span> <span m='747900'>[INAUDIBLE]</span>
  <span m='748230'>information,</span> <span m='748740'>theoretically,</span> <span
  m='749250'>to</span> <span m='749340'>solve</span> <span m='749610'>a</span> <span
  m='749670'>particular</span> <span m='750090'>predecessor</span> <span m='750600'>problem?</span>
  <span m='751190'>We'll</span> <span m='751320'>deal</span> <span m='751530'>with</span>
  <span m='751680'>this</span> <span m='751830'>a</span> <span m='751860'>lot</span>
  <span m='752220'>in</span> <span m='752660'>a</span> <span m='752700'>couple</span>
  <span m='753060'>of</span> <span m='753150'>lectures--</span> <span m='753630'>not</span>
  <span m='754290'>quite</span> <span m='754500'>yet.</span> </p><p><span m='755230'>This</span>
  <span m='755340'>model</span> <span m='755580'>is</span> <span m='755700'>just</span>
  <span m='756030'>used</span> <span m='756330'>for</span> <span m='756450'>lower</span>
  <span m='756690'>bounds.</span> <span m='758200'>It's</span> <span m='758220'>not</span>
  <span m='758370'>a</span> <span m='758430'>realistic</span> <span m='758940'>model,</span>
  <span m='759930'>because</span> <span m='760080'>you</span> <span m='760140'>have</span>
  <span m='760230'>to</span> <span m='760350'>pay</span> <span m='760560'>for</span>
  <span m='760680'>computation</span> <span m='761430'>in</span> <span m='761940'>the</span>
  <span m='762000'>real</span> <span m='762210'>world.</span> <span m='763920'>But</span>
  <span m='764100'>if</span> <span m='764220'>you</span> <span m='764340'>can</span>
  <span m='764460'>prove</span> <span m='764760'>that</span> <span m='764880'>you</span>
  <span m='765000'>need</span> <span m='765210'>to</span> <span m='765360'>read</span>
  <span m='765870'>at</span> <span m='765930'>least</span> <span m='766170'>a</span>
  <span m='766230'>certain</span> <span m='766470'>number</span> <span m='766770'>of</span>
  <span m='766860'>words,</span> <span m='767310'>then,</span> <span m='767520'>of</span>
  <span m='767640'>course,</span> <span m='767850'>you</span> <span m='767970'>have</span>
  <span m='768180'>to</span> <span m='768300'>do</span> <span m='768690'>at</span>
  <span m='768780'>least</span> <span m='768990'>that</span> <span m='769140'>many</span>
  <span m='769380'>operations.</span> <span m='770920'>So</span> <span m='771060'>it's</span>
  <span m='771270'>nice</span> <span m='771480'>for</span> <span m='771600'>lower</span>
  <span m='771810'>bounds.</span> </p><p><span m='772590'>In</span> <span m='772710'>general,</span>
  <span m='773520'>we</span> <span m='773670'>have</span> <span m='775140'>this</span>
  <span m='775240'>sort</span> <span m='775440'>of</span> <span m='775530'>hierarchy</span>
  <span m='775980'>of</span> <span m='776070'>models,</span> <span m='778020'>where</span>
  <span m='778290'>this</span> <span m='778590'>is</span> <span m='778800'>the</span>
  <span m='780090'>most</span> <span m='780330'>powerful,</span> <span m='781180'>strongest,</span>
  <span m='783390'>and</span> <span m='783720'>below</span> <span m='784360'>cell
  probe,</span> <span m='785040'>we</span> <span m='785190'>have</span> <span m='786930'>transdichotomous</span>
  <span m='787650'>RAM,</span> <span m='793920'>then</span> <span m='794160'>word</span>
  <span m='794400'>RAM,</span> <span m='798510'>then--</span> <span m='798720'>just</span>
  <span m='798900'>to</span> <span m='798990'>fit</span> <span m='799200'>it</span>
  <span m='799320'>in</span> <span m='799530'>context,</span> <span m='800100'>what</span>
  <span m='800250'>we've</span> <span m='800370'>been</span> <span m='800490'>doing--</span>
  <span m='801330'>below</span> <span m='801570'>that</span> <span m='802010'>is pointer</span>
  <span m='802320'>machine,</span> <span m='804950'>and</span> <span m='805110'>below</span>
  <span m='805380'>that</span> <span m='805620'>would</span> <span m='805740'>be</span>
  <span m='806010'>binary</span> <span m='806310'>search</span> <span m='806610'>tree.</span>
  <span m='806820'>I've</span> <span m='807120'>mentioned</span> <span m='807420'>before,</span>
  <span m='807780'>pointer</span> <span m='808040'>machines are</span> <span m='808360'>more</span>
  <span m='808530'>powerful</span> <span m='808920'>than</span> <span m='809040'>binary</span>
  <span m='809310'>search</span> <span m='809550'>tree.</span> <span m='810240'>And</span>
  <span m='810600'>of</span> <span m='810720'>course,</span> <span m='810930'>we</span>
  <span m='811050'>can</span> <span m='811170'>implement</span> <span m='811460'>a</span>
  <span m='811530'>pointer</span> <span m='811770'>machine</span> <span m='812070'>on</span>
  <span m='812190'>a</span> <span m='812220'>word</span> <span m='812430'>RAM.</span>
  </p><p><span m='812910'>So</span> <span m='813720'>we</span> <span m='813810'>have</span>
  <span m='813990'>these</span> <span m='814140'>relations.</span> <span m='815530'>There</span>
  <span m='815580'>are,</span> <span m='815740'>of</span> <span m='815790'>course,</span>
  <span m='816100'>other</span> <span m='816150'>models.</span> <span m='816570'>But</span>
  <span m='816720'>this</span> <span m='816900'>is</span> <span m='817050'>a</span>
  <span m='817110'>quick</span> <span m='817350'>picture</span> <span m='817770'>of</span>
  <span m='818400'>models</span> <span m='818700'>we've</span> <span m='818820'>seen</span>
  <span m='819000'>so</span> <span m='819180'>far.</span> </p><p><span m='827140'>So</span>
  <span m='827530'>now,</span> <span m='827830'>we</span> <span m='827980'>have</span>
  <span m='828130'>this</span> <span m='828310'>notion</span> <span m='828580'>of</span>
  <span m='828670'>a</span> <span m='828730'>word.</span> <span m='830330'>In</span>
  <span m='830860'>the</span> <span m='830980'>predecessor</span> <span m='831490'>problem,</span>
  <span m='832570'>these</span> <span m='833050'>elements</span> <span m='834040'>are</span>
  <span m='834190'>words.</span> <span m='837090'>They're</span> <span m='837220'>w-bit</span>
  <span m='837760'>integers,</span> <span m='839260'>universe-defined.</span> <span
  m='840700'>And</span> <span m='840910'>we</span> <span m='840970'>want</span> <span
  m='841120'>to</span> <span m='841180'>be</span> <span m='841240'>able</span> <span
  m='841360'>to</span> <span m='841450'>insert,</span> <span m='841880'>delete,</span>
  <span m='842050'>predecessor,</span> <span m='842560'>and</span> <span m='842650'>successor</span>
  <span m='843130'>over</span> <span m='843430'>words.</span> <span m='844756'>So</span>
  <span m='845210'>that's</span> <span m='846130'>our</span> <span m='846550'>challenge.</span>
  </p><p><span m='852910'>In</span> <span m='853210'>the</span> <span m='853300'>binary</span>
  <span m='853690'>search</span> <span m='853990'>tree</span> <span m='854140'>model,</span>
  <span m='854440'>we</span> <span m='854590'>know</span> <span m='854740'>the</span>
  <span m='854860'>answer</span> <span m='855100'>to</span> <span m='855190'>this</span>
  <span m='855340'>problem</span> <span m='855670'>is</span> <span m='855790'>theta</span>
  <span m='856090'>log</span> <span m='856270'>n.</span> <span m='856690'>In</span>
  <span m='856870'>general,</span> <span m='857200'>any</span> <span m='857950'>comparison-based</span>
  <span m='858670'>data</span> <span m='858880'>structure,</span> <span m='859690'>you</span>
  <span m='859780'>need</span> <span m='859930'>theta</span> <span m='860330'>log
  n,</span> <span m='861042'>in</span> <span m='861400'>the</span> <span m='861490'>worst</span>
  <span m='861670'>case.</span> <span m='862310'>It's</span> <span m='862590'>an</span>
  <span m='862810'>easy</span> <span m='862900'>lower</span> <span m='863140'>bound.</span>
  </p><p><span m='864710'>But</span> <span m='864760'>we're</span> <span m='864910'>going</span>
  <span m='865010'>to</span> <span m='865090'>do</span> <span m='865240'>better</span>
  <span m='866530'>on</span> <span m='867130'>these</span> <span m='867310'>other</span>
  <span m='867520'>models</span> <span m='867850'>in</span> <span m='867940'>the</span>
  <span m='868030'>word</span> <span m='868240'>RAM.</span> <span m='870040'>So</span>
  <span m='870310'>here</span> <span m='870940'>are</span> <span m='870970'>some</span>
  <span m='871180'>results.</span> <span m='878440'>First</span> <span m='878710'>data</span>
  <span m='878950'>structure</span> <span m='879340'>is</span> <span m='879490'>called</span>
  <span m='879790'>Van</span> <span m='879990'>Emde</span> <span m='880210'>Boas.</span>
  <span m='880840'>You</span> <span m='880900'>might</span> <span m='881050'>guess</span>
  <span m='881380'>it</span> <span m='881500'>is</span> <span m='881620'>by</span>
  <span m='882010'>van</span> <span m='882350'>Emde</span> <span m='882450'>Boas--</span>
  <span m='882950'>Peter.</span> <span m='885160'>It</span> <span m='885400'>actually</span>
  <span m='885820'>has</span> <span m='885970'>a</span> <span m='886030'>couple</span>
  <span m='886330'>other</span> <span m='886540'>authors</span> <span m='886900'>in</span>
  <span m='886990'>some</span> <span m='887230'>versions</span> <span m='887500'>of</span>
  <span m='887560'>the</span> <span m='887680'>papers,</span> <span m='888330'>which</span>
  <span m='888500'>makes</span> <span m='888670'>a</span> <span m='888700'>little</span>
  <span m='888910'>bit</span> <span m='889030'>confusing.</span> <span m='889570'>But</span>
  <span m='889770'>for</span> <span m='889900'>whatever</span> <span m='890260'>reason,</span>
  <span m='890620'>the</span> <span m='890710'>data</span> <span m='890920'>structure</span>
  <span m='891270'>is</span> <span m='892030'>just</span> <span m='892240'>named</span>
  <span m='893080'>Van</span> <span m='893230'>Emde</span> <span m='893545'>Boas.</span>
  </p><p><span m='894340'>And</span> <span m='894640'>it</span> <span m='894820'>achieves</span>
  <span m='901900'>log</span> <span m='902470'>w</span> <span m='902920'>per</span>
  <span m='903130'>operation.</span> <span m='903770'>I</span> <span m='903870'>think</span>
  <span m='903940'>I'll</span> <span m='904030'>rewrite</span> <span m='904450'>this.</span>
  <span m='905350'>This is</span> <span m='905500'>log</span> <span m='906220'>log</span>
  <span m='907120'>u</span> <span m='907960'>per</span> <span m='908170'>operation.</span>
  <span m='909490'>But</span> <span m='909640'>it</span> <span m='909700'>requires</span>
  <span m='910330'>u</span> <span m='910720'>space.</span> <span m='912250'>So</span>
  <span m='912790'>think</span> <span m='913060'>of</span> <span m='913180'>u</span>
  <span m='913350'>space</span> <span m='913750'>as</span> <span m='913840'>being,</span>
  <span m='914170'>like,</span> <span m='914770'>for</span> <span m='915160'>every</span>
  <span m='916060'>item</span> <span m='916330'>in</span> <span m='916420'>the</span>
  <span m='916480'>universe</span> <span m='916900'>I</span> <span m='916990'>store,</span>
  <span m='917410'>yes</span> <span m='917650'>or</span> <span m='917710'>no,</span>
  <span m='918080'>is</span> <span m='918160'>it</span> <span m='918250'>in</span>
  <span m='918430'>the</span> <span m='918520'>set?</span> </p><p><span m='919360'>So</span>
  <span m='919470'>that's</span> <span m='919600'>a</span> <span m='919660'>lot</span>
  <span m='919840'>of</span> <span m='919900'>space,</span> <span m='921130'>unless</span>
  <span m='921510'>n</span> <span m='921980'>and</span> <span m='922450'>u</span>
  <span m='922630'>are</span> <span m='922720'>not</span> <span m='922930'>too</span>
  <span m='923110'>different.</span> <span m='924700'>But</span> <span m='924940'>we</span>
  <span m='925090'>can</span> <span m='925240'>do</span> <span m='925360'>better.</span>
  <span m='927310'>But</span> <span m='927610'>the</span> <span m='927730'>cool</span>
  <span m='927940'>thing</span> <span m='928120'>is</span> <span m='928210'>the</span>
  <span m='928300'>running</span> <span m='928600'>time.</span> <span m='929020'>This</span>
  <span m='929200'>is</span> <span m='929290'>really</span> <span m='929530'>fast--</span>
  <span m='930970'>log</span> <span m='931420'>log</span> <span m='931790'>u.</span>
  </p><p><span m='933040'>If</span> <span m='933220'>you</span> <span m='933310'>think</span>
  <span m='933490'>about,</span> <span m='933860'>for</span> <span m='933880'>example--</span>
  <span m='935110'>I</span> <span m='935200'>don't</span> <span m='935320'>know--</span>
  <span m='935500'>the universe</span> <span m='936040'>being</span> <span m='938620'>polynomial</span>
  <span m='939160'>in</span> <span m='939300'>n,</span> <span m='940660'>or</span>
  <span m='940810'>even</span> <span m='941080'>if</span> <span m='941230'>the</span>
  <span m='941320'>universe</span> <span m='941770'>is</span> <span m='941860'>something</span>
  <span m='942190'>like--</span> <span m='943300'>polynomial</span> <span m='943575'>in</span>
  <span m='943850'>n</span> <span m='944020'>is</span> <span m='944140'>the</span>
  <span m='944200'>same</span> <span m='944470'>as</span> <span m='944890'>this--</span>
  <span m='945460'>2 to</span> <span m='945640'>the</span> <span m='945760'>c</span>
  <span m='945940'>log</span> <span m='946210'>n.</span> <span m='946960'>You</span>
  <span m='947110'>can</span> <span m='947230'>go</span> <span m='947380'>crazy</span>
  <span m='947800'>and</span> <span m='947890'>say</span> <span m='948130'>log</span>
  <span m='948520'>to</span> <span m='948680'>the</span> <span m='948810'>c</span>
  <span m='949030'>power--</span> <span m='949650'>so,</span> <span m='949980'>like,</span>
  <span m='950190'>2 to</span> <span m='950310'>the</span> <span m='950390'>log</span>
  <span m='950680'>to</span> <span m='950800'>the</span> <span m='950920'>fifth</span>
  <span m='951190'>power.</span> <span m='952100'>All</span> <span m='952150'>those</span>
  <span m='952330'>things,</span> <span m='952600'>you</span> <span m='952690'>take</span>
  <span m='952930'>log</span> <span m='953200'>twice.</span> <span m='955540'>Then</span>
  <span m='955870'>log</span> <span m='956170'>log</span> <span m='956410'>u</span>
  <span m='957840'>becomes</span> <span m='958630'>theta</span> <span m='959770'>log</span>
  <span m='959980'>log</span> <span m='960160'>n.</span> </p><p><span m='962590'>So</span>
  <span m='963640'>as</span> <span m='963790'>long</span> <span m='964000'>as</span>
  <span m='964090'>your</span> <span m='964540'>word</span> <span m='964810'>size</span>
  <span m='965260'>is</span> <span m='965350'>not</span> <span m='970900'>insanely</span>
  <span m='971230'>large,</span> <span m='971545'>you're</span> <span m='971860'>getting</span>
  <span m='972100'>log</span> <span m='972310'>log</span> <span m='972490'>n</span>
  <span m='972600'>performance.</span> <span m='973640'>So</span> <span m='973690'>in</span>
  <span m='973780'>general,</span> <span m='974210'>when,</span> <span m='975330'>let's
  say,</span> <span m='975630'>w</span> <span m='976810'>is</span> <span m='978790'>is</span>
  <span m='979120'>polylog</span> <span m='979990'>n,</span> <span m='983700'>then</span>
  <span m='984160'>we're</span> <span m='984280'>getting</span> <span m='984550'>this</span>
  <span m='984700'>kind</span> <span m='984850'>of</span> <span m='984940'>performance.</span>
  <span m='986150'>And</span> <span m='986170'>I</span> <span m='986230'>think on</span>
  <span m='986470'>most</span> <span m='986710'>computers,</span> <span m='987220'>w</span>
  <span m='987610'>is</span> <span m='987730'>polylogarithmic.</span> </p><p><span
  m='988540'>We</span> <span m='988600'>said</span> <span m='988750'>it</span> <span
  m='988810'>has</span> <span m='988960'>to</span> <span m='989050'>be</span> <span
  m='989140'>at</span> <span m='989200'>least</span> <span m='989500'>log.</span>
  <span m='990490'>It's</span> <span m='990580'>also,</span> <span m='990850'>generally,</span>
  <span m='991180'>not</span> <span m='991390'>so</span> <span m='991690'>much</span>
  <span m='991900'>bigger</span> <span m='992170'>than</span> <span m='992320'>log.</span>
  <span m='992670'>So log</span> <span m='992940'>squared</span> <span m='993210'>is</span>
  <span m='993430'>probably</span> <span m='994310'>fine</span> <span m='994870'>most</span>
  <span m='995140'>of</span> <span m='995200'>the</span> <span m='995350'>time,</span>
  <span m='995590'>unless</span> <span m='995680'>you</span> <span m='995760'>have</span>
  <span m='995860'>a</span> <span m='995920'>really</span> <span m='996220'>small</span>
  <span m='997810'>problem.</span> <span m='999680'>OK,</span> <span m='1000180'>so</span>
  <span m='1000420'>cool.</span> </p><p><span m='1000680'>But</span> <span m='1000840'>the</span>
  <span m='1000930'>space</span> <span m='1001230'>is</span> <span m='1001350'>giant.</span>
  <span m='1001770'>So</span> <span m='1001950'>how</span> <span m='1002070'>do</span>
  <span m='1002160'>we</span> <span m='1002280'>do</span> <span m='1002400'>better</span>
  <span m='1002640'>than</span> <span m='1002760'>that?</span> <span m='1003480'>Well,</span>
  <span m='1005100'>there's</span> <span m='1005310'>a</span> <span m='1005370'>couple</span>
  <span m='1005660'>of</span> <span m='1005710'>answers.</span> <span m='1006700'>One</span>
  <span m='1006810'>is</span> <span m='1006960'>that</span> <span m='1007110'>you</span>
  <span m='1007260'>can</span> <span m='1007410'>achieve</span> <span m='1011610'>log</span>
  <span m='1011970'>w</span> <span m='1012510'>with</span> <span m='1012690'>high</span>
  <span m='1012870'>probability,</span> <span m='1014640'>and</span> <span m='1015510'>order</span>
  <span m='1015810'>n</span> <span m='1016020'>space.</span> <span m='1018660'>With</span>
  <span m='1018840'>a</span> <span m='1018960'>slight</span> <span m='1019380'>tweak,</span>
  <span m='1019860'>basically,</span> <span m='1020160'>you</span> <span m='1020280'>combine</span>
  <span m='1021230'>Van</span> <span m='1021390'>Emde</span> <span m='1021590'>Boas</span>
  <span m='1021930'>plus</span> <span m='1022860'>hashing,</span> <span m='1024270'>and</span>
  <span m='1024450'>you</span> <span m='1024569'>get</span> <span m='1024730'>that.</span>
  </p><p><span m='1025876'>I</span> <span m='1026319'>don't</span> <span m='1026550'>actually</span>
  <span m='1026880'>know</span> <span m='1027030'>what</span> <span m='1027150'>the</span>
  <span m='1027240'>reference</span> <span m='1027495'>is</span> <span m='1027750'>for</span>
  <span m='1027869'>this</span> <span m='1028050'>result.</span> <span m='1028800'>It's</span>
  <span m='1028950'>been</span> <span m='1029099'>an</span> <span m='1029190'>exercise</span>
  <span m='1029970'>in</span> <span m='1030270'>various</span> <span m='1030630'>courses,</span>
  <span m='1031260'>and</span> <span m='1032010'>so</span> <span m='1032220'>on.</span>
  <span m='1034349'>I</span> <span m='1034470'>can</span> <span m='1034650'>talk</span>
  <span m='1034859'>more</span> <span m='1034980'>about</span> <span m='1035130'>that</span>
  <span m='1035280'>later.</span> </p><p><span m='1036520'>Then</span> <span m='1036750'>alternatively,</span>
  <span m='1037589'>there's</span> <span m='1037740'>another</span> <span m='1038040'>data</span>
  <span m='1038220'>structure,</span> <span m='1038609'>which,</span> <span m='1038819'>in</span>
  <span m='1038910'>many</span> <span m='1039089'>ways,</span> <span m='1039300'>is</span>
  <span m='1039420'>simpler.</span> <span m='1040740'>It</span> <span m='1040859'>really</span>
  <span m='1041160'>embraces</span> <span m='1041640'>hashing.</span> <span m='1042240'>It's</span>
  <span m='1042359'>called</span> <span m='1042680'>y-fast</span> <span m='1043200'>trees.</span>
  <span m='1043980'>It</span> <span m='1044130'>achieves</span> <span m='1044400'>the</span>
  <span m='1044460'>same</span> <span m='1044849'>bounds--</span> <span m='1045280'>so</span>
  <span m='1045700'>log</span> <span m='1046050'>w</span> <span m='1046904'>with</span>
  <span m='1047190'>high</span> <span m='1047339'>probability</span> <span m='1048840'>and</span>
  <span m='1049020'>linear</span> <span m='1049320'>space.</span> <span m='1049710'>It's</span>
  <span m='1049830'>basically</span> <span m='1050280'>just</span> <span m='1050790'>a</span>
  <span m='1050850'>hash</span> <span m='1051090'>table</span> <span m='1052590'>with</span>
  <span m='1052740'>some</span> <span m='1052890'>cleverness.</span> </p><p><span
  m='1053430'>So we'll</span> <span m='1053580'>get</span> <span m='1053760'>there.</span>
  <span m='1054240'>Even</span> <span m='1054480'>though</span> <span m='1054590'>it's
  simpler,</span> <span m='1055020'>we're</span> <span m='1055110'>going</span> <span
  m='1055230'>to</span> <span m='1055290'>start</span> <span m='1055560'>with</span>
  <span m='1055710'>this</span> <span m='1055950'>structure.</span> <span m='1058020'>Historically,</span>
  <span m='1058590'>this</span> <span m='1058770'>is</span> <span m='1058860'>the</span>
  <span m='1058980'>way</span> <span m='1059070'>it</span> <span m='1059160'>happened--</span>
  <span m='1060210'>Van</span> <span m='1060430'>Emde</span> <span m='1060540'>Boas,</span>
  <span m='1060930'>then</span> <span m='1061110'>y-fast</span> <span m='1061420'>trees,</span>
  <span m='1061890'>which are by</span> <span m='1062070'>Willard.</span> <span m='1063735'>And</span>
  <span m='1064150'>it'll</span> <span m='1064390'>be</span> <span m='1064620'>kind</span>
  <span m='1064800'>of</span> <span m='1064920'>a</span> <span m='1064950'>nice</span>
  <span m='1065190'>finale.</span> </p><p><span m='1069750'>There's</span> <span m='1069870'>another</span>
  <span m='1070140'>data</span> <span m='1070320'>structure</span> <span m='1070620'>I</span>
  <span m='1070650'>want</span> <span m='1070770'>to</span> <span m='1070830'>talk</span>
  <span m='1071010'>about,</span> <span m='1073480'>which</span> <span m='1073590'>is</span>
  <span m='1074340'>designed</span> <span m='1074760'>for</span> <span m='1074880'>the</span>
  <span m='1074970'>case</span> <span m='1075210'>when</span> <span m='1075390'>w</span>
  <span m='1075750'>is</span> <span m='1075870'>very</span> <span m='1076170'>large--</span>
  <span m='1078780'>much</span> <span m='1078990'>bigger</span> <span m='1079230'>than</span>
  <span m='1079890'>polylog</span> <span m='1080300'>n.</span> <span m='1081060'>In</span>
  <span m='1081210'>that</span> <span m='1081360'>case,</span> <span m='1082370'>there's</span>
  <span m='1082680'>something</span> <span m='1082980'>called</span> <span m='1083130'>fusion</span>
  <span m='1083460'>trees.</span> <span m='1084360'>And</span> <span m='1084450'>you</span>
  <span m='1084540'>can</span> <span m='1084660'>achieve</span> <span m='1085440'>log</span>
  <span m='1086130'>base</span> <span m='1086520'>w</span> <span m='1087310'>of</span>
  <span m='1087630'>n--</span> <span m='1089301'>and,</span> <span m='1089770'>I</span>
  <span m='1089850'>guess,</span> <span m='1090030'>with</span> <span m='1090210'>high</span>
  <span m='1090390'>probability</span> <span m='1093010'>and</span> <span m='1093300'>linear</span>
  <span m='1093570'>space.</span> </p><p><span m='1096480'>The</span> <span m='1096540'>original</span>
  <span m='1096900'>fusion</span> <span m='1097170'>trees</span> <span m='1097380'>are</span>
  <span m='1097470'>static.</span> <span m='1098190'>And</span> <span m='1098310'>you</span>
  <span m='1098400'>could</span> <span m='1098520'>just</span> <span m='1098700'>do</span>
  <span m='1098850'>log</span> <span m='1099140'>base</span> <span m='1099320'>w</span>
  <span m='1099610'>of n</span> <span m='1099810'>deterministic</span> <span m='1100350'>queries.</span>
  <span m='1101880'>But</span> <span m='1102060'>there's</span> <span m='1102270'>a</span>
  <span m='1103050'>later</span> <span m='1103320'>version</span> <span m='1103620'>that</span>
  <span m='1103800'>dynamic,</span> <span m='1104430'>achieves</span> <span m='1104790'>this</span>
  <span m='1105450'>using</span> <span m='1105780'>hashing</span> <span m='1106980'>for</span>
  <span m='1107340'>updates,</span> <span m='1109590'>insertions,</span> <span m='1110160'>and</span>
  <span m='1110250'>deletions.</span> </p><p><span m='1111900'>Cool.</span> <span
  m='1112560'>So</span> <span m='1112740'>this</span> <span m='1112950'>is</span>
  <span m='1113070'>an</span> <span m='1113520'>almost</span> <span m='1113910'>upside-down--</span>
  <span m='1115050'>it's</span> <span m='1115170'>obviously</span> <span m='1115650'>always</span>
  <span m='1115920'>an</span> <span m='1115980'>improvement</span> <span m='1116490'>over</span>
  <span m='1120090'>just</span> <span m='1120270'>log</span> <span m='1120480'>base</span>
  <span m='1120690'>2</span> <span m='1120910'>of n.</span> <span m='1121890'>But</span>
  <span m='1122050'>it's</span> <span m='1122220'>sometimes</span> <span m='1122850'>better</span>
  <span m='1123060'>and</span> <span m='1123180'>sometimes</span> <span m='1123540'>worse</span>
  <span m='1123750'>than</span> <span m='1123900'>log</span> <span m='1124130'>w.</span>
  <span m='1124430'>In</span> <span m='1124530'>fact,</span> <span m='1124920'>it</span>
  <span m='1125370'>kind</span> <span m='1125520'>of</span> <span m='1125610'>makes</span>
  <span m='1125760'>sense</span> <span m='1125980'>to</span> <span m='1126030'>take</span>
  <span m='1126240'>the</span> <span m='1126330'>min</span> <span m='1126600'>of</span>
  <span m='1126720'>them.</span> <span m='1128490'>When</span> <span m='1128640'>w
  is</span> <span m='1128940'>small,</span> <span m='1129520'>you</span> <span m='1129570'>want</span>
  <span m='1129720'>to</span> <span m='1129780'>use</span> <span m='1130230'>log</span>
  <span m='1130440'>w.</span> <span m='1130780'>When</span> <span m='1130890'>w</span>
  <span m='1131220'>is big,</span> <span m='1131490'>you</span> <span m='1131580'>want</span>
  <span m='1131700'>to</span> <span m='1131760'>use</span> <span m='1131910'>log</span>
  <span m='1132120'>base</span> <span m='1132330'>w</span> <span m='1132700'>of n.</span>
  <span m='1133950'>They're</span> <span m='1134040'>going</span> <span m='1134220'>to</span>
  <span m='1134310'>balance</span> <span m='1134850'>out</span> <span m='1135300'>when</span>
  <span m='1135660'>w</span> <span m='1136260'>is</span> <span m='1143770'>2</span>
  <span m='1144040'>to the</span> <span m='1144130'>root</span> <span m='1144340'>log</span>
  <span m='1144620'>n--</span> <span m='1144890'>something</span> <span m='1145450'>like</span>
  <span m='1145720'>that.</span> </p><p><span m='1147100'>The</span> <span m='1147250'>easy</span>
  <span m='1147490'>thing</span> <span m='1147670'>is,</span> <span m='1148390'>when</span>
  <span m='1148870'>these</span> <span m='1149020'>balance</span> <span m='1149380'>out</span>
  <span m='1149560'>is</span> <span m='1149680'>when</span> <span m='1149860'>they're</span>
  <span m='1150070'>equal.</span> <span m='1151150'>And</span> <span m='1151240'>that</span>
  <span m='1151390'>will</span> <span m='1151510'>be</span> <span m='1151930'>when</span>
  <span m='1154570'>this</span> <span m='1154750'>is</span> <span m='1154870'>log</span>
  <span m='1155180'>n</span> <span m='1155290'>divided</span> <span m='1155650'>by</span>
  <span m='1155770'>log</span> <span m='1156010'>w.</span> <span m='1156850'>So</span>
  <span m='1157030'>when</span> <span m='1157150'>log</span> <span m='1157370'>w</span>
  <span m='1157810'>equals</span> <span m='1158530'>log</span> <span m='1158770'>n</span>
  <span m='1158920'>divided</span> <span m='1159250'>by</span> <span m='1159370'>log</span>
  <span m='1159610'>w--</span> <span m='1160380'>let do that</span> <span m='1160510'>over</span>
  <span m='1160690'>here.</span> <span m='1162250'>log</span> <span m='1162680'>w</span>
  <span m='1164581'>is log</span> <span m='1165080'>n</span> <span m='1165250'>over</span>
  <span m='1165430'>log</span> <span m='1165670'>w.</span> <span m='1167870'>Then</span>
  <span m='1168130'>this</span> <span m='1168310'>is</span> <span m='1168430'>like</span>
  <span m='1168640'>saying</span> <span m='1168940'>log</span> <span m='1169270'>squared</span>
  <span m='1169750'>w</span> <span m='1170770'>equals</span> <span m='1171070'>log</span>
  <span m='1171370'>n,</span> <span m='1172240'>or</span> <span m='1172990'>log</span>
  <span m='1173290'>w</span> <span m='1174470'>is</span> <span m='1174730'>root</span>
  <span m='1174910'>log</span> <span m='1175180'>n.</span> </p><p><span m='1176641'>So</span>
  <span m='1177040'>I</span> <span m='1177270'>was</span> <span m='1177510'>right.</span>
  <span m='1177790'>w</span> <span m='1178210'>is</span> <span m='1178360'>2</span>
  <span m='1178550'>to</span> <span m='1178630'>the</span> <span m='1178900'>root
  log</span> <span m='1179140'>in,</span> <span m='1179260'>which</span> <span m='1179440'>is</span>
  <span m='1179560'>a</span> <span m='1179620'>weird</span> <span m='1179800'>quantity.</span>
  <span m='1180400'>But</span> <span m='1180670'>the</span> <span m='1180740'>easy</span>
  <span m='1180940'>thing</span> <span m='1181100'>to</span> <span m='1181140'>think</span>
  <span m='1181330'>about</span> <span m='1181510'>is</span> <span m='1181600'>this</span>
  <span m='1181750'>one--</span> <span m='1182310'>log</span> <span m='1182560'>w</span>
  <span m='1182840'>is</span> <span m='1183010'>root</span> <span m='1183190'>log</span>
  <span m='1183340'>n.</span> <span m='1184000'>And</span> <span m='1184180'>in</span>
  <span m='1184270'>that</span> <span m='1184390'>case,</span> <span m='1185080'>the</span>
  <span m='1185170'>running</span> <span m='1185380'>time</span> <span m='1185590'>you</span>
  <span m='1185680'>get</span> <span m='1186370'>is</span> <span m='1187050'>root</span>
  <span m='1187310'>log</span> <span m='1187510'>n.</span> </p><p><span m='1191050'>So</span>
  <span m='1191150'>it's</span> <span m='1191290'>always,</span> <span m='1191680'>at</span>
  <span m='1191770'>most,</span> <span m='1192100'>this.</span> <span m='1192880'>And</span>
  <span m='1193600'>the</span> <span m='1194200'>worst</span> <span m='1194500'>case</span>
  <span m='1194730'>is</span> <span m='1194830'>when</span> <span m='1194950'>these</span>
  <span m='1195100'>things</span> <span m='1195280'>are</span> <span m='1195370'>balanced,</span>
  <span m='1197340'>or</span> <span m='1197500'>these</span> <span m='1197650'>two</span>
  <span m='1197770'>are</span> <span m='1197860'>the</span> <span m='1197950'>same,</span>
  <span m='1198250'>and</span> <span m='1198340'>they</span> <span m='1198430'>both</span>
  <span m='1198640'>achieve</span> <span m='1198940'>root</span> <span m='1199240'>log
  n.</span> <span m='1200290'>But</span> <span m='1200560'>if</span> <span m='1200740'>w</span>
  <span m='1201010'>is</span> <span m='1201040'>smaller</span> <span m='1201520'>or</span>
  <span m='1201550'>larger</span> <span m='1201940'>than</span> <span m='1202090'>this</span>
  <span m='1202240'>threshold,</span> <span m='1202780'>these</span> <span m='1203080'>structures</span>
  <span m='1203500'>will</span> <span m='1203620'>be</span> <span m='1203740'>even</span>
  <span m='1203980'>better</span> <span m='1204220'>than root</span> <span m='1204490'>log</span>
  <span m='1204910'>n.</span> <span m='1205030'>But in</span> <span m='1205120'>particular,</span>
  <span m='1205570'>it's</span> <span m='1205730'>a</span> <span m='1205810'>nice</span>
  <span m='1206050'>way</span> <span m='1206170'>to</span> <span m='1206260'>think</span>
  <span m='1206440'>about,</span> <span m='1207110'>oh,</span> <span m='1207300'>we're</span>
  <span m='1207400'>doing</span> <span m='1208330'>sort</span> <span m='1208510'>of</span>
  <span m='1208600'>a</span> <span m='1208630'>square</span> <span m='1208960'>factor</span>
  <span m='1209380'>better</span> <span m='1210310'>than</span> <span m='1210670'>binary</span>
  <span m='1210970'>search</span> <span m='1211240'>trees.</span> <span m='1212930'>And</span>
  <span m='1212980'>we</span> <span m='1213100'>can</span> <span m='1213250'>do</span>
  <span m='1213400'>this</span> <span m='1214370'>high</span> <span m='1214540'>probability</span>
  <span m='1216010'>in</span> <span m='1216160'>linear</span> <span m='1216430'>space.</span>
  </p><p><span m='1220120'>So</span> <span m='1220270'>that's</span> <span m='1220480'>cool.</span>
  <span m='1227530'>Turns</span> <span m='1227770'>out</span> <span m='1227920'>it's</span>
  <span m='1228040'>also</span> <span m='1228280'>pretty</span> <span m='1228520'>much</span>
  <span m='1228670'>optimal.</span> <span m='1230870'>And</span> <span m='1230980'>that's</span>
  <span m='1231130'>not</span> <span m='1231760'>at</span> <span m='1231880'>all</span>
  <span m='1232120'>obvious,</span> <span m='1237880'>and</span> <span m='1238300'>wasn't</span>
  <span m='1238540'>known</span> <span m='1238840'>for</span> <span m='1239020'>many</span>
  <span m='1239230'>years.</span> <span m='1246650'>So</span> <span m='1248630'>there's</span>
  <span m='1248840'>a</span> <span m='1248870'>cell</span> <span m='1249140'>probe</span>
  <span m='1249470'>lower</span> <span m='1249740'>bound.</span> <span m='1250880'>So</span>
  <span m='1251030'>these</span> <span m='1251210'>are</span> <span m='1251330'>all</span>
  <span m='1254180'>in</span> <span m='1254630'>the</span> <span m='1254720'>word</span>
  <span m='1254930'>RAM</span> <span m='1255240'>model--</span> <span m='1257580'>all</span>
  <span m='1257770'>these</span> <span m='1257950'>results.</span> <span m='1258670'>The</span>
  <span m='1258760'>first</span> <span m='1259030'>one</span> <span m='1259230'>actually</span>
  <span m='1259510'>kind</span> <span m='1259720'>of</span> <span m='1259780'>works</span>
  <span m='1259990'>in</span> <span m='1260080'>the</span> <span m='1260170'>pointer</span>
  <span m='1260530'>machine.</span> <span m='1261430'>I'll</span> <span m='1261550'>talk</span>
  <span m='1261760'>about</span> <span m='1261910'>that</span> <span m='1262060'>later.</span>
  </p><p><span m='1270570'>This</span> <span m='1270820'>lower</span> <span m='1271100'>bound's</span>
  <span m='1271390'>a</span> <span m='1271420'>little</span> <span m='1271720'>bit</span>
  <span m='1271930'>messy</span> <span m='1273550'>to</span> <span m='1273700'>state.</span>
  <span m='1275140'>The</span> <span m='1275260'>bound</span> <span m='1275710'>is</span>
  <span m='1275860'>slightly</span> <span m='1276280'>more</span> <span m='1276460'>complicated</span>
  <span m='1278100'>than</span> <span m='1278470'>what</span> <span m='1278590'>we've</span>
  <span m='1278740'>seen.</span> <span m='1279700'>But</span> <span m='1279910'>I'm</span>
  <span m='1279970'>going</span> <span m='1280090'>to</span> <span m='1280150'>restrict</span>
  <span m='1280510'>to</span> <span m='1280850'>a</span> <span m='1280890'>special</span>
  <span m='1281260'>situation,</span> <span m='1281890'>which</span> <span m='1282040'>is,</span>
  <span m='1282160'>if</span> <span m='1282280'>you</span> <span m='1282400'>have</span>
  <span m='1283330'>n</span> <span m='1283630'>polylog</span> <span m='1284170'>n</span>
  <span m='1284290'>space.</span> </p><p><span m='1284660'>So</span> <span m='1284760'>this</span>
  <span m='1284830'>is</span> <span m='1284920'>a</span> <span m='1284980'>lower</span>
  <span m='1285220'>bound</span> <span m='1285430'>on</span> <span m='1285580'>static</span>
  <span m='1286210'>predecessor.</span> <span m='1287470'>All</span> <span m='1287680'>you</span>
  <span m='1287830'>need</span> <span m='1287980'>to</span> <span m='1288070'>do</span>
  <span m='1288280'>is</span> <span m='1288340'>solve</span> <span m='1288610'>predecessor</span>
  <span m='1289300'>and</span> <span m='1289420'>successor,</span> <span m='1290200'>or</span>
  <span m='1290350'>even</span> <span m='1290590'>just</span> <span m='1290740'>predecessor.</span>
  <span m='1291790'>There's</span> <span m='1291970'>no</span> <span m='1292180'>inserts</span>
  <span m='1292510'>and</span> <span m='1292600'>deletes.</span> </p><p><span m='1293770'>In</span>
  <span m='1293950'>that</span> <span m='1294070'>case,</span> <span m='1294730'>if</span>
  <span m='1295000'>you</span> <span m='1295180'>use</span> <span m='1295390'>lots</span>
  <span m='1295780'>of</span> <span m='1295840'>space,</span> <span m='1296290'>like</span>
  <span m='1296470'>u</span> <span m='1296630'>space,</span> <span m='1296980'>of</span>
  <span m='1297040'>course,</span> <span m='1297250'>you</span> <span m='1297310'>can</span>
  <span m='1297400'>do</span> <span m='1297550'>constant</span> <span m='1297970'>time</span>
  <span m='1298180'>for</span> <span m='1298300'>everything.</span> <span m='1299110'>You</span>
  <span m='1299170'>just</span> <span m='1299320'>store</span> <span m='1299560'>all</span>
  <span m='1299650'>the</span> <span m='1299800'>answers.</span> <span m='1301450'>But</span>
  <span m='1301630'>if</span> <span m='1301780'>you</span> <span m='1301900'>want</span>
  <span m='1302470'>space</span> <span m='1302830'>that's</span> <span m='1303670'>not</span>
  <span m='1303880'>much</span> <span m='1304060'>bigger</span> <span m='1304300'>than</span>
  <span m='1304500'>n--</span> <span m='1306220'>in</span> <span m='1306340'>particular,</span>
  <span m='1306770'>if</span> <span m='1306870'>you</span> <span m='1306970'>wanted</span>
  <span m='1307000'>to</span> <span m='1307060'>be</span> <span m='1307120'>able</span>
  <span m='1307240'>to</span> <span m='1307300'>do</span> <span m='1307450'>updates</span>
  <span m='1307840'>in</span> <span m='1307930'>polylog,</span> <span m='1309020'>this</span>
  <span m='1309100'>is</span> <span m='1309220'>the</span> <span m='1309310'>most</span>
  <span m='1309520'>space</span> <span m='1309820'>you</span> <span m='1309910'>could</span>
  <span m='1310030'>ever</span> <span m='1310240'>hope</span> <span m='1310420'>to</span>
  <span m='1310540'>achieve.</span> </p><p><span m='1311830'>So</span> <span m='1312040'>assuming</span>
  <span m='1312400'>that,</span> <span m='1312670'>which</span> <span m='1313080'>is</span>
  <span m='1313750'>pretty</span> <span m='1313930'>reasonable,</span> <span m='1316450'>there's</span>
  <span m='1316630'>a</span> <span m='1316690'>bound</span> <span m='1317200'>of</span>
  <span m='1318400'>the</span> <span m='1318490'>min</span> <span m='1318820'>of</span>
  <span m='1318940'>two</span> <span m='1319090'>things--</span> <span m='1320050'>log</span>
  <span m='1320260'>base</span> <span m='1320430'>w</span> <span m='1320610'>of</span>
  <span m='1320710'>n,</span> <span m='1320920'>which</span> <span m='1321100'>is</span>
  <span m='1321250'>fusion</span> <span m='1321580'>trees,</span> <span m='1322750'>and,</span>
  <span m='1323230'>roughly,</span> <span m='1323740'>log</span> <span m='1324020'>w,</span>
  <span m='1324460'>which</span> <span m='1324700'>is</span> <span m='1325000'>Van</span>
  <span m='1325240'>Emde</span> <span m='1325420'>Boas.</span> <span m='1325930'>But</span>
  <span m='1326110'>it's</span> <span m='1326200'>slightly</span> <span m='1326920'>smaller</span>
  <span m='1327400'>than</span> <span m='1327550'>that.</span> <span m='1336170'>Yeah,</span>
  <span m='1336550'>pretty</span> <span m='1336820'>weird.</span> </p><p><span m='1337600'>Let</span>
  <span m='1337720'>me</span> <span m='1337810'>tell</span> <span m='1337960'>you</span>
  <span m='1338020'>the</span> <span m='1338140'>consequences--</span> <span m='1339620'>a</span>
  <span m='1339670'>little</span> <span m='1339940'>easier</span> <span m='1340210'>to</span>
  <span m='1340300'>think</span> <span m='1340480'>about.</span> <span m='1341050'>Van</span>
  <span m='1341250'>Emde</span> <span m='1341400'>Boas</span> <span m='1341860'>is</span>
  <span m='1341980'>going</span> <span m='1342130'>to</span> <span m='1342190'>be</span>
  <span m='1342340'>optimal</span> <span m='1344650'>for</span> <span m='1345010'>the</span>
  <span m='1345550'>kind</span> <span m='1345730'>of</span> <span m='1345940'>cases</span>
  <span m='1346270'>we</span> <span m='1346360'>care</span> <span m='1346570'>about,</span>
  <span m='1347390'>which</span> <span m='1347500'>is</span> <span m='1347590'>when</span>
  <span m='1347770'>w</span> <span m='1348700'>is</span> <span m='1349460'>polylog</span>
  <span m='1350130'>n.</span> <span m='1355270'>And</span> <span m='1355690'>fusion</span>
  <span m='1356020'>trees</span> <span m='1356260'>are</span> <span m='1356380'>optimal</span>
  <span m='1357790'>when</span> <span m='1358090'>w</span> <span m='1358400'>is</span>
  <span m='1358510'>big.</span> <span m='1369910'>Square</span> <span m='1370310'>root</span>
  <span m='1371010'>log</span> <span m='1371790'>n</span> <span m='1372905'>log</span>
  <span m='1373400'>log n.</span> </p><p><span m='1375450'>OK--</span> <span m='1377060'>a</span>
  <span m='1378940'>little</span> <span m='1379180'>messy.</span> <span m='1379870'>So</span>
  <span m='1380020'>there's</span> <span m='1380200'>this</span> <span m='1380860'>divided</span>
  <span m='1381370'>by</span> <span m='1381640'>log</span> <span m='1382090'>of</span>
  <span m='1382180'>log</span> <span m='1382420'>w</span> <span m='1382660'>over</span>
  <span m='1382810'>log n.</span> <span m='1383890'>If</span> <span m='1385450'>w</span>
  <span m='1385720'>is</span> <span m='1385780'>polylog</span> <span m='1386060'>n,</span>
  <span m='1386740'>then</span> <span m='1386920'>this</span> <span m='1387130'>is</span>
  <span m='1387280'>just</span> <span m='1387610'>order</span> <span m='1387940'>log</span>
  <span m='1388210'>log</span> <span m='1388420'>n.</span> <span m='1388600'>And</span>
  <span m='1388690'>so</span> <span m='1388810'>this</span> <span m='1388960'>cancels.</span>
  <span m='1389340'>This</span> <span m='1389470'>becomes</span> <span m='1389770'>constant.</span>
  <span m='1390880'>So</span> <span m='1391030'>in</span> <span m='1391090'>these</span>
  <span m='1391240'>situations,</span> <span m='1391900'>which</span> <span m='1392050'>are</span>
  <span m='1392110'>the</span> <span m='1392230'>ones</span> <span m='1392440'>I</span>
  <span m='1392530'>mentioned</span> <span m='1392890'>over</span> <span m='1393070'>here,</span>
  <span m='1393880'>w</span> <span m='1394180'>is</span> <span m='1394300'>polylog</span>
  <span m='1394730'>n,</span> <span m='1395150'>which is</span> <span m='1395340'>when</span>
  <span m='1395440'>we</span> <span m='1395500'>get</span> <span m='1395650'>log</span>
  <span m='1395860'>log</span> <span m='1396100'>n</span> <span m='1396250'>performance.</span>
  <span m='1396760'>And</span> <span m='1396850'>that's</span> <span m='1397000'>kind</span>
  <span m='1397120'>of</span> <span m='1397180'>the</span> <span m='1397270'>case</span>
  <span m='1397450'>we</span> <span m='1397540'>care</span> <span m='1397720'>about.</span>
  <span m='1398770'>Van</span> <span m='1399020'>Emde</span> <span m='1399090'>Boas</span>
  <span m='1399430'>is</span> <span m='1399610'>the</span> <span m='1399700'>best</span>
  <span m='1399940'>thing</span> <span m='1400120'>to</span> <span m='1400210'>do.</span>
  <span m='1401320'>Turns</span> <span m='1401620'>out,</span> <span m='1402100'>this</span>
  <span m='1402280'>is</span> <span m='1402400'>actually</span> <span m='1402790'>the</span>
  <span m='1402880'>right</span> <span m='1403090'>answer.</span> <span m='1404140'>You</span>
  <span m='1404350'>can</span> <span m='1404650'>do</span> <span m='1404770'>slightly</span>
  <span m='1405370'>better.</span> <span m='1406670'>It's</span> <span m='1406900'>almost</span>
  <span m='1407200'>an</span> <span m='1407320'>exercise.</span> <span m='1407830'>You</span>
  <span m='1407950'>can</span> <span m='1408280'>tweak</span> <span m='1408820'>Van</span>
  <span m='1409060'>Emde</span> <span m='1409200'>Boas</span> <span m='1409480'>and</span>
  <span m='1409570'>get</span> <span m='1409720'>this</span> <span m='1409870'>slight</span>
  <span m='1410200'>improvement.</span> <span m='1410710'>But</span> <span m='1411550'>most</span>
  <span m='1411760'>word</span> <span m='1411940'>sizes,</span> <span m='1412390'>it</span>
  <span m='1412450'>really</span> <span m='1412720'>doesn't</span> <span m='1412930'>matter.</span>
  <span m='1413600'>You're</span> <span m='1413620'>not</span> <span m='1413800'>saving</span>
  <span m='1414130'>much.</span> <span m='1416420'>Cool.</span> </p><p><span m='1417400'>So</span>
  <span m='1417580'>other</span> <span m='1417760'>than</span> <span m='1417910'>that</span>
  <span m='1418030'>little</span> <span m='1418240'>factor,</span> <span m='1419050'>these</span>
  <span m='1419260'>are</span> <span m='1419320'>the</span> <span m='1419410'>right</span>
  <span m='1419590'>answers.</span> <span m='1419920'>You</span> <span m='1420100'>have</span>
  <span m='1420400'>to</span> <span m='1420460'>know</span> <span m='1421180'>about</span>
  <span m='1421450'>Van</span> <span m='1421600'>Emde</span> <span m='1421690'>Boas.</span>
  <span m='1422050'>You</span> <span m='1422170'>have</span> <span m='1422410'>to</span>
  <span m='1422500'>know</span> <span m='1422650'>about</span> <span m='1422860'>fusion</span>
  <span m='1423130'>trees.</span> <span m='1423460'>And</span> <span m='1423550'>so</span>
  <span m='1423980'>this</span> <span m='1424330'>lecture is</span> <span m='1424570'>about</span>
  <span m='1424750'>Van</span> <span m='1424930'>Emde</span> <span m='1425080'>Boas.</span>
  <span m='1425380'>Next</span> <span m='1425620'>lecture is</span> <span m='1425980'>about</span>
  <span m='1426190'>fusion</span> <span m='1426490'>trees.</span> <span m='1428890'>This</span>
  <span m='1429110'>result</span> <span m='1429470'>is</span> <span m='1429670'>from</span>
  <span m='1431130'>2006</span> <span m='1432190'>and</span> <span m='1432280'>2007,</span>
  <span m='1432900'>so</span> <span m='1433030'>pretty</span> <span m='1433990'>recent.</span>
  </p><p><span m='1445040'>So</span> <span m='1445940'>let's</span> <span m='1446120'>start</span>
  <span m='1446270'>a</span> <span m='1446300'>Van</span> <span m='1446480'>Emde</span>
  <span m='1446660'>Boas.</span> <span m='1479540'>Yeah.</span> <span m='1480110'>Let's</span>
  <span m='1480380'>dive</span> <span m='1480590'>into</span> <span m='1480680'>it.</span>
  <span m='1480840'>I'll</span> <span m='1481190'>talk</span> <span m='1481400'>about</span>
  <span m='1481550'>history</span> <span m='1482470'>a</span> <span m='1482510'>little</span>
  <span m='1482690'>later.</span> <span m='1484160'>The</span> <span m='1484310'>central</span>
  <span m='1484700'>idea,</span> <span m='1485180'>I</span> <span m='1485410'>guess,</span>
  <span m='1485690'>if you</span> <span m='1485800'>wanted</span> <span m='1486140'>to</span>
  <span m='1487220'>sum</span> <span m='1487520'>up</span> <span m='1487830'>Van Emde
  Boas</span> <span m='1488540'>in</span> <span m='1488660'>an</span> <span m='1488750'>equation,</span>
  <span m='1489450'>which</span> <span m='1489530'>is</span> <span m='1489620'>something</span>
  <span m='1490040'>we</span> <span m='1490160'>very</span> <span m='1490460'>rarely</span>
  <span m='1490850'>get</span> <span m='1491000'>to</span> <span m='1491120'>do</span>
  <span m='1491780'>in</span> <span m='1491960'>algorithms,</span> <span m='1492980'>is</span>
  <span m='1493400'>to</span> <span m='1493520'>think</span> <span m='1493700'>about</span>
  <span m='1493940'>this</span> <span m='1494120'>recurrence--</span> <span m='1495115'>T</span>
  <span m='1495450'>of</span> <span m='1495570'>u</span> <span m='1495930'>is</span>
  <span m='1496400'>T of</span> <span m='1496740'>square</span> <span m='1497090'>root</span>
  <span m='1497250'>of u</span> <span m='1498100'>plus</span> <span m='1498340'>order</span>
  <span m='1498480'>1.</span> <span m='1500430'>What</span> <span m='1500450'>does</span>
  <span m='1500570'>this</span> <span m='1500660'>solve</span> <span m='1500930'>to?</span>
  <span m='1502310'>log</span> <span m='1502580'>log</span> <span m='1502850'>u.</span>
  </p><p><span m='1505470'>All right,</span> <span m='1507080'>just</span> <span m='1507380'>think</span>
  <span m='1509250'>of</span> <span m='1509360'>taking</span> <span m='1509630'>logs.</span>
  <span m='1510080'>This is the</span> <span m='1510350'>same</span> <span m='1510650'>as</span>
  <span m='1510800'>T of w</span> <span m='1512160'>equals</span> <span m='1512510'>T
  of</span> <span m='1512870'>w</span> <span m='1513470'>over</span> <span m='1513690'>2</span>
  <span m='1514980'>plus</span> <span m='1515240'>order</span> <span m='1515300'>1.</span>
  <span m='1515930'>w is</span> <span m='1516080'>the</span> <span m='1516170'>word</span>
  <span m='1516380'>size.</span> <span m='1517600'>And</span> <span m='1517700'>so</span>
  <span m='1517850'>this</span> <span m='1518090'>is</span> <span m='1518750'>log</span>
  <span m='1519110'>w.</span> <span m='1519470'>It's the</span> <span m='1519750'>same</span>
  <span m='1520100'>thing.</span> </p><p><span m='1522188'>If</span> <span m='1522660'>we</span>
  <span m='1522770'>could</span> <span m='1522890'>achieve</span> <span m='1523280'>this</span>
  <span m='1523760'>recurrence,</span> <span m='1524720'>then--</span> <span m='1525410'>boom--</span>
  <span m='1526220'>we</span> <span m='1526340'>get</span> <span m='1526700'>our</span>
  <span m='1526850'>bound</span> <span m='1527430'>of</span> <span m='1527650'>log</span>
  <span m='1527840'>w.</span> <span m='1530810'>So</span> <span m='1531290'>how</span>
  <span m='1531440'>do</span> <span m='1531530'>we</span> <span m='1531620'>do</span>
  <span m='1531770'>it.</span> <span m='1532800'>We</span> <span m='1532970'>split</span>
  <span m='1534400'>the</span> <span m='1534980'>universe</span> <span m='1538310'>into</span>
  <span m='1539742'>root</span> <span m='1540130'>u</span> <span m='1540350'>clusters,</span>
  <span m='1545480'>each</span> <span m='1546862'>of</span> <span m='1547330'>size</span>
  <span m='1547860'>root</span> <span m='1548040'>u.</span> <span m='1551980'>OK,</span>
  <span m='1552280'>so,</span> <span m='1552650'>if here is</span> <span m='1552920'>our</span>
  <span m='1553100'>universe,</span> <span m='1555610'>then</span> <span m='1559320'>I</span>
  <span m='1559700'>just</span> <span m='1559940'>split</span> <span m='1560820'>every</span>
  <span m='1561190'>square</span> <span m='1561430'>root</span> <span m='1561570'>of</span>
  <span m='1561670'>u</span> <span m='1561890'>items.</span> </p><p><span m='1563090'>So</span>
  <span m='1563450'>each</span> <span m='1563660'>of</span> <span m='1563720'>these</span>
  <span m='1564260'>is</span> <span m='1565350'>root</span> <span m='1565610'>u</span>
  <span m='1566510'>long.</span> <span m='1566870'>The</span> <span m='1566990'>number</span>
  <span m='1567350'>of</span> <span m='1567440'>them</span> <span m='1567680'>is</span>
  <span m='1567800'>square</span> <span m='1568100'>root of</span> <span m='1568220'>u.</span>
  <span m='1569210'>And</span> <span m='1569390'>then</span> <span m='1569510'>somehow,</span>
  <span m='1569840'>I</span> <span m='1569900'>want</span> <span m='1570050'>to</span>
  <span m='1570110'>recurse</span> <span m='1570590'>on</span> <span m='1570740'>each</span>
  <span m='1570920'>of</span> <span m='1570980'>these</span> <span m='1571670'>clusters.</span>
  <span m='1574460'>And</span> <span m='1574730'>I</span> <span m='1574910'>only</span>
  <span m='1575210'>get</span> <span m='1575330'>to</span> <span m='1575390'>recurse
  on</span> <span m='1575750'>one</span> <span m='1575900'>of</span> <span m='1575960'>them--</span>
  <span m='1576420'>so a</span> <span m='1576530'>pretty</span> <span m='1576800'>simple</span>
  <span m='1577100'>idea.</span> </p><p><span m='1594550'>Yeah.</span> <span m='1595080'>So</span>
  <span m='1595600'>I'll</span> <span m='1595690'>talk</span> <span m='1595890'>about</span>
  <span m='1596040'>how</span> <span m='1596160'>to</span> <span m='1596220'>actually</span>
  <span m='1596460'>do</span> <span m='1596550'>that</span> <span m='1596700'>recursion</span>
  <span m='1597030'>in</span> <span m='1597120'>a</span> <span m='1597180'>moment.</span>
  <span m='1597810'>Before</span> <span m='1598110'>I</span> <span m='1598140'>get</span>
  <span m='1598320'>there,</span> <span m='1598510'>I</span> <span m='1598590'>want</span>
  <span m='1598750'>to</span> <span m='1598810'>define</span> <span m='1599160'>a</span>
  <span m='1599220'>sort</span> <span m='1599430'>of</span> <span m='1599490'>hierarchical</span>
  <span m='1600810'>coordinate</span> <span m='1601230'>system.</span> <span m='1603790'>This</span>
  <span m='1603870'>is</span> <span m='1604020'>a</span> <span m='1604230'>new</span>
  <span m='1605550'>way</span> <span m='1605730'>of</span> <span m='1605790'>phrasing</span>
  <span m='1606180'>it</span> <span m='1606270'>for</span> <span m='1606420'>me.</span>
  <span m='1606730'>So I hope</span> <span m='1607230'>you</span> <span m='1607320'>like</span>
  <span m='1607560'>it.</span> </p><p><span m='1608790'>If</span> <span m='1608940'>we</span>
  <span m='1609060'>have</span> <span m='1609240'>a</span> <span m='1609330'>word</span>
  <span m='1610410'>x,</span> <span m='1610980'>I</span> <span m='1611100'>want</span>
  <span m='1611280'>to</span> <span m='1611370'>write</span> <span m='1611670'>it</span>
  <span m='1612120'>as</span> <span m='1612330'>two</span> <span m='1612510'>coordinates--</span>
  <span m='1613640'>c</span> <span m='1614610'>and</span> <span m='1614820'>i.</span>
  <span m='1615440'>I'm</span> <span m='1615730'>going to</span> <span m='1615850'>use</span>
  <span m='1616080'>angle</span> <span m='1616320'>brackets,</span> <span m='1616920'>so</span>
  <span m='1617380'>it</span> <span m='1617470'>doesn't</span> <span m='1617700'>get</span>
  <span m='1617820'>too</span> <span m='1617970'>confusing.</span> <span m='1618930'>c</span>
  <span m='1619290'>is</span> <span m='1619560'>which</span> <span m='1619740'>cluster</span>
  <span m='1620190'>you're</span> <span m='1620360'>in.</span> <span m='1620700'>So</span>
  <span m='1620820'>this</span> <span m='1621000'>is</span> <span m='1621090'>cluster</span>
  <span m='1621480'>0,</span> <span m='1621810'>cluster</span> <span m='1622170'>1,</span>
  <span m='1622380'>cluster</span> <span m='1622720'>2,</span> <span m='1622950'>cluster</span>
  <span m='1623250'>three.</span> <span m='1623970'>i</span> <span m='1624270'>is</span>
  <span m='1624480'>your</span> <span m='1624600'>index</span> <span m='1625065'>within</span>
  <span m='1625170'>the</span> <span m='1625260'>cluster.</span> <span m='1625820'>So</span>
  <span m='1625890'>this</span> <span m='1626070'>is</span> <span m='1626130'>0,</span>
  <span m='1626530'>1,</span> <span m='1626710'>2,</span> <span m='1626830'>3,</span>
  <span m='1627040'>4,</span> <span m='1627250'>5--</span> <span m='1627500'>up to</span>
  <span m='1627600'>root</span> <span m='1627900'>u</span> <span m='1628440'>minus</span>
  <span m='1628740'>1</span> <span m='1629590'>within</span> <span m='1629850'>this</span>
  <span m='1629970'>cluster.</span> <span m='1630270'>Then</span> <span m='1630450'>0,</span>
  <span m='1630910'>1,</span> <span m='1631090'>2,</span> <span m='1631240'>3,</span>
  <span m='1631420'>4,</span> <span m='1631600'>5</span> <span m='1631860'>up to</span>
  <span m='1631980'>root</span> <span m='1632120'>u</span> <span m='1632280'>minus</span>
  <span m='1632520'>1</span> <span m='1632670'>with</span> <span m='1632770'>in</span>
  <span m='1632880'>this</span> <span m='1633030'>cluster--</span> <span m='1633490'>so</span>
  <span m='1634405'>the</span> <span m='1634790'>i is</span> <span m='1635220'>your</span>
  <span m='1635370'>index</span> <span m='1636720'>within</span> <span m='1637080'>the</span>
  <span m='1637200'>cluster,</span> <span m='1638600'>like</span> <span m='1638770'>this,</span>
  <span m='1639720'>and</span> <span m='1639900'>c</span> <span m='1640320'>is</span>
  <span m='1640590'>which</span> <span m='1640830'>cluster</span> <span m='1641970'>you</span>
  <span m='1642120'>are</span> <span m='1642240'>in.</span> <span m='1643890'>OK.</span>
  <span m='1644250'>Pretty</span> <span m='1644610'>simple.</span> <span m='1645540'>And</span>
  <span m='1645820'>there's</span> <span m='1646080'>easy</span> <span m='1647430'>arithmetic</span>
  <span m='1648000'>to</span> <span m='1648180'>do</span> <span m='1648330'>this.</span>
  </p><p><span m='1649260'>c</span> <span m='1649680'>is</span> <span m='1650250'>x</span>
  <span m='1651030'>integer</span> <span m='1651390'>divide</span> <span m='1652080'>root</span>
  <span m='1652440'>u.</span> <span m='1653430'>And</span> <span m='1653670'>i</span>
  <span m='1654120'>is</span> <span m='1654600'>x</span> <span m='1655860'>integer</span>
  <span m='1656190'>mod</span> <span m='1657516'>root</span> <span m='1657960'>u.</span>
  <span m='1658200'>I used Python</span> <span m='1658620'>notation</span> <span m='1659100'>here.</span>
  <span m='1661560'>So</span> <span m='1662960'>fine,</span> <span m='1663300'>I</span>
  <span m='1663390'>think</span> <span m='1663570'>you</span> <span m='1663690'>all</span>
  <span m='1663800'>know</span> <span m='1663990'>this--</span> <span m='1664620'>pretty</span>
  <span m='1664770'>simple.</span> <span m='1665100'>And</span> <span m='1665220'>if</span>
  <span m='1665490'>I</span> <span m='1665610'>gave</span> <span m='1665880'>you</span>
  <span m='1666210'>c and i,</span> <span m='1666960'>you</span> <span m='1667110'>could</span>
  <span m='1667230'>reconstruct</span> <span m='1667800'>x</span> <span m='1668130'>by</span>
  <span m='1668280'>just</span> <span m='1668430'>saying,</span> <span m='1668770'>oh,</span>
  <span m='1668970'>well, that's</span> <span m='1669170'>c</span> <span m='1669510'>times</span>
  <span m='1669870'>root</span> <span m='1670020'>u</span> <span m='1671060'>plus</span>
  <span m='1671450'>i.</span> <span m='1672600'>So</span> <span m='1672870'>in</span>
  <span m='1673020'>constant</span> <span m='1673380'>time,</span> <span m='1673680'>you</span>
  <span m='1673800'>can</span> <span m='1674610'>decompose</span> <span m='1675240'>a</span>
  <span m='1675300'>number</span> <span m='1675690'>into</span> <span m='1675930'>its</span>
  <span m='1676050'>two</span> <span m='1676230'>coordinates.</span> <span m='1676950'>That's</span>
  <span m='1677160'>the</span> <span m='1677250'>point.</span> </p><p><span m='1679750'>In</span>
  <span m='1679800'>fact,</span> <span m='1680170'>it's</span> <span m='1680270'>much</span>
  <span m='1680400'>easier</span> <span m='1680760'>than</span> <span m='1680910'>this.</span>
  <span m='1681080'>You</span> <span m='1681150'>don't</span> <span m='1681300'>even</span>
  <span m='1681510'>have</span> <span m='1681630'>to</span> <span m='1681750'>do</span>
  <span m='1681960'>division</span> <span m='1682950'>if</span> <span m='1683130'>you</span>
  <span m='1683220'>think</span> <span m='1683490'>of</span> <span m='1683610'>everything</span>
  <span m='1684210'>in</span> <span m='1684390'>binary,</span> <span m='1684910'>which</span>
  <span m='1685020'>computers</span> <span m='1685560'>tend</span> <span m='1685800'>to</span>
  <span m='1685890'>do.</span> <span m='1686580'>So</span> <span m='1686790'>the</span>
  <span m='1686910'>binary</span> <span m='1687210'>perspective</span> <span m='1693930'>is</span>
  <span m='1694110'>that</span> <span m='1694290'>x</span> <span m='1694860'>is</span>
  <span m='1696170'>a</span> <span m='1696240'>word.</span> <span m='1696560'>So</span>
  <span m='1696660'>it's</span> <span m='1696780'>a</span> <span m='1696840'>bunch</span>
  <span m='1697050'>of</span> <span m='1697110'>bits.</span> <span m='1698410'>0,</span>
  <span m='1698780'>1,</span> <span m='1699320'>1,</span> <span m='1700370'>0,</span>
  <span m='1700792'>1,</span> <span m='1701636'>0,</span> <span m='1702058'>0,</span>
  <span m='1702480'>1--</span> <span m='1702780'>whatever.</span> <span m='1705000'>Divide</span>
  <span m='1705390'>that</span> <span m='1705660'>bit</span> <span m='1706350'>sequence</span>
  <span m='1706770'>in</span> <span m='1706890'>half,</span> <span m='1708030'>and</span>
  <span m='1708810'>then</span> <span m='1708990'>this</span> <span m='1709170'>part</span>
  <span m='1709440'>is</span> <span m='1709530'>c,</span> <span m='1710400'>this</span>
  <span m='1710550'>part</span> <span m='1710880'>is</span> <span m='1711110'>i.</span>
  </p><p><span m='1712920'>And</span> <span m='1713190'>if</span> <span m='1713310'>you</span>
  <span m='1713400'>assume</span> <span m='1713760'>that</span> <span m='1714210'>w</span>
  <span m='1714600'>is</span> <span m='1714690'>a</span> <span m='1714720'>power</span>
  <span m='1714990'>of</span> <span m='1715080'>2,</span> <span m='1715740'>these</span>
  <span m='1715950'>two</span> <span m='1716220'>are</span> <span m='1716340'>identical.</span>
  <span m='1717280'>If they're</span> <span m='1717390'>not</span> <span m='1717540'>a</span>
  <span m='1717600'>power</span> <span m='1717810'>of</span> <span m='1717870'>2,</span>
  <span m='1718320'>you've</span> <span m='1718470'>got to</span> <span m='1718640'>round</span>
  <span m='1719730'>a</span> <span m='1719790'>little</span> <span m='1720000'>bit</span>
  <span m='1720150'>here.</span> <span m='1720600'>It</span> <span m='1721080'>doesn't</span>
  <span m='1721800'>matter.</span> <span m='1722470'>But</span> <span m='1722910'>you</span>
  <span m='1723060'>can</span> <span m='1723150'>use</span> <span m='1723300'>this</span>
  <span m='1723480'>definition</span> <span m='1724020'>instead</span> <span m='1724350'>of</span>
  <span m='1724440'>this</span> <span m='1724590'>one</span> <span m='1725340'>either</span>
  <span m='1725550'>way.</span> </p><p><span m='1726190'>So</span> <span m='1726210'>in</span>
  <span m='1726270'>this</span> <span m='1726450'>case,</span> <span m='1727470'>c</span>
  <span m='1727890'>is--</span> <span m='1728430'>ooh,</span> <span m='1728880'>boy--</span>
  <span m='1730680'>x</span> <span m='1731130'>shifted</span> <span m='1731640'>right,</span>
  <span m='1732800'>w</span> <span m='1733140'>over</span> <span m='1733350'>2,</span>
  <span m='1733650'>basically.</span> <span m='1734100'>So</span> <span m='1734280'>this</span>
  <span m='1735690'>w</span> <span m='1736020'>over</span> <span m='1736200'>2--</span>
  <span m='1738100'>w</span> <span m='1738740'>over</span> <span m='1739050'>2.</span>
  <span m='1740220'>The</span> <span m='1740610'>whole</span> <span m='1740790'>thing</span>
  <span m='1741120'>is</span> <span m='1741360'>w</span> <span m='1742370'>bits.</span>
  <span m='1744220'>So</span> <span m='1744270'>if</span> <span m='1744390'>I</span>
  <span m='1744450'>shift</span> <span m='1744720'>right,</span> <span m='1745020'>I</span>
  <span m='1745080'>get</span> <span m='1745260'>rid</span> <span m='1745470'>of</span>
  <span m='1745590'>the</span> <span m='1745680'>low</span> <span m='1745880'>order</span>
  <span m='1746100'>bits,</span> <span m='1747150'>if</span> <span m='1747240'>I</span>
  <span m='1747330'>want.</span> <span m='1748240'>i</span> <span m='1748840'>is</span>
  <span m='1748960'>slightly</span> <span m='1749370'>more</span> <span m='1749580'>annoying.</span>
  <span m='1750120'>But</span> <span m='1750330'>I</span> <span m='1750450'>can't</span>
  <span m='1750630'>do</span> <span m='1750840'>it</span> <span m='1750960'>as</span>
  <span m='1751900'>an</span> <span m='1752100'>and</span> <span m='1753600'>with</span>
  <span m='1757560'>one</span> <span m='1758070'>shifted</span> <span m='1758580'>left</span>
  <span m='1760080'>w</span> <span m='1760470'>over</span> <span m='1760680'>2</span>
  <span m='1762180'>minus</span> <span m='1762540'>1.</span> <span m='1764690'>That's</span>
  <span m='1765120'>probably</span> <span m='1765360'>how</span> <span m='1765450'>you</span>
  <span m='1765510'>do</span> <span m='1765660'>it</span> <span m='1765720'>in</span>
  <span m='1765800'>c.</span> </p><p><span m='1766290'>I</span> <span m='1766320'>don't</span>
  <span m='1766410'>know</span> <span m='1766500'>if</span> <span m='1766560'>you're</span>
  <span m='1766650'>used</span> <span m='1766830'>to</span> <span m='1766950'>this.</span>
  <span m='1767190'>But</span> <span m='1767740'>if</span> <span m='1767880'>I</span>
  <span m='1767940'>take</span> <span m='1768150'>it</span> <span m='1768210'>a 1</span>
  <span m='1768450'>bit,</span> <span m='1768630'>I</span> <span m='1768690'>shift
  it</span> <span m='1769080'>over</span> <span m='1769230'>to</span> <span m='1769320'>here,</span>
  <span m='1769470'>and I</span> <span m='1769590'>subtract</span> <span m='1770100'>1.</span>
  <span m='1770310'>Then</span> <span m='1770460'>I</span> <span m='1770520'>get</span>
  <span m='1770640'>a</span> <span m='1770730'>whole</span> <span m='1770880'>bunch</span>
  <span m='1771120'>of</span> <span m='1771180'>1</span> <span m='1771360'>bits.</span>
  <span m='1771900'>And</span> <span m='1772020'>then</span> <span m='1772140'>you</span>
  <span m='1772590'>mask</span> <span m='1773040'>with</span> <span m='1773160'>that</span>
  <span m='1773730'>bit</span> <span m='1773910'>pattern.</span> <span m='1774660'>So
  I'm</span> <span m='1774880'>masking</span> <span m='1775350'>with</span> <span
  m='1775530'>1,</span> <span m='1775740'>1,</span> <span m='1775950'>1,</span> <span
  m='1776190'>1.</span> <span m='1776850'>Then</span> <span m='1777000'>I'll</span>
  <span m='1777090'>just</span> <span m='1777300'>get</span> <span m='1777450'>the</span>
  <span m='1777540'>low</span> <span m='1777720'>order</span> <span m='1777930'>bits.</span>
  </p><p><span m='1778890'>Computers</span> <span m='1779400'>do</span> <span m='1779550'>the</span>
  <span m='1779710'>super</span> <span m='1780170'>fast--</span> <span m='1780535'>way</span>
  <span m='1780900'>faster</span> <span m='1781320'>than</span> <span m='1781470'>integer</span>
  <span m='1781800'>division.</span> <span m='1782610'>Because</span> <span m='1783090'>this</span>
  <span m='1783240'>is</span> <span m='1783300'>just</span> <span m='1783450'>like</span>
  <span m='1783660'>routing</span> <span m='1784020'>bits</span> <span m='1784290'>around.</span>
  <span m='1784830'>So</span> <span m='1785610'>this</span> <span m='1785700'>is</span>
  <span m='1785790'>easy</span> <span m='1786030'>to</span> <span m='1786120'>do</span>
  <span m='1786360'>on</span> <span m='1786510'>a</span> <span m='1787020'>typical</span>
  <span m='1787350'>CPU.</span> <span m='1787770'>And</span> <span m='1787890'>this</span>
  <span m='1788070'>will</span> <span m='1788160'>be</span> <span m='1788280'>much</span>
  <span m='1788490'>faster</span> <span m='1788880'>than</span> <span m='1788970'>this</span>
  <span m='1789330'>code,</span> <span m='1789720'>even</span> <span m='1789960'>though</span>
  <span m='1790590'>looks</span> <span m='1790770'>like</span> <span m='1790920'>more</span>
  <span m='1791100'>operations,</span> <span m='1791820'>typically.</span> </p><p><span
  m='1793440'>All</span> <span m='1793500'>right.</span> <span m='1794010'>So</span>
  <span m='1794580'>fine.</span> <span m='1794940'>The</span> <span m='1795240'>point</span>
  <span m='1795450'>is,</span> <span m='1795600'>I</span> <span m='1795690'>can</span>
  <span m='1795810'>decompos</span> <span m='1796350'>x</span> <span m='1796620'>into</span>
  <span m='1797260'>c</span> <span m='1797700'>and</span> <span m='1797790'>i.</span>
  <span m='1798090'>Of</span> <span m='1798240'>course,</span> <span m='1798450'>I</span>
  <span m='1798540'>can</span> <span m='1798660'>also</span> <span m='1799560'>do</span>
  <span m='1799800'>the</span> <span m='1799890'>reverse.</span> <span m='1801410'>This
  would</span> <span m='1801530'>be c</span> <span m='1802110'>shifted</span> <span
  m='1802500'>left</span> <span m='1803460'>w</span> <span m='1803760'>over</span>
  <span m='1803970'>2,</span> <span m='1805260'>ord</span> <span m='1805680'>with</span>
  <span m='1806060'>i.</span> <span m='1810160'>It's a</span> <span m='1810210'>slight</span>
  <span m='1810510'>diversion.</span> </p><p><span m='1811920'>Now,</span> <span m='1812160'>I</span>
  <span m='1812250'>can</span> <span m='1812640'>tell</span> <span m='1812820'>you</span>
  <span m='1812970'>the</span> <span m='1813120'>actual</span> <span m='1813390'>recursion,</span>
  <span m='1815400'>and</span> <span m='1815520'>then</span> <span m='1815670'>talk</span>
  <span m='1815910'>about</span> <span m='1816090'>how</span> <span m='1816210'>to</span>
  <span m='1816330'>maintain</span> <span m='1816810'>it.</span> <span m='1819240'>So</span>
  <span m='1820660'>we're</span> <span m='1820740'>going</span> <span m='1820930'>to</span>
  <span m='1821100'>define</span> <span m='1821580'>a</span> <span m='1821760'>recursive</span>
  <span m='1823516'>Van</span> <span m='1823960'>Emde</span> <span m='1824340'>Boas</span>
  <span m='1824580'>structure</span> <span m='1826460'>of</span> <span m='1827130'>size</span>
  <span m='1828650'>u</span> <span m='1829350'>and</span> <span m='1829740'>word</span>
  <span m='1830070'>size</span> <span m='1831830'>w.</span> <span m='1837660'>And</span>
  <span m='1838050'>what</span> <span m='1838200'>it's</span> <span m='1838320'>going</span>
  <span m='1838440'>to</span> <span m='1838500'>look</span> <span m='1838680'>like</span>
  <span m='1839370'>is,</span> <span m='1839670'>we</span> <span m='1839790'>have</span>
  <span m='1840000'>a</span> <span m='1840060'>bunch</span> <span m='1840930'>of</span>
  <span m='1841260'>clusters,</span> <span m='1847570'>each</span> <span m='1847870'>of</span>
  <span m='1847960'>size</span> <span m='1848230'>square</span> <span m='1848330'>root</span>
  <span m='1848550'>of</span> <span m='1848640'>u.</span> </p><p><span m='1854820'>So</span>
  <span m='1855010'>this</span> <span m='1855160'>represents</span> <span m='1855610'>the</span>
  <span m='1855700'>first</span> <span m='1855960'>root</span> <span m='1856200'>u</span>
  <span m='1856420'>items.</span> <span m='1856810'>This</span> <span m='1856960'>represents</span>
  <span m='1857350'>the</span> <span m='1857440'>next</span> <span m='1857650'>root
  u</span> <span m='1857930'>items.</span> <span m='1858330'>This</span> <span m='1858460'>represents</span>
  <span m='1859270'>the</span> <span m='1859390'>last</span> <span m='1859660'>root</span>
  <span m='1859810'>u</span> <span m='1859960'>items,</span> <span m='1860380'>and</span>
  <span m='1860850'>so on.</span> <span m='1861100'>So that's</span> <span m='1861280'>the</span>
  <span m='1861430'>obvious</span> <span m='1861850'>recursion</span> <span m='1862780'>from</span>
  <span m='1862960'>this.</span> <span m='1863710'>So</span> <span m='1863830'>this</span>
  <span m='1863980'>is</span> <span m='1864070'>going</span> <span m='1864250'>to</span>
  <span m='1864370'>be</span> <span m='1864490'>a</span> <span m='1864540'>Van</span>
  <span m='1864730'>Emde</span> <span m='1864930'>Boas</span> <span m='1865540'>structure</span>
  <span m='1865960'>of</span> <span m='1866110'>size</span> <span m='1866420'>root</span>
  <span m='1866610'>u.</span> <span m='1867850'>And</span> <span m='1868000'>then</span>
  <span m='1868120'>we</span> <span m='1868240'>also</span> <span m='1868570'>have</span>
  <span m='1869470'>a</span> <span m='1869530'>structure</span> <span m='1869980'>up</span>
  <span m='1870160'>top,</span> <span m='1870920'>which</span> <span m='1871120'>is</span>
  <span m='1871300'>called</span> <span m='1871660'>the</span> <span m='1871810'>summary</span>
  <span m='1872260'>structure.</span> <span m='1874930'>And</span> <span m='1875020'>the</span>
  <span m='1875080'>idea</span> <span m='1875330'>is,</span> <span m='1875410'>it</span>
  <span m='1875530'>represents,</span> <span m='1876130'>for</span> <span m='1876280'>each</span>
  <span m='1876520'>of</span> <span m='1876580'>these</span> <span m='1876730'>clusters,</span>
  <span m='1879250'>is</span> <span m='1879430'>the</span> <span m='1879550'>cluster</span>
  <span m='1880120'>empty</span> <span m='1880510'>or</span> <span m='1880600'>not?</span>
  <span m='1881620'>Does</span> <span m='1881800'>this</span> <span m='1881950'>cluster</span>
  <span m='1882280'>have</span> <span m='1883210'>any</span> <span m='1883420'>items</span>
  <span m='1883750'>in</span> <span m='1883840'>it?</span> <span m='1884620'>Yes</span>
  <span m='1884860'>or</span> <span m='1884950'>no.</span> </p><p><span m='1885770'>If</span>
  <span m='1885850'>yes,</span> <span m='1886720'>then</span> <span m='1887680'>the</span>
  <span m='1887890'>name</span> <span m='1888220'>of</span> <span m='1888340'>this</span>
  <span m='1888490'>cluster</span> <span m='1888940'>is</span> <span m='1889150'>in</span>
  <span m='1889330'>the</span> <span m='1889450'>summary</span> <span m='1889810'>structure.</span>
  <span m='1891340'>So</span> <span m='1891490'>notice,</span> <span m='1891820'>by</span>
  <span m='1891970'>this</span> <span m='1892330'>hierarchical</span> <span m='1892900'>decomposition,</span>
  <span m='1893950'>the</span> <span m='1894070'>cluster</span> <span m='1894490'>number</span>
  <span m='1895300'>and</span> <span m='1895600'>the</span> <span m='1895750'>index</span>
  <span m='1897070'>are</span> <span m='1897340'>valid</span> <span m='1897850'>names</span>
  <span m='1898390'>of</span> <span m='1898600'>items</span> <span m='1898990'>within</span>
  <span m='1899350'>these</span> <span m='1899520'>substructures.</span> <span m='1900020'>And</span>
  <span m='1900520'>basically</span> <span m='1900790'>we're</span> <span m='1900910'>going</span>
  <span m='1901020'>to</span> <span m='1901090'>use</span> <span m='1901360'>the</span>
  <span m='1901990'>i</span> <span m='1902320'>part</span> <span m='1903250'>to</span>
  <span m='1903340'>talk</span> <span m='1903580'>about</span> <span m='1903760'>things</span>
  <span m='1904030'>within</span> <span m='1904240'>the</span> <span m='1904330'>clusters.</span>
  <span m='1904810'>And</span> <span m='1904870'>we're</span> <span m='1904940'>going</span>
  <span m='1905060'>to</span> <span m='1905140'>use</span> <span m='1905270'>the</span>
  <span m='1905350'>c</span> <span m='1905560'>part</span> <span m='1905830'>to</span>
  <span m='1905920'>talk</span> <span m='1906130'>about</span> <span m='1906400'>things</span>
  <span m='1906640'>within</span> <span m='1906850'>the</span> <span m='1906970'>summary</span>
  <span m='1907300'>structure.</span> <span m='1907780'>They're</span> <span m='1907900'>both</span>
  <span m='1908170'>numbers</span> <span m='1908560'>between</span> <span m='1908860'>0</span>
  <span m='1909130'>and</span> <span m='1909290'>root</span> <span m='1909520'>u minus</span>
  <span m='1909820'>1.</span> <span m='1910280'>And</span> <span m='1910740'>so</span>
  <span m='1911740'>we</span> <span m='1911860'>get</span> <span m='1912040'>this</span>
  <span m='1912940'>perspective.</span> </p><p><span m='1914170'>All</span> <span
  m='1914320'>right.</span> <span m='1914830'>So</span> <span m='1915910'>formally,</span>
  <span m='1917760'>or</span> <span m='1917860'>some</span> <span m='1918040'>notation,</span>
  <span m='1919840'>cluster</span> <span m='1920350'>i--</span> <span m='1921730'>so</span>
  <span m='1921850'>we're</span> <span m='1921910'>going</span> <span m='1922030'>to</span>
  <span m='1922090'>have</span> <span m='1922210'>an</span> <span m='1922330'>array</span>
  <span m='1922720'>of</span> <span m='1922840'>clusters.</span> <span m='1925300'>It</span>
  <span m='1925625'>is</span> <span m='1925950'>Van</span> <span m='1926110'>Emde</span>
  <span m='1926220'>Boas</span> <span m='1926590'>thing</span> <span m='1926940'>of</span>
  <span m='1927280'>size</span> <span m='1929140'>square</span> <span m='1929630'>root
  u,</span> <span m='1930470'>and</span> <span m='1930850'>word</span> <span m='1931090'>size</span>
  <span m='1933330'>w</span> <span m='1934720'>over</span> <span m='1935020'>2.</span>
  <span m='1935620'>This</span> <span m='1935740'>is</span> <span m='1935800'>slightly</span>
  <span m='1936280'>weird,</span> <span m='1936550'>because</span> <span m='1938170'>the</span>
  <span m='1938260'>machine,</span> <span m='1938840'>of</span> <span m='1938860'>course,</span>
  <span m='1939100'>its</span> <span m='1939250'>word</span> <span m='1939430'>size</span>
  <span m='1939760'>remains</span> <span m='1940180'>w.</span> <span m='1940630'>It</span>
  <span m='1940870'>doesn't</span> <span m='1941110'>get</span> <span m='1941260'>smaller</span>
  <span m='1941710'>as</span> <span m='1941820'>you</span> <span m='1941910'>recurse.</span>
  <span m='1942940'>We're</span> <span m='1943060'>not</span> <span m='1943150'>going</span>
  <span m='1943300'>to</span> <span m='1943360'>try</span> <span m='1943570'>to</span>
  <span m='1943720'>spread</span> <span m='1944140'>the</span> <span m='1944260'>parallelism</span>
  <span m='1944890'>around</span> <span m='1945190'>or</span> <span m='1945250'>whatever.</span>
  </p><p><span m='1947050'>But</span> <span m='1947230'>this</span> <span m='1947440'>is</span>
  <span m='1947500'>just</span> <span m='1947650'>a</span> <span m='1947680'>notational</span>
  <span m='1948250'>convenience.</span> <span m='1948700'>I</span> <span m='1948790'>want</span>
  <span m='1949000'>to</span> <span m='1949060'>say</span> <span m='1949420'>the</span>
  <span m='1949510'>word</span> <span m='1949690'>size</span> <span m='1950740'>conceptually</span>
  <span m='1951340'>goes</span> <span m='1951550'>down</span> <span m='1951740'>to</span>
  <span m='1951820'>w</span> <span m='1952060'>over</span> <span m='1952240'>2,</span>
  <span m='1952750'>so that</span> <span m='1952940'>this</span> <span m='1953290'>definition</span>
  <span m='1953830'>still</span> <span m='1954040'>makes</span> <span m='1954280'>sense.</span>
  <span m='1955270'>Because</span> <span m='1955480'>as</span> <span m='1956560'>I</span>
  <span m='1956710'>look</span> <span m='1956980'>at</span> <span m='1957420'>a</span>
  <span m='1957490'>smaller</span> <span m='1957850'>part</span> <span m='1958000'>of</span>
  <span m='1958060'>the</span> <span m='1958150'>word,</span> <span m='1958480'>in</span>
  <span m='1958600'>order</span> <span m='1958780'>to</span> <span m='1958900'>divide</span>
  <span m='1959230'>it</span> <span m='1959320'>in</span> <span m='1959410'>half,</span>
  <span m='1959800'>I</span> <span m='1959860'>have</span> <span m='1960100'>to</span>
  <span m='1960610'>shift</span> <span m='1961420'>right</span> <span m='1961690'>by</span>
  <span m='1961840'>a</span> <span m='1961900'>smaller</span> <span m='1962230'>amount.</span>
  <span m='1962950'>So</span> <span m='1963190'>that's</span> <span m='1963490'>the</span>
  <span m='1963910'>w</span> <span m='1964660'>that</span> <span m='1964780'>I'm</span>
  <span m='1964870'>passing</span> <span m='1965230'>into</span> <span m='1965440'>the</span>
  <span m='1965530'>structure.</span> </p><p><span m='1967330'>OK,</span> <span m='1967750'>and</span>
  <span m='1967870'>then</span> <span m='1968770'>v dot</span> <span m='1969160'>summary</span>
  <span m='1971230'>is</span> <span m='1972010'>same</span> <span m='1972340'>thing.</span>
  <span m='1972710'>It's</span> <span m='1972760'>also</span> <span m='1973870'>Van</span>
  <span m='1974070'>Emde</span> <span m='1974230'>Boa's</span> <span m='1974410'>thing</span>
  <span m='1974710'>of</span> <span m='1974830'>size</span> <span m='1975190'>root</span>
  <span m='1975590'>u.</span> <span m='1978110'>Then</span> <span m='1978460'>the</span>
  <span m='1978580'>one</span> <span m='1978850'>other</span> <span m='1979030'>clever</span>
  <span m='1979330'>idea,</span> <span m='1979840'>which</span> <span m='1979990'>makes</span>
  <span m='1980230'>all</span> <span m='1980350'>of</span> <span m='1980410'>this</span>
  <span m='1980560'>work,</span> <span m='1981550'>is</span> <span m='1981730'>that</span>
  <span m='1981910'>we</span> <span m='1982030'>store</span> <span m='1982300'>the</span>
  <span m='1982390'>minimum</span> <span m='1982840'>element</span> <span m='1984100'>in</span>
  <span m='1984230'>v</span> <span m='1984380'>dot</span> <span m='1984610'>min.</span>
  <span m='1990490'>And</span> <span m='1990730'>we</span> <span m='1990880'>do</span>
  <span m='1991030'>not</span> <span m='1991570'>store</span> <span m='1991900'>it</span>
  <span m='1991990'>recursively.</span> </p><p><span m='2000070'>So</span> <span m='2000180'>there's</span>
  <span m='2000390'>also</span> <span m='2001230'>one</span> <span m='2001560'>item</span>
  <span m='2001830'>here,</span> <span m='2002970'>size</span> <span m='2003180'>1,</span>
  <span m='2004230'>which</span> <span m='2004470'>is</span> <span m='2004650'>the</span>
  <span m='2004770'>min.</span> <span m='2007080'>It's</span> <span m='2007230'>just</span>
  <span m='2007350'>stored</span> <span m='2007620'>off</span> <span m='2007800'>to</span>
  <span m='2007890'>the</span> <span m='2008010'>side.</span> <span m='2008530'>It</span>
  <span m='2008550'>doesn't</span> <span m='2008910'>live</span> <span m='2009150'>in</span>
  <span m='2009240'>these</span> <span m='2009390'>structures.</span> <span m='2010590'>Every</span>
  <span m='2010950'>other</span> <span m='2011190'>item</span> <span m='2011970'>lives</span>
  <span m='2012300'>down</span> <span m='2012570'>here.</span> <span m='2013260'>And</span>
  <span m='2013380'>furthermore,</span> <span m='2014100'>if</span> <span m='2014220'>one</span>
  <span m='2014370'>of</span> <span m='2014430'>these</span> <span m='2014580'>is</span>
  <span m='2014670'>not</span> <span m='2014850'>empty,</span> <span m='2015120'>there's</span>
  <span m='2015300'>also</span> <span m='2015600'>a</span> <span m='2015660'>corresponding</span>
  <span m='2016200'>item</span> <span m='2016470'>up</span> <span m='2016620'>here.</span>
  <span m='2018750'>This</span> <span m='2019050'>turns</span> <span m='2019320'>out</span>
  <span m='2019440'>to</span> <span m='2019560'>be</span> <span m='2019680'>crucial</span>
  <span m='2020250'>to</span> <span m='2020400'>make</span> <span m='2020850'>a</span>
  <span m='2021265'>Van</span> <span m='2021680'>Emde</span> <span m='2021900'>Boas</span>
  <span m='2022290'>work.</span> <span m='2023880'>And</span> <span m='2024060'>then</span>
  <span m='2025250'>v dot</span> <span m='2025480'>max,</span> <span m='2025800'>we</span>
  <span m='2025950'>also</span> <span m='2026220'>need--</span> <span m='2026850'>but</span>
  <span m='2027090'>it</span> <span m='2027210'>can</span> <span m='2027450'>be</span>
  <span m='2027570'>stored</span> <span m='2027810'>recursively.</span> <span m='2028450'>So</span>
  <span m='2028590'>just</span> <span m='2028740'>think</span> <span m='2028920'>of</span>
  <span m='2029010'>it</span> <span m='2029070'>as</span> <span m='2029190'>a</span>
  <span m='2029250'>copy</span> <span m='2029640'>of</span> <span m='2029790'>whatever</span>
  <span m='2030090'>the</span> <span m='2030180'>maximum</span> <span m='2030570'>element</span>
  <span m='2030870'>is.</span> </p><p><span m='2032790'>OK,</span> <span m='2032970'>so</span>
  <span m='2033150'>in</span> <span m='2033210'>constant</span> <span m='2033570'>time,</span>
  <span m='2033810'>we</span> <span m='2033930'>can</span> <span m='2034050'>compute</span>
  <span m='2034320'>the</span> <span m='2034470'>min</span> <span m='2034590'>and</span>
  <span m='2034680'>compute</span> <span m='2034950'>the</span> <span m='2035070'>max.</span>
  <span m='2035520'>That's good.</span> <span m='2036150'>But</span> <span m='2036240'>then</span>
  <span m='2036420'>I</span> <span m='2036480'>claim</span> <span m='2036780'>also</span>
  <span m='2037050'>in</span> <span m='2037210'>log</span> <span m='2037740'>w</span>
  <span m='2038130'>time--</span> <span m='2038490'>log</span> <span m='2038700'>log</span>
  <span m='2039050'>u</span> <span m='2039150'>time--</span> <span m='2039840'>we</span>
  <span m='2039960'>can</span> <span m='2040110'>do</span> <span m='2040260'>insert,</span>
  <span m='2040720'>delete,</span> <span m='2040860'>predecessor,</span> <span m='2041430'>successor.</span>
  <span m='2048889'>So</span> <span m='2049159'>let's</span> <span m='2049400'>do</span>
  <span m='2049520'>that.</span> </p><p><span m='2062380'>This</span> <span m='2062600'>data</span>
  <span m='2062810'>structure--</span> <span m='2063500'>the</span> <span m='2063590'>solution</span>
  <span m='2064040'>is</span> <span m='2064730'>both</span> <span m='2064940'>simple</span>
  <span m='2065510'>and</span> <span m='2065719'>a</span> <span m='2065780'>little</span>
  <span m='2065989'>bit</span> <span m='2066139'>subtle.</span> <span m='2066620'>And</span>
  <span m='2066710'>so</span> <span m='2066860'>this</span> <span m='2067040'>will</span>
  <span m='2067130'>be</span> <span m='2067280'>one</span> <span m='2067429'>of</span>
  <span m='2067489'>the</span> <span m='2067580'>few</span> <span m='2067730'>times</span>
  <span m='2068030'>I'm</span> <span m='2068090'>going</span> <span m='2068210'>to</span>
  <span m='2068300'>write</span> <span m='2068510'>explicit</span> <span m='2069050'>pseudocode--</span>
  <span m='2070110'>say</span> <span m='2070250'>exactly</span> <span m='2070820'>how</span>
  <span m='2070940'>to</span> <span m='2071030'>maintain</span> <span m='2071870'>this</span>
  <span m='2072020'>data</span> <span m='2072230'>structure.</span> <span m='2073400'>It's</span>
  <span m='2073520'>short</span> <span m='2073850'>code,</span> <span m='2074210'>which</span>
  <span m='2074360'>is</span> <span m='2074480'>good.</span> <span m='2075320'>Each</span>
  <span m='2076250'>algorithm</span> <span m='2076570'>is</span> <span m='2076610'>only</span>
  <span m='2076850'>a</span> <span m='2076880'>few</span> <span m='2077060'>lines.</span>
  <span m='2078739'>But</span> <span m='2079250'>every</span> <span m='2079580'>line</span>
  <span m='2079880'>matters.</span> <span m='2080639'>So</span> <span m='2080810'>I</span>
  <span m='2080900'>want</span> <span m='2081050'>to</span> <span m='2081110'>write</span>
  <span m='2081260'>them</span> <span m='2081409'>down</span> <span m='2081690'>so</span>
  <span m='2081710'>I</span> <span m='2081770'>can</span> <span m='2081949'>talk</span>
  <span m='2082159'>about</span> <span m='2082370'>them.</span> <span m='2086040'>And</span>
  <span m='2086179'>with</span> <span m='2086300'>this</span> <span m='2086449'>new</span>
  <span m='2086840'>hierarchical</span> <span m='2087949'>notation,</span> <span m='2089030'>I</span>
  <span m='2089060'>think</span> <span m='2089270'>it's</span> <span m='2089540'>even</span>
  <span m='2089810'>easier</span> <span m='2090110'>to</span> <span m='2090199'>write</span>
  <span m='2090380'>these</span> <span m='2090530'>down.</span> <span m='2092460'>Let's</span>
  <span m='2094070'>see</span> <span m='2094300'>how</span> <span m='2094370'>I</span>
  <span m='2094489'>do.</span> </p><p><span m='2168510'>OK,</span> <span m='2168830'>so</span>
  <span m='2168920'>we'll</span> <span m='2169020'>start</span> <span m='2169220'>with</span>
  <span m='2169410'>the</span> <span m='2170210'>successor</span> <span m='2170690'>code.</span>
  <span m='2170960'>Predecessor is,</span> <span m='2171650'>of</span> <span m='2171740'>course,</span>
  <span m='2172070'>metric.</span> <span m='2188000'>And</span> <span m='2188380'>it</span>
  <span m='2188440'>basically</span> <span m='2188800'>has</span> <span m='2188980'>two</span>
  <span m='2189160'>cases.</span> <span m='2191720'>There's</span> <span m='2192030'>a</span>
  <span m='2192100'>special</span> <span m='2192490'>case</span> <span m='2192730'>in</span>
  <span m='2192820'>the</span> <span m='2192910'>beginning,</span> <span m='2193430'>which</span>
  <span m='2193540'>is,</span> <span m='2194140'>if</span> <span m='2194410'>the</span>
  <span m='2194560'>thing</span> <span m='2194770'>you're</span> <span m='2194890'>querying</span>
  <span m='2195340'>happens</span> <span m='2195700'>to</span> <span m='2195820'>be</span>
  <span m='2195940'>less</span> <span m='2196270'>than</span> <span m='2196450'>the</span>
  <span m='2196540'>minimum</span> <span m='2196990'>of</span> <span m='2197110'>the</span>
  <span m='2197230'>whole</span> <span m='2197410'>thing,</span> <span m='2198250'>then</span>
  <span m='2198370'>of</span> <span m='2198460'>course,</span> <span m='2198670'>the</span>
  <span m='2198760'>minimum</span> <span m='2199150'>is</span> <span m='2199270'>the</span>
  <span m='2199360'>successor.</span> </p><p><span m='2200670'>This</span> <span m='2200860'>has</span>
  <span m='2201040'>to</span> <span m='2201130'>be</span> <span m='2201220'>done</span>
  <span m='2201470'>specially,</span> <span m='2201850'>because</span> <span m='2202150'>the</span>
  <span m='2202270'>min</span> <span m='2202480'>is</span> <span m='2202570'>not</span>
  <span m='2202780'>stored</span> <span m='2203020'>recursively.</span> <span m='2204010'>And</span>
  <span m='2204070'>so</span> <span m='2204370'>you've</span> <span m='2204550'>got</span>
  <span m='2204700'>to</span> <span m='2204790'>check</span> <span m='2205090'>for</span>
  <span m='2205240'>the</span> <span m='2205420'>min</span> <span m='2205570'>every</span>
  <span m='2205780'>single</span> <span m='2206680'>level</span> <span m='2206970'>of</span>
  <span m='2207020'>the</span> <span m='2207120'>recursion.</span> <span m='2208450'>But</span>
  <span m='2208570'>that's</span> <span m='2208750'>just</span> <span m='2208920'>constant</span>
  <span m='2209210'>time.</span> <span m='2209500'>No</span> <span m='2209590'>big</span>
  <span m='2209740'>deal.</span> </p><p><span m='2210580'>Then</span> <span m='2210790'>the</span>
  <span m='2210880'>interesting</span> <span m='2211270'>things</span> <span m='2211440'>is,</span>
  <span m='2211660'>we</span> <span m='2211750'>have</span> <span m='2211990'>recursions</span>
  <span m='2213390'>in</span> <span m='2213520'>both</span> <span m='2213730'>sides--</span>
  <span m='2214420'>in</span> <span m='2214540'>both</span> <span m='2215380'>cases--</span>
  <span m='2216490'>but</span> <span m='2216730'>only</span> <span m='2217120'>one.</span>
  <span m='2218150'>The</span> <span m='2218500'>key</span> <span m='2218800'>is,</span>
  <span m='2219010'>we</span> <span m='2219130'>want</span> <span m='2219370'>this</span>
  <span m='2219520'>recurrence--</span> <span m='2220380'>T</span> <span m='2220660'>of</span>
  <span m='2220810'>u</span> <span m='2221380'>is</span> <span m='2221590'>1</span>
  <span m='2222130'>times</span> <span m='2222580'>T of</span> <span m='2222740'>root</span>
  <span m='2223060'>u</span> <span m='2224290'>plus</span> <span m='2225070'>order</span>
  <span m='2225310'>1.</span> <span m='2225820'>That</span> <span m='2226000'>gives</span>
  <span m='2226240'>us</span> <span m='2226370'>log</span> <span m='2226630'>log</span>
  <span m='2226840'>u.</span> <span m='2227460'>If</span> <span m='2227620'>there</span>
  <span m='2227730'>was</span> <span m='2227830'>a</span> <span m='2227920'>2</span>
  <span m='2228160'>here,</span> <span m='2228970'>we</span> <span m='2229090'>would</span>
  <span m='2229240'>get</span> <span m='2229570'>log</span> <span m='2229960'>u,</span>
  <span m='2230690'>which</span> <span m='2230930'>is</span> <span m='2231040'>no</span>
  <span m='2231190'>good.</span> <span m='2232760'>We</span> <span m='2232860'>want</span>
  <span m='2232930'>the</span> <span m='2233020'>one.</span> </p><p><span m='2233560'>So</span>
  <span m='2234220'>in</span> <span m='2234310'>one</span> <span m='2234520'>case,</span>
  <span m='2234790'>we</span> <span m='2234910'>call</span> <span m='2235140'>successor</span>
  <span m='2235690'>on</span> <span m='2235870'>a</span> <span m='2235930'>cluster.</span>
  <span m='2236810'>In</span> <span m='2236950'>the</span> <span m='2237040'>other</span>
  <span m='2237220'>case,</span> <span m='2237650'>we</span> <span m='2237670'>call</span>
  <span m='2237910'>successor</span> <span m='2238630'>on</span> <span m='2238810'>the</span>
  <span m='2238900'>summary</span> <span m='2240610'>structure.</span> <span m='2242230'>But</span>
  <span m='2242470'>we</span> <span m='2242620'>don't</span> <span m='2242830'>want</span>
  <span m='2242980'>to</span> <span m='2243070'>do</span> <span m='2243220'>both.</span>
  <span m='2244840'>So</span> <span m='2244990'>let's</span> <span m='2245170'>just</span>
  <span m='2245320'>think</span> <span m='2245470'>about,</span> <span m='2245770'>intuitively,</span>
  <span m='2246370'>what's</span> <span m='2246580'>going</span> <span m='2246850'>on.</span>
  </p><p><span m='2247900'>We've</span> <span m='2248080'>got</span> <span m='2248290'>this--</span>
  <span m='2249420'>I guess I</span> <span m='2249490'>can</span> <span m='2249610'>do</span>
  <span m='2249730'>it</span> <span m='2249820'>in</span> <span m='2249940'>the same</span>
  <span m='2250300'>picture.</span> <span m='2251200'>We've got</span> <span m='2251370'>this</span>
  <span m='2251480'>summary</span> <span m='2252010'>and</span> <span m='2252220'>a</span>
  <span m='2252280'>bunch</span> <span m='2252460'>of</span> <span m='2252520'>clusters.</span>
  <span m='2254710'>And</span> <span m='2254980'>let's</span> <span m='2255160'>say</span>
  <span m='2255340'>you</span> <span m='2255490'>want</span> <span m='2255670'>to</span>
  <span m='2255730'>compute,</span> <span m='2256630'>what's</span> <span m='2256870'>the</span>
  <span m='2256960'>successor</span> <span m='2257560'>of</span> <span m='2257860'>this</span>
  <span m='2258070'>item?</span> <span m='2259040'>So</span> <span m='2259570'>via</span>
  <span m='2259650'>this</span> <span m='2259780'>transformation,</span> <span m='2260440'>we</span>
  <span m='2260530'>compute</span> <span m='2260830'>which</span> <span m='2261010'>cluster</span>
  <span m='2261370'>it</span> <span m='2261430'>lives</span> <span m='2261670'>in</span>
  <span m='2262450'>and</span> <span m='2262840'>where</span> <span m='2263140'>it</span>
  <span m='2263230'>is</span> <span m='2263440'>within</span> <span m='2263650'>the</span>
  <span m='2263740'>cluster.</span> <span m='2264100'>That's</span> <span m='2264340'>i.</span>
  <span m='2265040'>So it's</span> <span m='2265450'>some</span> <span m='2265660'>item</span>
  <span m='2265960'>here.</span> </p><p><span m='2266560'>Now,</span> <span m='2266740'>it
  could be</span> <span m='2267490'>the</span> <span m='2267580'>successor</span>
  <span m='2268120'>is</span> <span m='2268420'>inside</span> <span m='2268930'>the</span>
  <span m='2269020'>same</span> <span m='2269260'>cluster.</span> <span m='2269650'>Maybe</span>
  <span m='2269860'>there's</span> <span m='2270010'>an</span> <span m='2270100'>item</span>
  <span m='2270430'>right</span> <span m='2270580'>there.</span> <span m='2271870'>Then</span>
  <span m='2272290'>want</span> <span m='2272470'>to</span> <span m='2272530'>recurse</span>
  <span m='2272950'>in</span> <span m='2273100'>here.</span> <span m='2274330'>Or</span>
  <span m='2274570'>it</span> <span m='2274630'>could</span> <span m='2274840'>be,</span>
  <span m='2275760'>it's</span> <span m='2275950'>in</span> <span m='2276100'>some</span>
  <span m='2276340'>future</span> <span m='2276640'>cluster.</span> </p><p><span m='2280570'>Let's</span>
  <span m='2280790'>do</span> <span m='2280900'>the</span> <span m='2280990'>first</span>
  <span m='2281200'>case.</span> <span m='2282910'>If,</span> <span m='2284560'>basically,</span>
  <span m='2284890'>we</span> <span m='2285070'>are</span> <span m='2285160'>less</span>
  <span m='2285490'>than</span> <span m='2285610'>the</span> <span m='2285730'>max</span>
  <span m='2286630'>of</span> <span m='2286780'>our</span> <span m='2286870'>own</span>
  <span m='2287110'>cluster,</span> <span m='2288190'>that</span> <span m='2288370'>means</span>
  <span m='2288640'>that</span> <span m='2288970'>the</span> <span m='2289840'>answer</span>
  <span m='2290200'>is</span> <span m='2290320'>in</span> <span m='2290440'>there.</span>
  <span m='2292120'>Figure</span> <span m='2292420'>out</span> <span m='2292480'>what</span>
  <span m='2292660'>the</span> <span m='2292780'>max</span> <span m='2293110'>is</span>
  <span m='2293320'>in</span> <span m='2293410'>this</span> <span m='2293560'>structure--</span>
  <span m='2293980'>the</span> <span m='2294090'>rightmost</span> <span m='2295420'>item</span>
  <span m='2295780'>in</span> <span m='2295900'>s</span> <span m='2296560'>that's</span>
  <span m='2296740'>inside</span> <span m='2297130'>this</span> <span m='2297280'>cluster</span>
  <span m='2297640'>c.</span> <span m='2298780'>This</span> <span m='2299020'>is c.</span>
  </p><p><span m='2301300'>If</span> <span m='2301630'>our</span> <span m='2301870'>index</span>
  <span m='2302290'>is</span> <span m='2302380'>less</span> <span m='2302620'>than</span>
  <span m='2302740'>the</span> <span m='2302860'>max's</span> <span m='2303270'>index,</span>
  <span m='2304450'>then</span> <span m='2305290'>if</span> <span m='2305470'>we</span>
  <span m='2305590'>recurse</span> <span m='2305845'>in here,</span> <span m='2306310'>we</span>
  <span m='2306490'>will</span> <span m='2306640'>find</span> <span m='2306880'>an</span>
  <span m='2306970'>answer.</span> <span m='2308470'>If</span> <span m='2308620'>we're</span>
  <span m='2308740'>bigger</span> <span m='2309040'>than</span> <span m='2309190'>the</span>
  <span m='2309280'>max,</span> <span m='2309550'>then</span> <span m='2309640'>we</span>
  <span m='2309760'>won't</span> <span m='2309900'>find</span> <span m='2310090'>an</span>
  <span m='2310180'>answer</span> <span m='2310420'>down</span> <span m='2310600'>here.</span>
  <span m='2310720'>We</span> <span m='2310840'>have</span> <span m='2310960'>to</span>
  <span m='2311050'>recurse</span> <span m='2311320'>somewhere</span> <span m='2311680'>else.</span>
  <span m='2312770'>So</span> <span m='2313710'>that's</span> <span m='2313900'>what</span>
  <span m='2313990'>we</span> <span m='2314080'>do.</span> </p><p><span m='2314890'>If
  we're</span> <span m='2315190'>less</span> <span m='2315430'>than</span> <span m='2315520'>the</span>
  <span m='2315610'>max,</span> <span m='2317050'>then</span> <span m='2317230'>we</span>
  <span m='2317350'>just</span> <span m='2317500'>recursively</span> <span m='2318190'>find</span>
  <span m='2318430'>the</span> <span m='2318490'>successor</span> <span m='2319120'>of</span>
  <span m='2319390'>our</span> <span m='2319600'>index</span> <span m='2320110'>within</span>
  <span m='2320440'>cluster</span> <span m='2320830'>c.</span> <span m='2322090'>And</span>
  <span m='2323530'>we</span> <span m='2323650'>have</span> <span m='2323770'>to</span>
  <span m='2324280'>add</span> <span m='2324550'>on</span> <span m='2324760'>the</span>
  <span m='2324880'>c</span> <span m='2325210'>in</span> <span m='2325330'>front.</span>
  <span m='2325630'>Because</span> <span m='2326170'>successor</span> <span m='2326680'>within</span>
  <span m='2326980'>this</span> <span m='2327130'>cluster</span> <span m='2327460'>will</span>
  <span m='2327550'>only</span> <span m='2328720'>give</span> <span m='2328920'>an</span>
  <span m='2329020'>index</span> <span m='2329410'>within</span> <span m='2329650'>the</span>
  <span m='2329770'>cluster.</span> <span m='2330370'>And</span> <span m='2330460'>we</span>
  <span m='2330550'>have</span> <span m='2330670'>to</span> <span m='2331020'>prepend</span>
  <span m='2331430'>this</span> <span m='2331570'>c</span> <span m='2331780'>part</span>
  <span m='2332350'>to</span> <span m='2332470'>give</span> <span m='2332620'>a</span>
  <span m='2332680'>global</span> <span m='2332980'>name.</span> <span m='2334620'>OK,</span>
  <span m='2334780'>so</span> <span m='2334960'>that's</span> <span m='2335140'>case</span>
  <span m='2335380'>1.</span> <span m='2336070'>Very</span> <span m='2336280'>easy.</span>
  </p><p><span m='2337520'>The</span> <span m='2337570'>other</span> <span m='2337750'>case</span>
  <span m='2338170'>is</span> <span m='2338350'>where</span> <span m='2338530'>we're</span>
  <span m='2338980'>slightly</span> <span m='2339400'>clever,</span> <span m='2340730'>in</span>
  <span m='2340810'>some</span> <span m='2341020'>sense.</span> <span m='2341590'>We</span>
  <span m='2341680'>say,</span> <span m='2341900'>OK,</span> <span m='2343140'>well,</span>
  <span m='2343790'>if</span> <span m='2344480'>there's</span> <span m='2344650'>no</span>
  <span m='2344920'>successor</span> <span m='2345400'>within</span> <span m='2345640'>the</span>
  <span m='2345730'>cluster,</span> <span m='2346630'>maybe</span> <span m='2346870'>it's</span>
  <span m='2346990'>in</span> <span m='2347080'>the</span> <span m='2347170'>next</span>
  <span m='2347380'>cluster.</span> <span m='2348040'>Of</span> <span m='2348160'>course,</span>
  <span m='2348340'>that</span> <span m='2348460'>one</span> <span m='2348580'>might</span>
  <span m='2348730'>be</span> <span m='2348880'>empty,</span> <span m='2349180'>in</span>
  <span m='2349270'>which</span> <span m='2349420'>case,</span> <span m='2349660'>it's</span>
  <span m='2349780'>in</span> <span m='2349870'>the</span> <span m='2349930'>next</span>
  <span m='2350140'>cluster.</span> <span m='2350480'>But</span> <span m='2350590'>that</span>
  <span m='2350740'>one</span> <span m='2350860'>might</span> <span m='2351040'>be</span>
  <span m='2351130'>empty,</span> <span m='2351910'>so</span> <span m='2352030'>look</span>
  <span m='2352150'>at</span> <span m='2352210'>the</span> <span m='2352300'>next</span>
  <span m='2352510'>cluster.</span> <span m='2353050'>We</span> <span m='2353170'>need</span>
  <span m='2353320'>to</span> <span m='2353410'>find,</span> <span m='2353690'>what</span>
  <span m='2353890'>is</span> <span m='2354040'>the</span> <span m='2354160'>next</span>
  <span m='2354400'>non-empty</span> <span m='2354820'>cluster?</span> <span m='2355630'>For</span>
  <span m='2355780'>that,</span> <span m='2356050'>we</span> <span m='2356140'>use</span>
  <span m='2356320'>the</span> <span m='2356410'>summary</span> <span m='2358030'>structure.</span>
  </p><p><span m='2359020'>So</span> <span m='2359170'>we</span> <span m='2359260'>go</span>
  <span m='2359470'>up</span> <span m='2360160'>to</span> <span m='2360340'>position</span>
  <span m='2360850'>c</span> <span m='2361150'>here.</span> <span m='2362230'>We</span>
  <span m='2362290'>say,</span> <span m='2362600'>OK,</span> <span m='2362870'>what</span>
  <span m='2363010'>is</span> <span m='2363160'>the</span> <span m='2363310'>next</span>
  <span m='2363610'>non-empty</span> <span m='2364240'>structure</span> <span m='2364660'>after</span>
  <span m='2364930'>c?</span> <span m='2365400'>Because</span> <span m='2365590'>we</span>
  <span m='2365680'>know</span> <span m='2366850'>that's</span> <span m='2367120'>going</span>
  <span m='2367300'>to</span> <span m='2367360'>be</span> <span m='2367750'>where</span>
  <span m='2367950'>our</span> <span m='2368020'>answer</span> <span m='2368320'>lives</span>
  <span m='2369070'>for</span> <span m='2369160'>successor.</span> <span m='2370510'>So</span>
  <span m='2370690'>that's</span> <span m='2370870'>going</span> <span m='2370990'>to</span>
  <span m='2371050'>give</span> <span m='2371260'>us,</span> <span m='2371440'>basically,</span>
  <span m='2371770'>a</span> <span m='2371830'>pointer</span> <span m='2372400'>to</span>
  <span m='2372550'>one</span> <span m='2372730'>of</span> <span m='2372790'>these</span>
  <span m='2372930'>structures--</span> <span m='2373940'>c</span> <span m='2374230'>prime,</span>
  <span m='2375680'>which--</span> <span m='2376750'>all</span> <span m='2377050'>these</span>
  <span m='2377260'>guys</span> <span m='2377530'>are</span> <span m='2377800'>empty.</span>
  <span m='2378260'>And</span> <span m='2378280'>so</span> <span m='2378460'>there's</span>
  <span m='2378610'>no</span> <span m='2378730'>successor</span> <span m='2379180'>in</span>
  <span m='2379270'>there.</span> <span m='2379790'>The</span> <span m='2379930'>successor</span>
  <span m='2380200'>is</span> <span m='2380470'>then</span> <span m='2380680'>the</span>
  <span m='2380800'>min</span> <span m='2381310'>in</span> <span m='2381460'>this</span>
  <span m='2381570'>structure.</span> </p><p><span m='2383150'>So</span> <span m='2383320'>that's</span>
  <span m='2383470'>all</span> <span m='2383590'>we</span> <span m='2383710'>do.</span>
  <span m='2384160'>Compute</span> <span m='2384460'>the</span> <span m='2384550'>successor</span>
  <span m='2385300'>of</span> <span m='2385480'>c</span> <span m='2385840'>in</span>
  <span m='2385960'>the</span> <span m='2386050'>summary</span> <span m='2386440'>structure.</span>
  <span m='2388130'>And</span> <span m='2388180'>then,</span> <span m='2389110'>in</span>
  <span m='2389350'>that</span> <span m='2389740'>cluster,</span> <span m='2390750'>c</span>
  <span m='2391190'>prime,</span> <span m='2391900'>find</span> <span m='2392170'>the</span>
  <span m='2392260'>min,</span> <span m='2392470'>which</span> <span m='2392590'>takes</span>
  <span m='2392800'>constant</span> <span m='2393210'>time,</span> <span m='2394240'>and</span>
  <span m='2394390'>then</span> <span m='2396100'>prepend</span> <span m='2396400'>c</span>
  <span m='2396700'>prime</span> <span m='2397390'>to</span> <span m='2397510'>that</span>
  <span m='2397690'>to</span> <span m='2397810'>get</span> <span m='2397960'>a</span>
  <span m='2397990'>global</span> <span m='2398290'>name.</span> <span m='2399060'>And</span>
  <span m='2399160'>that's</span> <span m='2399400'>our</span> <span m='2400810'>successor.</span>
  <span m='2401320'>Yeah,</span> <span m='2401560'>question.</span> </p><p><span m='2401970'>AUDIENCE:</span>
  <span m='2402134'>Could</span> <span m='2402298'>you</span> <span m='2402464'>repeat</span>
  <span m='2402958'>why</span> <span m='2403946'>min</span> <span m='2404440'>is not</span>
  <span m='2405428'>recursive?</span> <span m='2405922'>Because</span> <span m='2406416'>looking
  at this,</span> <span m='2406910'>it looks like</span> <span m='2407404'>all these</span>
  <span m='2407898'>smaller</span> <span m='2408392'>[INAUDIBLE]</span> <span m='2409380'>trees</span>
  <span m='2409874'>have</span> <span m='2410368'>[INAUDIBLE]</span> </p><p><span
  m='2412850'>ERIK DEMAINE:</span> <span m='2413065'>Ah,</span> <span m='2413280'>OK.</span>
  <span m='2413590'>Sorry.</span> <span m='2414295'>The</span> <span m='2414700'>question</span>
  <span m='2415030'>is,</span> <span m='2415150'>why</span> <span m='2415450'>is</span>
  <span m='2415570'>the</span> <span m='2415660'>minimum</span> <span m='2416050'>not</span>
  <span m='2416170'>recursive?</span> <span m='2416680'>The</span> <span m='2416830'>answer</span>
  <span m='2417040'>to</span> <span m='2417160'>that</span> <span m='2417250'>question</span>
  <span m='2417580'>is</span> <span m='2417670'>not</span> <span m='2417880'>yet</span>
  <span m='2418060'>clear.</span> <span m='2418380'>It</span> <span m='2418470'>will</span>
  <span m='2418550'>have</span> <span m='2418660'>to</span> <span m='2418720'>do</span>
  <span m='2418810'>with</span> <span m='2418900'>insertion.</span> <span m='2419890'>But</span>
  <span m='2420220'>I</span> <span m='2420310'>think</span> <span m='2421060'>what</span>
  <span m='2421270'>exactly</span> <span m='2421630'>this</span> <span m='2421750'>means,</span>
  <span m='2422060'>I</span> <span m='2422170'>maybe</span> <span m='2422410'>didn't</span>
  <span m='2422830'>state</span> <span m='2423220'>carefully</span> <span m='2423580'>enough.</span>
  </p><p><span m='2425440'>Every</span> <span m='2425970'>Van Emde</span> <span m='2426235'>Boas</span>
  <span m='2426500'>structure</span> <span m='2426880'>has</span> <span m='2427210'>a
  min--</span> <span m='2428020'>stores</span> <span m='2428380'>a</span> <span m='2428500'>min.</span>
  <span m='2429460'>In</span> <span m='2429940'>that</span> <span m='2430060'>sense,</span>
  <span m='2430780'>this</span> <span m='2430990'>is</span> <span m='2431140'>done--</span>
  <span m='2432080'>that's</span> <span m='2432610'>funny--</span> <span m='2433390'>not</span>
  <span m='2433600'>so</span> <span m='2433810'>recursively.</span> <span m='2434320'>But</span>
  <span m='2434470'>every one</span> <span m='2434970'>stores</span> <span m='2435340'>it.</span>
  <span m='2436180'>The</span> <span m='2436300'>point</span> <span m='2436570'>is</span>
  <span m='2436750'>that</span> <span m='2436960'>this</span> <span m='2437440'>item</span>
  <span m='2438550'>doesn't</span> <span m='2438850'>get</span> <span m='2439060'>put</span>
  <span m='2439300'>into</span> <span m='2439570'>one</span> <span m='2439750'>of</span>
  <span m='2439810'>these</span> <span m='2439990'>clusters</span> <span m='2440740'>recursively--</span>
  <span m='2441820'>just</span> <span m='2442030'>the</span> <span m='2442180'>item.</span>
  </p><p><span m='2442670'>But</span> <span m='2442750'>each</span> <span m='2442900'>of</span>
  <span m='2442990'>these</span> <span m='2443200'>has</span> <span m='2443410'>its</span>
  <span m='2443530'>own</span> <span m='2443770'>min,</span> <span m='2444310'>which</span>
  <span m='2444490'>is</span> <span m='2444580'>then</span> <span m='2444730'>not</span>
  <span m='2444970'>stored</span> <span m='2445210'>at</span> <span m='2445300'>the</span>
  <span m='2445390'>next</span> <span m='2445600'>level</span> <span m='2445840'>down.</span>
  <span m='2446620'>And</span> <span m='2446800'>each</span> <span m='2446950'>of</span>
  <span m='2447010'>those</span> <span m='2447280'>has</span> <span m='2447520'>its</span>
  <span m='2447700'>own</span> <span m='2447880'>min,</span> <span m='2448240'>which</span>
  <span m='2448420'>is</span> <span m='2448540'>not</span> <span m='2448720'>stored</span>
  <span m='2448990'>at</span> <span m='2449140'>the</span> <span m='2449290'>next</span>
  <span m='2449500'>level</span> <span m='2449710'>down.</span> <span m='2450190'>Think</span>
  <span m='2450370'>of</span> <span m='2450460'>this</span> <span m='2450610'>as</span>
  <span m='2450730'>kind</span> <span m='2450880'>of</span> <span m='2450970'>like</span>
  <span m='2451090'>a</span> <span m='2451150'>little</span> <span m='2451360'>buffer.</span>
  </p><p><span m='2452830'>The</span> <span m='2452950'>first</span> <span m='2453220'>time</span>
  <span m='2453430'>I</span> <span m='2453520'>insert</span> <span m='2453760'>it
  into</span> <span m='2453910'>the</span> <span m='2454030'>structure,</span> <span
  m='2454360'>I</span> <span m='2454420'>just</span> <span m='2454570'>stick</span>
  <span m='2454810'>it</span> <span m='2454900'>into</span> <span m='2455010'>the</span>
  <span m='2455130'>min.</span> <span m='2455270'>I</span> <span m='2455350'>don't</span>
  <span m='2455560'>touch</span> <span m='2455800'>anything</span> <span m='2456190'>else.</span>
  <span m='2457810'>You'll</span> <span m='2457990'>see</span> <span m='2458170'>when</span>
  <span m='2458320'>we</span> <span m='2458380'>get</span> <span m='2458500'>to</span>
  <span m='2458590'>the</span> <span m='2458650'>insertion</span> <span m='2459010'>algorithm.</span>
  <span m='2459870'>But</span> <span m='2460580'>it</span> <span m='2460780'>sort</span>
  <span m='2460960'>of</span> <span m='2461020'>slows</span> <span m='2461410'>things</span>
  <span m='2461650'>down</span> <span m='2461860'>from</span> <span m='2462010'>trickling.</span>
  </p><p><span m='2462430'>AUDIENCE:</span> <span m='2462670'>So</span> <span m='2464350'>putting
  that</span> <span m='2464830'>min,</span> <span m='2465310'>is</span> <span m='2465790'>that
  what</span> <span m='2466270'>prevents</span> <span m='2466750'>from--</span> </p><p><span
  m='2467230'>ERIK DEMAINE:</span> <span m='2467710'>That</span> <span m='2467860'>will</span>
  <span m='2468040'>prevent</span> <span m='2468400'>the</span> <span m='2468520'>insertion</span>
  <span m='2469000'>from</span> <span m='2469210'>doing</span> <span m='2469420'>two</span>
  <span m='2469600'>recursions</span> <span m='2470080'>instead</span> <span m='2470320'>of</span>
  <span m='2470380'>one.</span> <span m='2471250'>So</span> <span m='2471430'>we'll</span>
  <span m='2471550'>see</span> <span m='2471670'>that</span> <span m='2471850'>in</span>
  <span m='2471940'>a</span> <span m='2472000'>moment.</span> <span m='2472300'>At</span>
  <span m='2472640'>this</span> <span m='2472720'>point,</span> <span m='2473060'>just</span>
  <span m='2473220'>successor</span> <span m='2474100'>is</span> <span m='2474430'>very</span>
  <span m='2474670'>clear.</span> <span m='2475420'>This</span> <span m='2475600'>would</span>
  <span m='2475750'>work</span> <span m='2475990'>whether</span> <span m='2476200'>the</span>
  <span m='2476290'>min is</span> <span m='2476510'>stored</span> <span m='2476770'>recursively</span>
  <span m='2477280'>or</span> <span m='2477370'>not.</span> <span m='2477920'>But</span>
  <span m='2478570'>we</span> <span m='2478660'>need</span> <span m='2478810'>to</span>
  <span m='2478900'>know</span> <span m='2479020'>what</span> <span m='2479140'>the</span>
  <span m='2479230'>min</span> <span m='2479680'>is of</span> <span m='2479830'>every</span>
  <span m='2479980'>structure,</span> <span m='2480440'>and we</span> <span m='2480460'>need</span>
  <span m='2480610'>to</span> <span m='2480670'>know</span> <span m='2480790'>the</span>
  <span m='2480880'>max</span> <span m='2481120'>of</span> <span m='2481220'>every</span>
  <span m='2481390'>structure.</span> <span m='2483640'>At</span> <span m='2483700'>this</span>
  <span m='2483820'>point,</span> <span m='2484030'>you</span> <span m='2484120'>could</span>
  <span m='2484280'>just</span> <span m='2484520'>say</span> <span m='2484790'>that</span>
  <span m='2485120'>min</span> <span m='2485300'>and</span> <span m='2485390'>max</span>
  <span m='2485630'>could</span> <span m='2485720'>be</span> <span m='2485840'>copies--</span>
  <span m='2486290'>no</span> <span m='2486440'>big</span> <span m='2486590'>deal--</span>
  <span m='2487610'>and</span> <span m='2487910'>we'd</span> <span m='2488060'>be</span>
  <span m='2488180'>happy.</span> <span m='2488550'>And of</span> <span m='2488670'>course,</span>
  <span m='2488870'>predecessor</span> <span m='2489410'>does</span> <span m='2489620'>the</span>
  <span m='2489680'>same</span> <span m='2489890'>thing.</span> </p><p><span m='2491410'>So</span>
  <span m='2491690'>the</span> <span m='2491810'>slight</span> <span m='2492050'>cleverness</span>
  <span m='2492530'>here</span> <span m='2492640'>is</span> <span m='2492710'>that</span>
  <span m='2492800'>we</span> <span m='2492920'>use</span> <span m='2493100'>the</span>
  <span m='2493190'>min</span> <span m='2493400'>here.</span> <span m='2493710'>This</span>
  <span m='2493790'>could</span> <span m='2494000'>have</span> <span m='2494090'>been</span>
  <span m='2494270'>a</span> <span m='2494300'>successor</span> <span m='2494780'>operation</span>
  <span m='2495650'>with</span> <span m='2495830'>minus</span> <span m='2496160'>infinity</span>
  <span m='2496640'>as</span> <span m='2496760'>the</span> <span m='2496850'>query.</span>
  <span m='2497840'>But</span> <span m='2498710'>that</span> <span m='2499040'>would</span>
  <span m='2499220'>be</span> <span m='2499340'>two</span> <span m='2499550'>recursions.</span>
  <span m='2500120'>We</span> <span m='2500210'>can</span> <span m='2500390'>only</span>
  <span m='2500840'>afford one.</span> <span m='2501170'>Fortunately,</span> <span
  m='2501650'>it's</span> <span m='2501800'>the</span> <span m='2501920'>min</span>
  <span m='2502100'>item</span> <span m='2502340'>that</span> <span m='2502490'>we</span>
  <span m='2502580'>need.</span> <span m='2502970'>So</span> <span m='2504050'>we're</span>
  <span m='2504170'>done</span> <span m='2504440'>with</span> <span m='2504860'>successor.</span>
  </p><p><span m='2505740'>That was the</span> <span m='2505940'>easy</span> <span
  m='2506210'>case--</span> <span m='2506870'>or</span> <span m='2506960'>the</span>
  <span m='2507020'>easy</span> <span m='2507260'>one.</span> <span m='2507800'>Insert</span>
  <span m='2508280'>is</span> <span m='2508430'>slightly</span> <span m='2509240'>harder.</span>
  <span m='2510710'>Delete</span> <span m='2511940'>is</span> <span m='2512240'>just</span>
  <span m='2512420'>slightly</span> <span m='2512750'>messier.</span> <span m='2513065'>It's</span>
  <span m='2513380'>basically</span> <span m='2513770'>the</span> <span m='2513890'>same</span>
  <span m='2514190'>as</span> <span m='2514280'>insert.</span> <span m='2519610'>So</span>
  <span m='2520700'>insert--</span> <span m='2521720'>let</span> <span m='2521870'>me</span>
  <span m='2522860'>write</span> <span m='2523070'>the</span> <span m='2523160'>code</span>
  <span m='2523430'>again.</span> </p><p><span m='2597170'>Insertion</span> <span
  m='2598030'>also</span> <span m='2598420'>has</span> <span m='2598990'>two</span>
  <span m='2599230'>main</span> <span m='2599500'>cases.</span> <span m='2600340'>There's</span>
  <span m='2600550'>this</span> <span m='2600760'>case,</span> <span m='2601450'>and</span>
  <span m='2601630'>the</span> <span m='2601780'>other</span> <span m='2601930'>case.</span>
  <span m='2602620'>But</span> <span m='2602890'>there's</span> <span m='2603070'>no</span>
  <span m='2603250'>else</span> <span m='2603550'>here.</span> <span m='2603850'>This</span>
  <span m='2604030'>happens</span> <span m='2604330'>in</span> <span m='2604420'>both</span>
  <span m='2604630'>cases.</span> <span m='2605650'>And</span> <span m='2605800'>then</span>
  <span m='2605950'>there's</span> <span m='2606100'>some</span> <span m='2606760'>just</span>
  <span m='2607000'>annoying</span> <span m='2607330'>little</span> <span m='2607510'>details</span>
  <span m='2607900'>at</span> <span m='2607960'>the</span> <span m='2608080'>beginning.</span>
  </p><p><span m='2608800'>Just</span> <span m='2608920'>like</span> <span m='2609070'>over</span>
  <span m='2609280'>here,</span> <span m='2609460'>we</span> <span m='2609550'>had</span>
  <span m='2609640'>to</span> <span m='2609730'>check</span> <span m='2609940'>for</span>
  <span m='2610060'>the</span> <span m='2610200'>min</span> <span m='2610330'>specially,</span>
  <span m='2611410'>here,</span> <span m='2611710'>we've</span> <span m='2611830'>got</span>
  <span m='2612010'>to</span> <span m='2612550'>update</span> <span m='2612850'>the</span>
  <span m='2612940'>min</span> <span m='2613150'>and</span> <span m='2613300'>max.</span>
  <span m='2614170'>And</span> <span m='2614440'>there's</span> <span m='2614620'>a</span>
  <span m='2614680'>special</span> <span m='2615040'>case,</span> <span m='2615580'>which</span>
  <span m='2616070'>I</span> <span m='2616150'>haven't</span> <span m='2616480'>mentioned</span>
  <span m='2616840'>yet.</span> <span m='2617836'>v</span> <span m='2618200'>dot</span>
  <span m='2618610'>min--</span> <span m='2621430'>special</span> <span m='2621850'>case
  is,</span> <span m='2622180'>it</span> <span m='2622270'>will</span> <span m='2622390'>be</span>
  <span m='2622630'>this</span> <span m='2623050'>value,</span> <span m='2623590'>none,</span>
  <span m='2624700'>if</span> <span m='2625270'>the</span> <span m='2625360'>whole</span>
  <span m='2625570'>structure</span> <span m='2625990'>is</span> <span m='2626080'>empty.</span>
  <span m='2628480'>So</span> <span m='2628660'>this</span> <span m='2628840'>is</span>
  <span m='2631000'>the</span> <span m='2631330'>obvious</span> <span m='2631690'>way</span>
  <span m='2631840'>to</span> <span m='2631960'>tell</span> <span m='2632110'>whether</span>
  <span m='2632320'>a</span> <span m='2632350'>structure</span> <span m='2632650'>is</span>
  <span m='2632740'>empty</span> <span m='2633010'>and has</span> <span m='2633220'>no</span>
  <span m='2633460'>min.</span> <span m='2634750'>Because</span> <span m='2634930'>if</span>
  <span m='2635050'>there's</span> <span m='2635170'>any</span> <span m='2635380'>items</span>
  <span m='2635650'>in</span> <span m='2635740'>there,</span> <span m='2635830'>there's</span>
  <span m='2635980'>going</span> <span m='2636120'>to</span> <span m='2636220'>be</span>
  <span m='2636310'>one</span> <span m='2636490'>in</span> <span m='2636610'>the min</span>
  <span m='2636880'>slot.</span> </p><p><span m='2637810'>So</span> <span m='2638050'>first</span>
  <span m='2638290'>thing</span> <span m='2638440'>we</span> <span m='2638530'>do</span>
  <span m='2638620'>is</span> <span m='2638710'>check,</span> <span m='2638950'>is</span>
  <span m='2639130'>our</span> <span m='2639250'>structure</span> <span m='2639640'>empty?</span>
  <span m='2640410'>If</span> <span m='2640570'>it's</span> <span m='2640720'>empty,</span>
  <span m='2642340'>the</span> <span m='2642520'>min</span> <span m='2642850'>and</span>
  <span m='2642940'>the</span> <span m='2643030'>max</span> <span m='2643330'>become</span>
  <span m='2643690'>the</span> <span m='2643870'>inserted</span> <span m='2644260'>item.</span>
  <span m='2644710'>We're</span> <span m='2644830'>done.</span> <span m='2646050'>So</span>
  <span m='2646140'>that's</span> <span m='2646480'>the</span> <span m='2646570'>easy
  case.</span> </p><p><span m='2647410'>We</span> <span m='2647530'>do</span> <span
  m='2647710'>not</span> <span m='2647980'>store it</span> <span m='2648270'>recursively</span>
  <span m='2648940'>in</span> <span m='2651340'>here.</span> <span m='2651820'>That's</span>
  <span m='2652690'>what</span> <span m='2652840'>this</span> <span m='2653050'>means.</span>
  <span m='2654580'>This</span> <span m='2655150'>element</span> <span m='2655580'>does</span>
  <span m='2655690'>not</span> <span m='2655840'>get</span> <span m='2655990'>stored</span>
  <span m='2656710'>in</span> <span m='2656800'>any</span> <span m='2656920'>of</span>
  <span m='2656980'>the</span> <span m='2657070'>clusters.</span> </p><p><span m='2658030'>If</span>
  <span m='2658180'>it's</span> <span m='2658300'>not</span> <span m='2658480'>the</span>
  <span m='2658570'>very</span> <span m='2658750'>first</span> <span m='2659080'>item,
  or</span> <span m='2659470'>it's</span> <span m='2659500'>not</span> <span m='2659650'>the</span>
  <span m='2659770'>min</span> <span m='2659980'>item,</span> <span m='2660310'>then</span>
  <span m='2660490'>we're</span> <span m='2660580'>going</span> <span m='2660710'>to</span>
  <span m='2660790'>recursively</span> <span m='2661360'>insert</span> <span m='2661690'>it</span>
  <span m='2662140'>into</span> <span m='2662440'>a</span> <span m='2662500'>cluster.</span>
  <span m='2664520'>So</span> <span m='2666310'>if</span> <span m='2666550'>we</span>
  <span m='2666640'>have</span> <span m='2666850'>x</span> <span m='2667480'>in</span>
  <span m='2667570'>cluster</span> <span m='2667900'>c,</span> <span m='2668620'>we</span>
  <span m='2668770'>always</span> <span m='2669130'>insert</span> <span m='2670090'>index</span>
  <span m='2670500'>i</span> <span m='2671020'>into</span> <span m='2671290'>cluster</span>
  <span m='2671660'>c,</span> <span m='2673450'>except</span> <span m='2673840'>if</span>
  <span m='2673990'>it's</span> <span m='2675180'>the</span> <span m='2675310'>min.</span>
  </p><p><span m='2676840'>Now,</span> <span m='2677080'>it</span> <span m='2677200'>could</span>
  <span m='2677380'>be</span> <span m='2678040'>where</span> <span m='2678270'>a</span>
  <span m='2678340'>structure</span> <span m='2678650'>is</span> <span m='2678740'>non-empty.</span>
  <span m='2679480'>There</span> <span m='2679660'>is</span> <span m='2679810'>a</span>
  <span m='2679870'>min</span> <span m='2680050'>item</span> <span m='2680350'>there.</span>
  <span m='2680770'>But</span> <span m='2680890'>we</span> <span m='2681070'>are</span>
  <span m='2681160'>less</span> <span m='2681400'>than</span> <span m='2681550'>the</span>
  <span m='2681640'>min.</span> <span m='2681820'>In</span> <span m='2681910'>that</span>
  <span m='2682030'>case,</span> <span m='2682210'>we're</span> <span m='2682360'>the</span>
  <span m='2682450'>new</span> <span m='2682600'>min,</span> <span m='2682750'>and</span>
  <span m='2682840'>we</span> <span m='2682900'>just</span> <span m='2683050'>swap</span>
  <span m='2683380'>those.</span> <span m='2683650'>And</span> <span m='2683740'>now,</span>
  <span m='2683860'>we</span> <span m='2683950'>have</span> <span m='2684100'>to</span>
  <span m='2684220'>recursively</span> <span m='2684790'>insert</span> <span m='2685060'>the</span>
  <span m='2685180'>old</span> <span m='2685420'>min</span> <span m='2685720'>into</span>
  <span m='2686050'>the</span> <span m='2686290'>rest</span> <span m='2686560'>of</span>
  <span m='2686620'>the</span> <span m='2686710'>structure.</span> <span m='2687680'>So</span>
  <span m='2687730'>that's</span> <span m='2687930'>a</span> <span m='2687970'>simple</span>
  <span m='2688480'>case.</span> <span m='2689290'>Then</span> <span m='2689500'>we</span>
  <span m='2689620'>also</span> <span m='2689800'>have</span> <span m='2689920'>to</span>
  <span m='2689980'>update</span> <span m='2690300'>v</span> <span m='2690410'>dot</span>
  <span m='2690550'>max,</span> <span m='2690940'>just</span> <span m='2691150'>in</span>
  <span m='2691240'>the</span> <span m='2691360'>obvious</span> <span m='2691660'>way.</span>
  <span m='2691930'>This</span> <span m='2692110'>is</span> <span m='2692280'>the</span>
  <span m='2692380'>easy</span> <span m='2692650'>way</span> <span m='2692770'>to</span>
  <span m='2693340'>maintain</span> <span m='2693760'>v dot</span> <span m='2694080'>max
  in</span> <span m='2694360'>variant,</span> <span m='2695920'>that</span> <span
  m='2696040'>is</span> <span m='2696150'>the</span> <span m='2696220'>maximum</span>
  <span m='2696520'>item.</span> </p><p><span m='2696910'>OK,</span> <span m='2697120'>now</span>
  <span m='2697300'>we</span> <span m='2697360'>have</span> <span m='2697480'>the</span>
  <span m='2697570'>two</span> <span m='2697690'>cases.</span> <span m='2700240'>I</span>
  <span m='2700300'>mean,</span> <span m='2700420'>this</span> <span m='2700600'>is</span>
  <span m='2700720'>really</span> <span m='2701140'>the</span> <span m='2701380'>obvious</span>
  <span m='2701800'>thing</span> <span m='2702100'>to</span> <span m='2702250'>get</span>
  <span m='2702730'>to</span> <span m='2702850'>do</span> <span m='2702970'>insertion.</span>
  <span m='2703870'>We</span> <span m='2703990'>have</span> <span m='2704170'>to</span>
  <span m='2704260'>update</span> <span m='2704620'>the</span> <span m='2704740'>summary</span>
  <span m='2705100'>structure,</span> <span m='2706040'>meaning,</span> <span m='2706900'>if</span>
  <span m='2707140'>the</span> <span m='2707260'>cluster</span> <span m='2707770'>that</span>
  <span m='2707890'>we</span> <span m='2708070'>are</span> <span m='2708190'>inserting</span>
  <span m='2708700'>into--</span> <span m='2709030'>cluster</span> <span m='2709420'>c--</span>
  <span m='2710020'>is</span> <span m='2710200'>empty,</span> <span m='2711190'>that</span>
  <span m='2711340'>means</span> <span m='2711580'>it</span> <span m='2711670'>was</span>
  <span m='2711790'>not</span> <span m='2712120'>yet</span> <span m='2712330'>in</span>
  <span m='2712450'>the</span> <span m='2712540'>summary</span> <span m='2712840'>structure.</span>
  <span m='2713330'>We</span> <span m='2713350'>need</span> <span m='2713470'>to</span>
  <span m='2713560'>put</span> <span m='2713770'>it</span> <span m='2713860'>in</span>
  <span m='2713980'>there.</span> </p><p><span m='2714500'>So</span> <span m='2714580'>we</span>
  <span m='2714640'>just</span> <span m='2714820'>insert</span> <span m='2715300'>c</span>
  <span m='2715750'>into</span> <span m='2716060'>v dot</span> <span m='2716320'>summary--</span>
  <span m='2717190'>pretty</span> <span m='2717430'>obvious.</span> <span m='2718370'>And</span>
  <span m='2718510'>in</span> <span m='2718630'>all</span> <span m='2718870'>cases,</span>
  <span m='2719620'>we</span> <span m='2719770'>insert</span> <span m='2720670'>our</span>
  <span m='2720880'>item</span> <span m='2721210'>into</span> <span m='2721450'>cluster</span>
  <span m='2721770'>c.</span> <span m='2724060'>This</span> <span m='2724240'>looks</span>
  <span m='2724420'>bad,</span> <span m='2724910'>however,</span> <span m='2725200'>because</span>
  <span m='2725560'>there's</span> <span m='2725710'>two</span> <span m='2725950'>recursions</span>
  <span m='2726550'>in</span> <span m='2726640'>some</span> <span m='2726850'>cases.</span>
  <span m='2727820'>If</span> <span m='2727870'>this</span> <span m='2728080'>if</span>
  <span m='2728290'>doesn't</span> <span m='2728590'>hold,</span> <span m='2728890'>it's</span>
  <span m='2728980'>one</span> <span m='2729160'>recursion.</span> <span m='2729880'>Everything's</span>
  <span m='2730210'>fine.</span> </p><p><span m='2730930'>So</span> <span m='2731050'>if</span>
  <span m='2731110'>the</span> <span m='2731200'>cluster</span> <span m='2731560'>was</span>
  <span m='2731680'>already</span> <span m='2731920'>in</span> <span m='2732010'>use,</span>
  <span m='2732820'>great.</span> <span m='2734320'>This</span> <span m='2734500'>is</span>
  <span m='2734620'>one</span> <span m='2734800'>recursion.</span> <span m='2735770'>This</span>
  <span m='2735820'>is</span> <span m='2735910'>constant</span> <span m='2736420'>work.</span>
  <span m='2737370'>We're</span> <span m='2737500'>done.</span> <span m='2738550'>The</span>
  <span m='2738670'>worry</span> <span m='2738970'>is,</span> <span m='2739690'>if</span>
  <span m='2739960'>the</span> <span m='2740050'>cluster</span> <span m='2740380'>was</span>
  <span m='2740530'>empty</span> <span m='2740800'>before,</span> <span m='2742060'>then</span>
  <span m='2742330'>this</span> <span m='2742480'>insertion</span> <span m='2743020'>is</span>
  <span m='2743140'>a</span> <span m='2743200'>whole</span> <span m='2743350'>recursion.</span>
  <span m='2744670'>That's</span> <span m='2744880'>scary,</span> <span m='2745390'>because</span>
  <span m='2745570'>we</span> <span m='2745690'>can't</span> <span m='2745930'>afford</span>
  <span m='2746230'>a</span> <span m='2746290'>second</span> <span m='2746590'>recursion.</span>
  </p><p><span m='2748010'>But</span> <span m='2749140'>it's</span> <span m='2749230'>all</span>
  <span m='2749440'>OK.</span> <span m='2750310'>Because</span> <span m='2750970'>if</span>
  <span m='2751300'>we</span> <span m='2751480'>do</span> <span m='2751690'>this</span>
  <span m='2751870'>recursion,</span> <span m='2753010'>that</span> <span m='2753160'>means</span>
  <span m='2753430'>that</span> <span m='2753580'>this</span> <span m='2753730'>cluster</span>
  <span m='2754120'>was</span> <span m='2754450'>empty,</span> <span m='2755690'>which</span>
  <span m='2755770'>means,</span> <span m='2756250'>in</span> <span m='2756640'>this</span>
  <span m='2756850'>recursion,</span> <span m='2757300'>we</span> <span m='2757420'>fall</span>
  <span m='2757690'>into</span> <span m='2757900'>this</span> <span m='2758110'>very</span>
  <span m='2758350'>first</span> <span m='2758620'>case.</span> <span m='2759910'>That</span>
  <span m='2760210'>structure,</span> <span m='2760960'>it's</span> <span m='2761170'>min</span>
  <span m='2761440'>is</span> <span m='2761620'>none.</span> <span m='2761950'>That's</span>
  <span m='2762160'>what</span> <span m='2762250'>we</span> <span m='2762340'>just</span>
  <span m='2762520'>checked</span> <span m='2762760'>for.</span> </p><p><span m='2763750'>If</span>
  <span m='2763930'>it's</span> <span m='2764070'>none,</span> <span m='2764590'>we</span>
  <span m='2764680'>do</span> <span m='2764800'>constant</span> <span m='2765280'>work</span>
  <span m='2765520'>and</span> <span m='2765640'>stop.</span> <span m='2766572'>So</span>
  <span m='2768380'>everything's</span> <span m='2768840'>OK.</span> <span m='2770250'>If</span>
  <span m='2770400'>we</span> <span m='2770570'>recursed in</span> <span m='2771010'>the</span>
  <span m='2771100'>summary</span> <span m='2771490'>structure,</span> <span m='2773170'>this</span>
  <span m='2773350'>recursion</span> <span m='2773860'>will</span> <span m='2774010'>be</span>
  <span m='2774160'>a</span> <span m='2774220'>shallow</span> <span m='2774610'>recursion.</span>
  <span m='2775060'>It just</span> <span m='2775200'>does</span> <span m='2775390'>one</span>
  <span m='2775630'>thing.</span> <span m='2776290'>You</span> <span m='2776410'>could</span>
  <span m='2777100'>actually</span> <span m='2777370'>put</span> <span m='2777610'>this</span>
  <span m='2777790'>code</span> <span m='2781470'>into</span> <span m='2781900'>this</span>
  <span m='2782110'>if</span> <span m='2782320'>case,</span> <span m='2783340'>and</span>
  <span m='2783490'>make</span> <span m='2783670'>this</span> <span m='2783880'>an</span>
  <span m='2784000'>else</span> <span m='2784240'>case.</span> <span m='2785050'>That's</span>
  <span m='2785200'>another</span> <span m='2785470'>way</span> <span m='2785560'>to</span>
  <span m='2785650'>write</span> <span m='2785830'>the</span> <span m='2785950'>code.</span>
  <span m='2786880'>But</span> <span m='2787210'>this</span> <span m='2787370'>will</span>
  <span m='2787460'>be</span> <span m='2787540'>a</span> <span m='2787570'>very</span>
  <span m='2787750'>short</span> <span m='2787930'>recursion.</span> <span m='2788480'>So</span>
  <span m='2788590'>either</span> <span m='2788860'>you</span> <span m='2789010'>just</span>
  <span m='2789190'>do</span> <span m='2789370'>this</span> <span m='2789520'>recursion,</span>
  <span m='2790580'>which</span> <span m='2790630'>could</span> <span m='2790780'>be</span>
  <span m='2790900'>expensive,</span> <span m='2791680'>or</span> <span m='2791830'>you</span>
  <span m='2791950'>just</span> <span m='2792160'>do</span> <span m='2792250'>this</span>
  <span m='2792460'>one,</span> <span m='2792610'>in</span> <span m='2792670'>which</span>
  <span m='2792820'>case,</span> <span m='2792970'>we</span> <span m='2793120'>know</span>
  <span m='2793300'>this</span> <span m='2793480'>one</span> <span m='2793690'>was</span>
  <span m='2793810'>cheap.</span> </p><p><span m='2794470'>If</span> <span m='2794560'>this</span>
  <span m='2794710'>happens,</span> <span m='2795100'>we</span> <span m='2795160'>know</span>
  <span m='2795280'>this</span> <span m='2795430'>will</span> <span m='2795520'>take</span>
  <span m='2795710'>constant</span> <span m='2796020'>time.</span> <span m='2796790'>So</span>
  <span m='2796840'>in</span> <span m='2796930'>both</span> <span m='2797170'>cases,</span>
  <span m='2798070'>we</span> <span m='2798190'>get</span> <span m='2798340'>this</span>
  <span m='2798490'>recursion--</span> <span m='2799660'>square</span> <span m='2799960'>root</span>
  <span m='2800140'>of</span> <span m='2800290'>u</span> <span m='2801910'>plus</span>
  <span m='2802150'>constant.</span> <span m='2803200'>And</span> <span m='2803290'>so</span>
  <span m='2803440'>we</span> <span m='2803500'>get</span> <span m='2803680'>log</span>
  <span m='2803890'>log</span> <span m='2804100'>u</span> <span m='2804220'>insertion.</span>
  </p><p><span m='2808660'>Do</span> <span m='2808780'>you</span> <span m='2808840'>want</span>
  <span m='2808990'>to</span> <span m='2809050'>see</span> <span m='2809170'>delete?</span>
  <span m='2809590'>I</span> <span m='2809650'>mean,</span> <span m='2809740'>it's</span>
  <span m='2809860'>basically</span> <span m='2810190'>the</span> <span m='2810310'>same</span>
  <span m='2810520'>thing.</span> <span m='2811410'>It's</span> <span m='2811540'>in</span>
  <span m='2811630'>the</span> <span m='2811720'>notes.</span> <span m='2814490'>I</span>
  <span m='2814590'>mean,</span> <span m='2814700'>you</span> <span m='2814800'>do</span>
  <span m='2814810'>the</span> <span m='2814930'>obvious</span> <span m='2815230'>thing,</span>
  <span m='2815510'>which</span> <span m='2815620'>is,</span> <span m='2816210'>you</span>
  <span m='2816390'>delete</span> <span m='2816760'>in</span> <span m='2816850'>the</span>
  <span m='2816940'>cluster.</span> <span m='2818060'>And</span> <span m='2818160'>then</span>
  <span m='2818260'>if</span> <span m='2818360'>it</span> <span m='2818460'>became</span>
  <span m='2818740'>empty,</span> <span m='2819010'>you</span> <span m='2819130'>also</span>
  <span m='2819460'>have</span> <span m='2819580'>to</span> <span m='2819670'>delete</span>
  <span m='2819970'>in</span> <span m='2820060'>the</span> <span m='2820150'>summary</span>
  <span m='2820510'>structure.</span> <span m='2822550'>So</span> <span m='2822790'>there's,</span>
  <span m='2823030'>again,</span> <span m='2823300'>a</span> <span m='2823360'>chance</span>
  <span m='2823720'>that</span> <span m='2823810'>you</span> <span m='2823930'>do</span>
  <span m='2824050'>two</span> <span m='2824230'>recursions.</span> <span m='2825510'>But--</span>
  <span m='2827080'>OK,</span> <span m='2827530'>I'm</span> <span m='2827650'>talking</span>
  <span m='2827920'>about</span> <span m='2828070'>it.</span> <span m='2828130'>Maybe</span>
  <span m='2828340'>I'll</span> <span m='2828460'>write</span> <span m='2828670'>a</span>
  <span m='2828700'>little</span> <span m='2828970'>bit</span> <span m='2830290'>of</span>
  <span m='2830470'>the</span> <span m='2830590'>code.</span> </p><p><span m='2837960'>I</span>
  <span m='2837990'>think</span> <span m='2838200'>I</span> <span m='2838260'>won't</span>
  <span m='2838410'>write</span> <span m='2838590'>all</span> <span m='2838800'>the</span>
  <span m='2838890'>code,</span> <span m='2839130'>though--</span> <span m='2839430'>just</span>
  <span m='2839670'>the</span> <span m='2839790'>main</span> <span m='2840030'>stuff.</span>
  <span m='2844600'>So</span> <span m='2844830'>if</span> <span m='2844950'>we</span>
  <span m='2845040'>want</span> <span m='2845220'>to</span> <span m='2845280'>delete,</span>
  <span m='2850130'>then</span> <span m='2850680'>basically,</span> <span m='2851130'>we</span>
  <span m='2851940'>delete</span> <span m='2854430'>in</span> <span m='2854640'>cluster</span>
  <span m='2855100'>c,</span> <span m='2856050'>index</span> <span m='2856440'>i.</span>
  <span m='2859920'>And</span> <span m='2860100'>then</span> <span m='2860370'>if</span>
  <span m='2862030'>the</span> <span m='2862590'>cluster</span> <span m='2863460'>has</span>
  <span m='2863760'>become</span> <span m='2864120'>empty</span> <span m='2864510'>as</span>
  <span m='2864630'>a</span> <span m='2864660'>result</span> <span m='2865020'>of</span>
  <span m='2865110'>that,</span> <span m='2869580'>then</span> <span m='2869730'>we</span>
  <span m='2869820'>have</span> <span m='2869970'>to</span> <span m='2870090'>delete</span>
  <span m='2870720'>cluster</span> <span m='2871110'>c</span> <span m='2871410'>from</span>
  <span m='2871680'>the</span> <span m='2871770'>summary</span> <span m='2872100'>structure,</span>
  <span m='2873870'>so</span> <span m='2874110'>that</span> <span m='2874260'>our</span>
  <span m='2874380'>predecessor</span> <span m='2874920'>and</span> <span m='2875010'>successor</span>
  <span m='2875410'>queries</span> <span m='2875700'>actually</span> <span m='2876240'>still</span>
  <span m='2876540'>work.</span> </p><p><span m='2884140'>OK,</span> <span m='2884330'>so</span>
  <span m='2884480'>that's</span> <span m='2884690'>the</span> <span m='2884810'>bulk</span>
  <span m='2885080'>of</span> <span m='2885170'>the</span> <span m='2885260'>code.</span>
  <span m='2885590'>I</span> <span m='2885620'>mean,</span> <span m='2885770'>that's</span>
  <span m='2885950'>where</span> <span m='2886040'>the</span> <span m='2886160'>action</span>
  <span m='2886520'>happens.</span> <span m='2887090'>And</span> <span m='2887510'>the</span>
  <span m='2887660'>worry</span> <span m='2887900'>would</span> <span m='2888020'>be,</span>
  <span m='2888290'>in</span> <span m='2888470'>this</span> <span m='2888800'>if case,</span>
  <span m='2889070'>we're</span> <span m='2889190'>doing</span> <span m='2889430'>two</span>
  <span m='2889850'>recursive</span> <span m='2890330'>deletes.</span> <span m='2892400'>The</span>
  <span m='2892490'>claim</span> <span m='2892820'>is,</span> <span m='2894860'>if</span>
  <span m='2895040'>we</span> <span m='2895160'>do</span> <span m='2895370'>this</span>
  <span m='2895550'>second</span> <span m='2895910'>delete,</span> <span m='2896300'>which</span>
  <span m='2896480'>is</span> <span m='2896600'>potentially</span> <span m='2897050'>expensive--</span>
  <span m='2897980'>this</span> <span m='2898250'>one</span> <span m='2898460'>was</span>
  <span m='2898610'>really</span> <span m='2898880'>cheap--</span> <span m='2899930'>the</span>
  <span m='2899990'>claim</span> <span m='2900230'>is</span> <span m='2900320'>that</span>
  <span m='2900560'>emptying</span> <span m='2901670'>a</span> <span m='2901730'>Van</span>
  <span m='2902030'>Emde</span> <span m='2902120'>Boas</span> <span m='2902330'>structure</span>
  <span m='2903590'>takes</span> <span m='2903830'>constant</span> <span m='2904280'>time--</span>
  <span m='2904640'>like,</span> <span m='2904820'>if</span> <span m='2904880'>you're</span>
  <span m='2904970'>deleting</span> <span m='2905370'>the</span> <span m='2905450'>last</span>
  <span m='2905900'>element.</span> </p><p><span m='2906890'>Why?</span> <span m='2907340'>Because</span>
  <span m='2907580'>when</span> <span m='2907670'>you're</span> <span m='2907760'>deleting</span>
  <span m='2908120'>the</span> <span m='2908210'>last</span> <span m='2908510'>element,</span>
  <span m='2909760'>it's</span> <span m='2910000'>in</span> <span m='2910160'>the</span>
  <span m='2910250'>min</span> <span m='2910490'>right</span> <span m='2910670'>here.</span>
  <span m='2912260'>Everything</span> <span m='2913310'>below</span> <span m='2913700'>it--</span>
  <span m='2914030'>all</span> <span m='2914180'>the</span> <span m='2914270'>recursive</span>
  <span m='2914630'>structures--</span> <span m='2915020'>will</span> <span m='2915140'>be</span>
  <span m='2915290'>empty</span> <span m='2915710'>if</span> <span m='2915860'>there's</span>
  <span m='2916010'>only</span> <span m='2916220'>one</span> <span m='2916400'>item,</span>
  <span m='2916670'>because</span> <span m='2916820'>it</span> <span m='2916940'>will</span>
  <span m='2917030'>be</span> <span m='2917240'>right</span> <span m='2917480'>here.</span>
  <span m='2917750'>And</span> <span m='2918080'>you</span> <span m='2918180'>can</span>
  <span m='2918200'>check</span> <span m='2918440'>that</span> <span m='2919130'>from</span>
  <span m='2919280'>the</span> <span m='2919340'>insertion.</span> </p><p><span m='2919970'>If</span>
  <span m='2920260'>it</span> <span m='2920380'>was</span> <span m='2920510'>empty,</span>
  <span m='2921260'>all</span> <span m='2921440'>we</span> <span m='2921560'>did</span>
  <span m='2921680'>was</span> <span m='2921830'>change</span> <span m='2922070'>v</span>
  <span m='2922330'>dot min</span> <span m='2922570'>and</span> <span m='2922660'>v</span>
  <span m='2922750'>dot</span> <span m='2922940'>max.</span> <span m='2923390'>So</span>
  <span m='2923570'>the</span> <span m='2923750'>inverse,</span> <span m='2924360'>which</span>
  <span m='2924590'>I</span> <span m='2924650'>want</span> <span m='2924800'>right</span>
  <span m='2925010'>here,</span> <span m='2925690'>is</span> <span m='2925760'>just</span>
  <span m='2925910'>to</span> <span m='2926090'>clear</span> <span m='2926480'>out</span>
  <span m='2926630'>v</span> <span m='2926840'>dot</span> <span m='2926960'>min</span>
  <span m='2927100'>and</span> <span m='2927200'>v</span> <span m='2927350'>dot</span>
  <span m='2927470'>max.</span> <span m='2928350'>So</span> <span m='2928910'>if</span>
  <span m='2929060'>this</span> <span m='2929240'>ends</span> <span m='2929420'>up</span>
  <span m='2929540'>happening,</span> <span m='2930260'>this</span> <span m='2930470'>only</span>
  <span m='2930650'>took</span> <span m='2930840'>constant</span> <span m='2931220'>time.</span>
  <span m='2932630'>You</span> <span m='2932750'>don't</span> <span m='2932960'>have</span>
  <span m='2933110'>to</span> <span m='2933200'>recurse</span> <span m='2933950'>when</span>
  <span m='2934070'>you're</span> <span m='2934160'>deleting</span> <span m='2934460'>the</span>
  <span m='2934550'>last</span> <span m='2934790'>item.</span> </p><p><span m='2935570'>So</span>
  <span m='2935750'>in</span> <span m='2935900'>either</span> <span m='2936140'>case,</span>
  <span m='2936420'>you're</span> <span m='2936500'>really</span> <span m='2936790'>only</span>
  <span m='2936890'>doing</span> <span m='2937190'>one</span> <span m='2937640'>deep</span>
  <span m='2937880'>recursion.</span> <span m='2939000'>So</span> <span m='2939020'>you</span>
  <span m='2939140'>get</span> <span m='2939290'>the</span> <span m='2939380'>same</span>
  <span m='2939590'>recurrence,</span> <span m='2940070'>and</span> <span m='2940160'>you</span>
  <span m='2940220'>get</span> <span m='2940380'>log</span> <span m='2940610'>log</span>
  <span m='2940820'>u.</span> <span m='2941870'>So</span> <span m='2942190'>for</span>
  <span m='2942350'>the</span> <span m='2942440'>details,</span> <span m='2943500'>check</span>
  <span m='2943640'>out</span> <span m='2943760'>the</span> <span m='2943820'>notes.</span>
  </p><p><span m='2944390'>I</span> <span m='2944480'>want</span> <span m='2944630'>to</span>
  <span m='2944690'>go</span> <span m='2944810'>to</span> <span m='2944930'>other</span>
  <span m='2945170'>perspectives</span> <span m='2946470'>of</span> <span m='2946740'>Van</span>
  <span m='2947040'>Emde</span> <span m='2947250'>Boas.</span> <span m='2949250'>This</span>
  <span m='2949430'>is</span> <span m='2949550'>one</span> <span m='2949760'>way</span>
  <span m='2949880'>to</span> <span m='2950000'>think</span> <span m='2950180'>about</span>
  <span m='2950480'>it.</span> <span m='2951110'>And</span> <span m='2951500'>amusingly,</span>
  <span m='2952310'>and</span> <span m='2952460'>this</span> <span m='2952610'>is</span>
  <span m='2952670'>probably</span> <span m='2952970'>the</span> <span m='2953150'>most</span>
  <span m='2953570'>taut</span> <span m='2953990'>way</span> <span m='2954260'>to</span>
  <span m='2955550'>do</span> <span m='2955760'>Van Emde</span> <span m='2956020'>Boas.</span>
  <span m='2956540'>It's,</span> <span m='2956900'>in</span> <span m='2957500'>CLRS,</span>
  <span m='2958220'>described</span> <span m='2958700'>this</span> <span m='2958880'>way,</span>
  <span m='2959120'>because</span> <span m='2960350'>in</span> <span m='2960560'>2001,</span>
  <span m='2961280'>when</span> <span m='2961400'>I</span> <span m='2961490'>first</span>
  <span m='2961700'>came</span> <span m='2961910'>here,</span> <span m='2962160'>I</span>
  <span m='2962260'>presented</span> <span m='2962540'>Van</span> <span m='2962930'>Emde
  Boas</span> <span m='2963170'>like</span> <span m='2963320'>this</span> <span m='2963470'>in
  an</span> <span m='2963710'>undergrad</span> <span m='2964130'>algorithms</span>
  <span m='2964550'>class</span> <span m='2965690'>with</span> <span m='2965930'>more</span>
  <span m='2966140'>details.</span> <span m='2966930'>You guys</span> <span m='2967150'>are</span>
  <span m='2967280'>grads,</span> <span m='2967640'>so</span> <span m='2968180'>I</span>
  <span m='2968270'>did</span> <span m='2968420'>it</span> <span m='2968510'>like</span>
  <span m='2968660'>three</span> <span m='2968870'>times</span> <span m='2969140'>faster</span>
  <span m='2969500'>than</span> <span m='2969620'>I</span> <span m='2969710'>would</span>
  <span m='2969890'>in</span> <span m='2970010'>6046.</span> </p><p><span m='2974640'>So</span>
  <span m='2974790'>now,</span> <span m='2974960'>it's</span> <span m='2975060'>in</span>
  <span m='2975150'>textbooks</span> <span m='2975630'>and</span> <span m='2975720'>whatnot.</span>
  <span m='2976080'>But</span> <span m='2976200'>this</span> <span m='2976470'>is</span>
  <span m='2976560'>not</span> <span m='2976860'>how</span> <span m='2977010'>Van</span>
  <span m='2977280'>Emde</span> <span m='2977490'>Boas</span> <span m='2977640'>presented</span>
  <span m='2978090'>this</span> <span m='2978270'>data</span> <span m='2978480'>structure--</span>
  <span m='2979380'>just</span> <span m='2979830'>out</span> <span m='2979980'>of</span>
  <span m='2980040'>historical</span> <span m='2980460'>interest.</span> <span m='2980790'>This</span>
  <span m='2981000'>is</span> <span m='2981140'>a</span> <span m='2981210'>way</span>
  <span m='2981510'>that</span> <span m='2982110'>I</span> <span m='2982200'>believe</span>
  <span m='2982530'>was</span> <span m='2982680'>invented</span> <span m='2983040'>by</span>
  <span m='2983880'>Michael</span> <span m='2984180'>Bender</span> <span m='2984540'>and</span>
  <span m='2984630'>Martin</span> <span m='2984840'>Farach-Colton,</span> <span m='2985560'>who</span>
  <span m='2985680'>are</span> <span m='2985770'>the</span> <span m='2985890'>co-authors</span>
  <span m='2986400'>on</span> <span m='2986520'>"Cache-oblivious</span> <span m='2986890'>B-trees."</span>
  <span m='2988080'>And</span> <span m='2988230'>around</span> <span m='2988500'>2001,</span>
  <span m='2989160'>they</span> <span m='2989310'>were</span> <span m='2989460'>looking</span>
  <span m='2989730'>at</span> <span m='2989820'>lots</span> <span m='2990030'>of</span>
  <span m='2990150'>old</span> <span m='2990270'>data</span> <span m='2990480'>structures</span>
  <span m='2991470'>and</span> <span m='2991680'>simplifying</span> <span m='2992310'>them.</span>
  <span m='2992680'>And I</span> <span m='2992780'>think</span> <span m='2992850'>this</span>
  <span m='2993030'>is</span> <span m='2993150'>a</span> <span m='2993210'>very</span>
  <span m='2993510'>clean,</span> <span m='2994230'>simple</span> <span m='2994590'>way</span>
  <span m='2994800'>to</span> <span m='2994920'>think</span> <span m='2995100'>about</span>
  <span m='2995310'>Van</span> <span m='2995510'>Emde</span> <span m='2995580'>Boas.</span>
  </p><p><span m='2996700'>But</span> <span m='2996750'>I</span> <span m='2996810'>want</span>
  <span m='2996930'>to</span> <span m='2996990'>tell</span> <span m='2997170'>you</span>
  <span m='2997290'>the</span> <span m='2997470'>other</span> <span m='2997740'>way,</span>
  <span m='2998110'>which</span> <span m='2998220'>is</span> <span m='2998340'>the</span>
  <span m='2998460'>way</span> <span m='2998640'>it</span> <span m='2998790'>originally</span>
  <span m='2999360'>appeared</span> <span m='2999840'>in</span> <span m='3001070'>their</span>
  <span m='3001460'>papers.</span> <span m='3002600'>There's</span> <span m='3002700'>actually</span>
  <span m='3002840'>three</span> <span m='3003680'>papers</span> <span m='3005150'>by</span>
  <span m='3005420'>van Emde Boas</span> <span m='3006050'>about</span> <span m='3006290'>this</span>
  <span m='3006430'>structure.</span> <span m='3009260'>Many</span> <span m='3009470'>papers</span>
  <span m='3009860'>appear</span> <span m='3010130'>twice--</span> <span m='3010640'>once</span>
  <span m='3010880'>in</span> <span m='3010970'>a</span> <span m='3011030'>conference,</span>
  <span m='3011450'>once</span> <span m='3011660'>in</span> <span m='3011750'>a</span>
  <span m='3011840'>journal--</span> <span m='3012770'>this</span> <span m='3012920'>one,</span>
  <span m='3013520'>there's</span> <span m='3013790'>three</span> <span m='3014300'>relevant</span>
  <span m='3014780'>papers.</span> <span m='3015350'>There's</span> <span m='3016100'>conference</span>
  <span m='3016490'>version,</span> <span m='3016820'>journal</span> <span m='3017090'>version.</span>
  <span m='3018530'>The</span> <span m='3018650'>only weird</span> <span m='3019040'>thing</span>
  <span m='3019280'>there</span> <span m='3019460'>is</span> <span m='3019570'>that</span>
  <span m='3019640'>the</span> <span m='3019760'>conference</span> <span m='3020180'>version</span>
  <span m='3020480'>has</span> <span m='3020660'>one</span> <span m='3020870'>author--</span>
  <span m='3021050'>van Emde Boas.</span> <span m='3022150'>The</span> <span m='3022250'>journal</span>
  <span m='3022490'>version</span> <span m='3022760'>has</span> <span m='3022910'>three</span>
  <span m='3023180'>authors--</span> <span m='3024130'>van Emde Boas,</span> <span
  m='3025490'>Kaas,</span> <span m='3025940'>and</span> <span m='3026060'>Zijlstra.</span>
  </p><p><span m='3028370'>And</span> <span m='3028790'>they're</span> <span m='3029030'>acknowledged</span>
  <span m='3029420'>in</span> <span m='3029510'>the</span> <span m='3029600'>conference</span>
  <span m='3029960'>version,</span> <span m='3030260'>so</span> <span m='3030380'>I</span>
  <span m='3030440'>guess</span> <span m='3030800'>they</span> <span m='3031400'>helped</span>
  <span m='3032150'>even</span> <span m='3032420'>more.</span> <span m='3032990'>In</span>
  <span m='3033110'>particular,</span> <span m='3033560'>they,</span> <span m='3033950'>I
  think,</span> <span m='3034310'>implemented</span> <span m='3034820'>this</span>
  <span m='3035000'>data</span> <span m='3035210'>structure</span> <span m='3035540'>for</span>
  <span m='3035660'>the</span> <span m='3035750'>first</span> <span m='3035990'>time.</span>
  <span m='3036180'>It's</span> <span m='3036240'>a</span> <span m='3036290'>really</span>
  <span m='3036530'>easy</span> <span m='3036770'>data</span> <span m='3036950'>structure</span>
  <span m='3037250'>to</span> <span m='3037310'>implement,</span> <span m='3037940'>and</span>
  <span m='3038180'>very</span> <span m='3038390'>fast.</span> </p><p><span m='3041370'>Then</span>
  <span m='3041450'>there's</span> <span m='3041600'>a</span> <span m='3041690'>third</span>
  <span m='3042050'>paper</span> <span m='3042530'>by</span> <span m='3042740'>van
  Emde Boas</span> <span m='3043400'>only</span> <span m='3044180'>in</span> <span
  m='3044330'>a</span> <span m='3044390'>journal</span> <span m='3044870'>which</span>
  <span m='3045080'>improves</span> <span m='3045530'>the</span> <span m='3045650'>space</span>
  <span m='3045980'>a</span> <span m='3046040'>little</span> <span m='3046250'>bit.</span>
  <span m='3047010'>So</span> <span m='3047270'>we'll</span> <span m='3047420'>see</span>
  <span m='3048200'>a</span> <span m='3048230'>little</span> <span m='3048410'>bit</span>
  <span m='3048530'>what</span> <span m='3048710'>that's</span> <span m='3048890'>about.</span>
  <span m='3050910'>But</span> <span m='3050960'>what</span> <span m='3051110'>I</span>
  <span m='3051230'>like</span> <span m='3051440'>about</span> <span m='3051770'>both</span>
  <span m='3052010'>of</span> <span m='3052070'>these</span> <span m='3052250'>papers</span>
  <span m='3052610'>is</span> <span m='3052730'>they</span> <span m='3052910'>offer</span>
  <span m='3053810'>a</span> <span m='3053870'>simpler</span> <span m='3054380'>way</span>
  <span m='3057010'>to</span> <span m='3057200'>get</span> <span m='3057410'>log</span>
  <span m='3057710'>log</span> <span m='3058070'>u,</span> <span m='3059360'>successor,</span>
  <span m='3060140'>predecessor.</span> <span m='3061490'>Let's</span> <span m='3061760'>not</span>
  <span m='3062000'>worry</span> <span m='3062180'>about</span> <span m='3062390'>insertions</span>
  <span m='3062870'>and</span> <span m='3062960'>deletions</span> <span m='3063350'>for</span>
  <span m='3063470'>a</span> <span m='3063500'>little</span> <span m='3063680'>bit,</span>
  <span m='3064490'>and</span> <span m='3064640'>take</span> <span m='3065450'>what</span>
  <span m='3065600'>I'll</span> <span m='3065690'>call</span> <span m='3066030'>the</span>
  <span m='3066290'>simple</span> <span m='3068330'>tree</span> <span m='3068720'>view.</span>
  </p><p><span m='3074660'>So</span> <span m='3075900'>I'm</span> <span m='3075980'>going</span>
  <span m='3076100'>to</span> <span m='3076160'>draw</span> <span m='3076430'>a</span>
  <span m='3076460'>picture--</span> <span m='3078150'>0,</span> <span m='3078410'>1,</span>
  <span m='3078875'>0,</span> <span m='3079340'>0,</span> <span m='3080626'>0,</span>
  <span m='3081002'>0,</span> <span m='3081380'>0--</span> <span m='3087780'>OK.</span>
  <span m='3089720'>This</span> <span m='3090560'>is</span> <span m='3090800'>what</span>
  <span m='3091010'>we</span> <span m='3091160'>call</span> <span m='3091640'>a</span>
  <span m='3091790'>bit</span> <span m='3091990'>vector,</span> <span m='3095300'>meaning,</span>
  <span m='3095660'>here's</span> <span m='3096200'>item</span> <span m='3096500'>zero,</span>
  <span m='3097010'>item</span> <span m='3097250'>one,</span> <span m='3097460'>item</span>
  <span m='3097730'>two.</span> <span m='3098510'>And</span> <span m='3098660'>here</span>
  <span m='3098900'>is</span> <span m='3099110'>u</span> <span m='3099380'>minus</span>
  <span m='3099770'>1.</span> <span m='3102195'>And</span> <span m='3102680'>I'll</span>
  <span m='3102770'>put</span> <span m='3102950'>a</span> <span m='3103010'>1</span>
  <span m='3103400'>if</span> <span m='3103580'>that</span> <span m='3103850'>element</span>
  <span m='3104180'>is</span> <span m='3104270'>in</span> <span m='3104420'>my</span>
  <span m='3104570'>set,</span> <span m='3104870'>and a</span> <span m='3105050'>0</span>
  <span m='3105470'>otherwise.</span> <span m='3107280'>OK,</span> <span m='3107480'>so</span>
  <span m='3107720'>one</span> <span m='3107960'>is</span> <span m='3108080'>in</span>
  <span m='3108140'>the</span> <span m='3108260'>set,</span> <span m='3111100'>nine--</span>
  <span m='3111680'>I</span> <span m='3111740'>think--</span> <span m='3111980'>is</span>
  <span m='3112100'>in the</span> <span m='3112230'>set,</span> <span m='3112640'>10,</span>
  <span m='3113600'>and</span> <span m='3113930'>15</span> <span m='3114530'>are</span>
  <span m='3114740'>in</span> <span m='3114890'>the</span> <span m='3114950'>set.</span>
  </p><p><span m='3118610'>I</span> <span m='3118700'>kind</span> <span m='3118910'>of</span>
  <span m='3118970'>want</span> <span m='3119120'>to</span> <span m='3119210'>maintain</span>
  <span m='3119600'>this.</span> <span m='3119930'>This is,</span> <span m='3119990'>of</span>
  <span m='3120110'>course,</span> <span m='3120290'>easy</span> <span m='3120530'>to</span>
  <span m='3120620'>maintain</span> <span m='3120980'>by</span> <span m='3121100'>insertions</span>
  <span m='3121520'>and</span> <span m='3121610'>deletions.</span> <span m='3122000'>I</span>
  <span m='3122060'>just</span> <span m='3122210'>flip</span> <span m='3122420'>a</span>
  <span m='3122480'>bit</span> <span m='3122690'>on</span> <span m='3122840'>or</span>
  <span m='3122960'>off.</span> <span m='3123740'>But</span> <span m='3123920'>I</span>
  <span m='3123980'>want</span> <span m='3124160'>to</span> <span m='3124220'>be</span>
  <span m='3124280'>able</span> <span m='3124400'>to</span> <span m='3124460'>do</span>
  <span m='3124790'>successor</span> <span m='3125270'>queries.</span> <span m='3125760'>And
  if</span> <span m='3125860'>I</span> <span m='3125960'>want</span> <span m='3125990'>the</span>
  <span m='3126080'>successor</span> <span m='3126590'>of,</span> <span m='3126680'>say,</span>
  <span m='3126890'>this</span> <span m='3127100'>0,</span> <span m='3127850'>finding</span>
  <span m='3128150'>the</span> <span m='3128240'>next</span> <span m='3128450'>1--</span>
  <span m='3128900'>I</span> <span m='3128960'>don't</span> <span m='3129110'>want</span>
  <span m='3129230'>to</span> <span m='3129320'>have</span> <span m='3129470'>to</span>
  <span m='3129590'>walk</span> <span m='3129860'>down.</span> <span m='3130160'>That</span>
  <span m='3130250'>would</span> <span m='3130400'>take</span> <span m='3130950'>order
  u</span> <span m='3131240'>time--</span> <span m='3131720'>very</span> <span m='3131930'>bad.</span>
  <span m='3132890'>So</span> <span m='3133550'>obvious</span> <span m='3133850'>thing</span>
  <span m='3134000'>to</span> <span m='3134060'>do</span> <span m='3134210'>is</span>
  <span m='3134300'>build</span> <span m='3134510'>a</span> <span m='3134570'>tree</span>
  <span m='3134810'>on</span> <span m='3134930'>this</span> <span m='3135080'>thing.</span>
  </p><p><span m='3140990'>And</span> <span m='3141230'>I'm</span> <span m='3141320'>going</span>
  <span m='3141440'>to</span> <span m='3141530'>put</span> <span m='3141920'>in</span>
  <span m='3142130'>here</span> <span m='3143150'>the</span> <span m='3143390'>or</span>
  <span m='3143840'>of</span> <span m='3143990'>the</span> <span m='3144110'>two</span>
  <span m='3144260'>children.</span> <span m='3145400'>Every</span> <span m='3145640'>node</span>
  <span m='3145820'>will</span> <span m='3145950'>store</span> <span m='3146160'>the</span>
  <span m='3146300'>or</span> <span m='3146510'>of</span> <span m='3146630'>its</span>
  <span m='3146750'>children.</span> <span m='3151160'>And</span> <span m='3151550'>then</span>
  <span m='3152010'>keep</span> <span m='3152390'>building</span> <span m='3152560'>the</span>
  <span m='3152630'>tree.</span> </p><p><span m='3164630'>Now</span> <span m='3164780'>we</span>
  <span m='3164900'>have</span> <span m='3165050'>a</span> <span m='3165110'>binary</span>
  <span m='3165440'>tree,</span> <span m='3166760'>with</span> <span m='3166910'>bits</span>
  <span m='3167750'>on</span> <span m='3167870'>the</span> <span m='3167930'>vertices.</span>
  <span m='3169400'>And</span> <span m='3169550'>I</span> <span m='3169640'>claim,</span>
  <span m='3170810'>if</span> <span m='3170960'>I</span> <span m='3171050'>want</span>
  <span m='3171200'>to</span> <span m='3171260'>compute</span> <span m='3171500'>the</span>
  <span m='3171590'>successor</span> <span m='3172190'>of</span> <span m='3172280'>this</span>
  <span m='3172430'>item,</span> <span m='3173390'>I</span> <span m='3173540'>can</span>
  <span m='3173720'>do</span> <span m='3173900'>it</span> <span m='3174020'>in</span>
  <span m='3174140'>a</span> <span m='3174200'>pretty</span> <span m='3174440'>natural</span>
  <span m='3174770'>way</span> <span m='3175040'>in</span> <span m='3175280'>the</span>
  <span m='3175360'>log</span> <span m='3176600'>log</span> <span m='3176990'>u</span>
  <span m='3177230'>time.</span> <span m='3178290'>So</span> <span m='3179000'>keep</span>
  <span m='3179180'>in</span> <span m='3179270'>mind,</span> <span m='3179540'>this</span>
  <span m='3179780'>height</span> <span m='3180050'>here</span> <span m='3181100'>is</span>
  <span m='3182210'>w--</span> <span m='3183860'>log</span> <span m='3184190'>u.</span>
  <span m='3187610'>So</span> <span m='3187730'>I</span> <span m='3187790'>need</span>
  <span m='3187970'>to</span> <span m='3188060'>achieve</span> <span m='3188390'>log</span>
  <span m='3188810'>w.</span> </p><p><span m='3189270'>So</span> <span m='3189470'>of</span>
  <span m='3189620'>course,</span> <span m='3189950'>you</span> <span m='3190100'>could</span>
  <span m='3190430'>try</span> <span m='3190610'>just</span> <span m='3190790'>walking</span>
  <span m='3191240'>down</span> <span m='3191480'>this</span> <span m='3191630'>tree,</span>
  <span m='3192740'>or</span> <span m='3192890'>walking</span> <span m='3193280'>up</span>
  <span m='3193430'>and</span> <span m='3193550'>then</span> <span m='3193670'>back</span>
  <span m='3193910'>down.</span> <span m='3194660'>That</span> <span m='3194840'>would</span>
  <span m='3194960'>take</span> <span m='3196040'>order</span> <span m='3196290'>w</span>
  <span m='3196670'>time.</span> <span m='3197510'>That's</span> <span m='3197810'>the</span>
  <span m='3197930'>obvious</span> <span m='3198290'>BST</span> <span m='3198680'>approach.</span>
  <span m='3199340'>I</span> <span m='3199460'>want</span> <span m='3199640'>to</span>
  <span m='3199700'>do</span> <span m='3200030'>log</span> <span m='3200510'>w.</span>
  </p><p><span m='3201600'>So</span> <span m='3201740'>how</span> <span m='3201860'>do</span>
  <span m='3201970'>I</span> <span m='3202040'>do</span> <span m='3202190'>it?</span>
  <span m='3202360'>I'm</span> <span m='3202440'>going</span> <span m='3202580'>to</span>
  <span m='3202640'>binary</span> <span m='3203120'>search</span> <span m='3204770'>on</span>
  <span m='3205640'>the</span> <span m='3205770'>height.</span> <span m='3207626'>How
  could</span> <span m='3208090'>I</span> <span m='3208330'>binary</span> <span m='3208810'>search</span>
  <span m='3209080'>on</span> <span m='3209200'>the</span> <span m='3209260'>height?</span>
  </p><p><span m='3209920'>Well,</span> <span m='3211750'>what</span> <span m='3211930'>I'd</span>
  <span m='3211990'>really</span> <span m='3212230'>like</span> <span m='3212410'>to</span>
  <span m='3212530'>do,</span> <span m='3212830'>in</span> <span m='3212920'>some</span>
  <span m='3213100'>sense--</span> <span m='3213340'>if</span> <span m='3213790'>I</span>
  <span m='3213910'>look</span> <span m='3214090'>at</span> <span m='3214240'>the</span>
  <span m='3214360'>path</span> <span m='3215380'>of</span> <span m='3215560'>this</span>
  <span m='3215770'>node</span> <span m='3216730'>to</span> <span m='3217090'>the</span>
  <span m='3217210'>route--</span> <span m='3217570'>where</span> <span m='3217690'>is</span>
  <span m='3217810'>my</span> <span m='3217960'>red chalk?</span> <span m='3220940'>So</span>
  <span m='3221020'>here's</span> <span m='3221440'>the</span> <span m='3221560'>path</span>
  <span m='3222990'>to</span> <span m='3223180'>the</span> <span m='3223370'>root.</span>
  <span m='3226840'>These</span> <span m='3227020'>bits</span> <span m='3227290'>are</span>
  <span m='3227380'>saying,</span> <span m='3227830'>is</span> <span m='3227980'>there</span>
  <span m='3228130'>anybody</span> <span m='3228640'>down</span> <span m='3228910'>here?</span>
  <span m='3230540'>That's</span> <span m='3231010'>what</span> <span m='3231130'>the</span>
  <span m='3231220'>or</span> <span m='3232000'>gives</span> <span m='3232270'>you.</span>
  <span m='3232870'>So</span> <span m='3232960'>it's</span> <span m='3233080'>like</span>
  <span m='3233260'>the</span> <span m='3233320'>summary</span> <span m='3233650'>structure.</span>
  </p><p><span m='3235540'>If</span> <span m='3235750'>I</span> <span m='3235840'>want</span>
  <span m='3236020'>to</span> <span m='3236170'>search</span> <span m='3236500'>for</span>
  <span m='3236590'>this</span> <span m='3236770'>guy--</span> <span m='3237190'>well,</span>
  <span m='3238540'>if</span> <span m='3238750'>I</span> <span m='3238810'>walked</span>
  <span m='3239170'>up,</span> <span m='3239590'>eventually,</span> <span m='3240010'>I</span>
  <span m='3240100'>find</span> <span m='3240340'>a</span> <span m='3240500'>1.</span>
  <span m='3241660'>And</span> <span m='3241750'>that's</span> <span m='3241960'>when</span>
  <span m='3242080'>I</span> <span m='3242170'>find</span> <span m='3242410'>the</span>
  <span m='3242530'>first</span> <span m='3243070'>nearby</span> <span m='3243550'>element.</span>
  <span m='3244180'>Now,</span> <span m='3244300'>in</span> <span m='3244360'>this</span>
  <span m='3244540'>case</span> <span m='3244780'>it's</span> <span m='3244870'>not</span>
  <span m='3245050'>the</span> <span m='3245140'>successor</span> <span m='3245840'>I</span>
  <span m='3245920'>find.</span> <span m='3246220'>It's</span> <span m='3246370'>really</span>
  <span m='3246520'>the</span> <span m='3246610'>predecessor</span> <span m='3247210'>I</span>
  <span m='3247270'>found.</span> <span m='3248110'>When</span> <span m='3248230'>you</span>
  <span m='3248350'>get</span> <span m='3248560'>to</span> <span m='3248680'>the</span>
  <span m='3248770'>first</span> <span m='3249100'>one--</span> <span m='3249280'>the</span>
  <span m='3249400'>transition</span> <span m='3249940'>from</span> <span m='3250090'>0</span>
  <span m='3250330'>to</span> <span m='3250420'>1--</span> <span m='3251320'>you</span>
  <span m='3251440'>look</span> <span m='3251650'>at</span> <span m='3251770'>your</span>
  <span m='3252010'>sibling--</span> <span m='3252730'>the</span> <span m='3252910'>other</span>
  <span m='3253150'>child</span> <span m='3253600'>of</span> <span m='3253690'>that</span>
  <span m='3253900'>one.</span> <span m='3255250'>And</span> <span m='3255640'>down</span>
  <span m='3256090'>in</span> <span m='3256270'>this</span> <span m='3256420'>subtree,</span>
  <span m='3257740'>there</span> <span m='3257860'>will</span> <span m='3257980'>be</span>
  <span m='3258280'>either</span> <span m='3258610'>the</span> <span m='3258700'>predecessor</span>
  <span m='3259210'>or</span> <span m='3259360'>the</span> <span m='3259450'>successor.</span>
  <span m='3260680'>In</span> <span m='3260740'>this</span> <span m='3260860'>case,</span>
  <span m='3261070'>we've</span> <span m='3261160'>got</span> <span m='3261280'>the</span>
  <span m='3261370'>predecessor,</span> <span m='3261940'>because</span> <span m='3262210'>it</span>
  <span m='3262300'>was</span> <span m='3262490'>to</span> <span m='3262600'>the</span>
  <span m='3262670'>left.</span> <span m='3263460'>We</span> <span m='3263560'>take</span>
  <span m='3263770'>the</span> <span m='3263860'>max</span> <span m='3264220'>element</span>
  <span m='3264520'>in</span> <span m='3264670'>there,</span> <span m='3265140'>and</span>
  <span m='3265320'>that's</span> <span m='3265490'>the</span> <span m='3265570'>predecessor</span>
  <span m='3266080'>of</span> <span m='3266140'>this</span> <span m='3266320'>item.</span>
  </p><p><span m='3267290'>If</span> <span m='3267340'>instead,</span> <span m='3267730'>we</span>
  <span m='3267820'>had</span> <span m='3267910'>found</span> <span m='3268180'>this</span>
  <span m='3268360'>was</span> <span m='3268510'>our</span> <span m='3268600'>first</span>
  <span m='3268870'>one,</span> <span m='3269080'>then</span> <span m='3269230'>we</span>
  <span m='3269350'>look</span> <span m='3269560'>over</span> <span m='3269740'>here,</span>
  <span m='3269930'>take</span> <span m='3270220'>the</span> <span m='3270310'>min--</span>
  <span m='3271160'>there's,</span> <span m='3271290'>of</span> <span m='3271420'>course,</span>
  <span m='3271600'>nothing</span> <span m='3271900'>here.</span> <span m='3272230'>But</span>
  <span m='3273420'>in</span> <span m='3273540'>that</span> <span m='3273820'>situation,</span>
  <span m='3274390'>the</span> <span m='3274480'>min</span> <span m='3274720'>over</span>
  <span m='3274930'>there</span> <span m='3275110'>would</span> <span m='3275260'>be</span>
  <span m='3275440'>our</span> <span m='3275560'>successor.</span> <span m='3276670'>So</span>
  <span m='3277030'>we</span> <span m='3277150'>can't</span> <span m='3277780'>guarantee</span>
  <span m='3278350'>which</span> <span m='3278530'>one</span> <span m='3278710'>we</span>
  <span m='3278830'>find.</span> <span m='3279220'>But</span> <span m='3279340'>we</span>
  <span m='3279460'>will</span> <span m='3279550'>find</span> <span m='3279880'>either</span>
  <span m='3280240'>the</span> <span m='3280360'>predecessor</span> <span m='3280900'>or</span>
  <span m='3281080'>the</span> <span m='3281200'>successor</span> <span m='3282130'>if</span>
  <span m='3282310'>we</span> <span m='3282430'>could</span> <span m='3282550'>find</span>
  <span m='3282820'>the</span> <span m='3282910'>first</span> <span m='3283150'>transition</span>
  <span m='3283720'>from</span> <span m='3283900'>0</span> <span m='3284080'>to</span>
  <span m='3284210'>1.</span> <span m='3285410'>And</span> <span m='3285490'>we</span>
  <span m='3285580'>can</span> <span m='3285730'>do</span> <span m='3285940'>that</span>
  <span m='3286240'>via</span> <span m='3286630'>binary</span> <span m='3287020'>search,</span>
  <span m='3287470'>because</span> <span m='3288040'>this</span> <span m='3288280'>string</span>
  <span m='3288670'>is</span> <span m='3288820'>monotone.</span> <span m='3289910'>It's</span>
  <span m='3290020'>a</span> <span m='3290080'>whole</span> <span m='3290230'>bunch</span>
  <span m='3290410'>of</span> <span m='3290470'>zeros</span> <span m='3290800'>for</span>
  <span m='3290920'>awhile,</span> <span m='3291220'>and</span> <span m='3291310'>then</span>
  <span m='3291430'>once</span> <span m='3291610'>you</span> <span m='3291700'>get
  a</span> <span m='3291830'>1,</span> <span m='3292090'>it's</span> <span m='3292180'>going</span>
  <span m='3292330'>to</span> <span m='3292390'>continue</span> <span m='3292720'>to</span>
  <span m='3292810'>be</span> <span m='3292900'>1,</span> <span m='3293110'>because</span>
  <span m='3293290'>those</span> <span m='3293440'>are</span> <span m='3293530'>or.</span>
  <span m='3294730'>That</span> <span m='3294940'>one</span> <span m='3295180'>will</span>
  <span m='3295270'>propagate</span> <span m='3295750'>up.</span> </p><p><span m='3318090'>So</span>
  <span m='3318300'>this</span> <span m='3318510'>is</span> <span m='3318610'>the</span>
  <span m='3318750'>new</span> <span m='3318960'>idea</span> <span m='3319710'>to</span>
  <span m='3319830'>get</span> <span m='3320010'>log</span> <span m='3320280'>log</span>
  <span m='3320460'>u,</span> <span m='3320670'>predecessor,</span> <span m='3321210'>successor</span>
  <span m='3322920'>is</span> <span m='3323160'>to--</span> <span m='3325376'>let's</span>
  <span m='3325810'>say--</span> <span m='3331420'>any</span> <span m='3331660'>root-to-leaf</span>
  <span m='3332170'>path</span> <span m='3334050'>is</span> <span m='3334210'>monotone.</span>
  <span m='3334555'>It's</span> <span m='3334900'>0</span> <span m='3335380'>for</span>
  <span m='3335560'>awhile,</span> <span m='3336010'>and</span> <span m='3336100'>then</span>
  <span m='3336220'>it</span> <span m='3336280'>becomes</span> <span m='3336580'>1</span>
  <span m='3336820'>forever.</span> <span m='3340550'>So</span> <span m='3340690'>we</span>
  <span m='3341050'>should</span> <span m='3341230'>be</span> <span m='3341320'>able</span>
  <span m='3341470'>to</span> <span m='3341560'>binary</span> <span m='3341950'>search</span>
  <span m='3344050'>for</span> <span m='3344410'>the</span> <span m='3344580'>0</span>
  <span m='3344890'>to</span> <span m='3344980'>1</span> <span m='3345160'>transition.</span>
  <span m='3351200'>And</span> <span m='3351430'>it</span> <span m='3351610'>either</span>
  <span m='3351910'>looks</span> <span m='3352150'>like</span> <span m='3352420'>this,</span>
  <span m='3353380'>or</span> <span m='3354610'>it</span> <span m='3354760'>looks</span>
  <span m='3355000'>like</span> <span m='3355690'>this.</span> </p><p><span m='3357470'>So</span>
  <span m='3357580'>our</span> <span m='3357730'>query</span> <span m='3358840'>was</span>
  <span m='3358960'>somewhere</span> <span m='3359470'>down</span> <span m='3359740'>here</span>
  <span m='3362640'>in</span> <span m='3362800'>the</span> <span m='3362890'>0</span>
  <span m='3363320'>part.</span> <span m='3364990'>I'm</span> <span m='3365080'>assuming</span>
  <span m='3365410'>that</span> <span m='3365530'>our</span> <span m='3365590'>query</span>
  <span m='3365720'>is</span> <span m='3365890'>not</span> <span m='3366040'>a</span>
  <span m='3366100'>1.</span> <span m='3366370'>Otherwise,</span> <span m='3366700'>it's</span>
  <span m='3366820'>an</span> <span m='3366910'>immediate</span> <span m='3367330'>0</span>
  <span m='3367540'>to</span> <span m='3367630'>1</span> <span m='3367780'>transition.</span>
  <span m='3368990'>And</span> <span m='3369340'>that's</span> <span m='3369550'>a</span>
  <span m='3369640'>special</span> <span m='3370000'>case.</span> <span m='3370410'>It's</span>
  <span m='3370510'>easy</span> <span m='3370620'>to</span> <span m='3370720'>deal</span>
  <span m='3370870'>with.</span> </p><p><span m='3371770'>And</span> <span m='3371890'>then</span>
  <span m='3372130'>there's</span> <span m='3372370'>the</span> <span m='3372580'>other</span>
  <span m='3374320'>tree--</span> <span m='3377190'>the</span> <span m='3377320'>sibling</span>
  <span m='3378310'>of</span> <span m='3378520'>x--</span> <span m='3379450'>the</span>
  <span m='3379570'>other</span> <span m='3379780'>child</span> <span m='3380140'>of</span>
  <span m='3380410'>the</span> <span m='3380560'>1.</span> <span m='3382810'>And</span>
  <span m='3383020'>in</span> <span m='3383110'>this</span> <span m='3383230'>case,</span>
  <span m='3383470'>we</span> <span m='3383590'>want</span> <span m='3383770'>to</span>
  <span m='3383830'>take</span> <span m='3384010'>the</span> <span m='3384130'>min.</span>
  <span m='3385870'>And</span> <span m='3386020'>that</span> <span m='3386200'>will</span>
  <span m='3386350'>give</span> <span m='3386590'>us</span> <span m='3386780'>our</span>
  <span m='3387030'>successor</span> <span m='3387760'>of</span> <span m='3387880'>x.</span>
  <span m='3391540'>And</span> <span m='3391690'>in</span> <span m='3391750'>this</span>
  <span m='3391900'>case,</span> <span m='3392170'>we</span> <span m='3392230'>want</span>
  <span m='3392410'>to</span> <span m='3392470'>take</span> <span m='3392620'>the</span>
  <span m='3392710'>max</span> <span m='3393100'>over</span> <span m='3393280'>here,</span>
  <span m='3394300'>and</span> <span m='3394390'>that</span> <span m='3394510'>will</span>
  <span m='3394630'>give</span> <span m='3394780'>us</span> <span m='3394930'>the</span>
  <span m='3395050'>predecessor</span> <span m='3395590'>of</span> <span m='3395650'>x.</span>
  </p><p><span m='3401120'>So</span> <span m='3401270'>as</span> <span m='3401360'>long</span>
  <span m='3401540'>as</span> <span m='3401630'>we</span> <span m='3401690'>have</span>
  <span m='3401780'>minimax</span> <span m='3402260'>of</span> <span m='3402310'>subtrees,</span>
  <span m='3402860'>this</span> <span m='3403100'>is</span> <span m='3403190'>constant</span>
  <span m='3403460'>time.</span> <span m='3404690'>We</span> <span m='3404840'>find</span>
  <span m='3405110'>either</span> <span m='3405440'>the</span> <span m='3405560'>predecessor</span>
  <span m='3406130'>or</span> <span m='3406310'>the</span> <span m='3406430'>successor.</span>
  <span m='3407480'>Now,</span> <span m='3407690'>how</span> <span m='3407870'>do</span>
  <span m='3407990'>we</span> <span m='3408050'>get</span> <span m='3408200'>the</span>
  <span m='3408290'>other</span> <span m='3408470'>one?</span> <span m='3409400'>Pretty</span>
  <span m='3409580'>easy.</span> <span m='3410330'>Just</span> <span m='3410480'>store</span>
  <span m='3410690'>a</span> <span m='3410720'>linked</span> <span m='3410990'>list</span>
  <span m='3411350'>of</span> <span m='3411470'>all</span> <span m='3411650'>the</span>
  <span m='3411770'>items,</span> <span m='3412970'>in</span> <span m='3413150'>order.</span>
  </p><p><span m='3414140'>So</span> <span m='3414350'>I'm going</span> <span m='3414470'>to</span>
  <span m='3414540'>store</span> <span m='3414770'>a</span> <span m='3414800'>pointer</span>
  <span m='3415190'>from</span> <span m='3415400'>this</span> <span m='3415610'>one</span>
  <span m='3416660'>to</span> <span m='3417020'>this</span> <span m='3417230'>one,</span>
  <span m='3417980'>and</span> <span m='3418100'>vice</span> <span m='3418370'>versa--</span>
  <span m='3419390'>and</span> <span m='3419480'>this</span> <span m='3419630'>one</span>
  <span m='3419810'>or</span> <span m='3419870'>this</span> <span m='3420050'>one.</span>
  <span m='3421020'>This</span> <span m='3421190'>is</span> <span m='3421280'>actually</span>
  <span m='3421580'>really</span> <span m='3421820'>easy</span> <span m='3422150'>to</span>
  <span m='3423020'>maintain.</span> <span m='3424210'>Because</span> <span m='3426030'>when</span>
  <span m='3426290'>you</span> <span m='3426380'>insert,</span> <span m='3426770'>if</span>
  <span m='3426920'>you</span> <span m='3427010'>can</span> <span m='3427160'>compute</span>
  <span m='3427430'>the</span> <span m='3427520'>predecessor</span> <span m='3428060'>and</span>
  <span m='3428240'>the</span> <span m='3428330'>successor,</span> <span m='3428810'>you</span>
  <span m='3428930'>can</span> <span m='3429050'>just</span> <span m='3429320'>stick</span>
  <span m='3429590'>it</span> <span m='3429650'>in</span> <span m='3429740'>the</span>
  <span m='3429830'>linked</span> <span m='3429980'>list.</span> <span m='3430280'>That's</span>
  <span m='3430430'>really</span> <span m='3430640'>easy.</span> <span m='3431100'>We</span>
  <span m='3431120'>know</span> <span m='3431240'>how</span> <span m='3431390'>to</span>
  <span m='3431510'>do</span> <span m='3431630'>that</span> <span m='3431780'>in</span>
  <span m='3431840'>constant</span> <span m='3432210'>time.</span> </p><p><span m='3433260'>So</span>
  <span m='3433310'>once</span> <span m='3433520'>you</span> <span m='3433610'>do</span>
  <span m='3433730'>this,</span> <span m='3434210'>it's</span> <span m='3434390'>enough</span>
  <span m='3434690'>to</span> <span m='3434810'>find</span> <span m='3435110'>one</span>
  <span m='3435350'>of</span> <span m='3435470'>them,</span> <span m='3436070'>as</span>
  <span m='3436130'>long</span> <span m='3436280'>as</span> <span m='3436340'>you</span>
  <span m='3436430'>know</span> <span m='3436550'>which</span> <span m='3436730'>one</span>
  <span m='3436910'>it</span> <span m='3437000'>is.</span> <span m='3437270'>Because</span>
  <span m='3437420'>then</span> <span m='3437540'>you</span> <span m='3437630'>just</span>
  <span m='3438140'>follow</span> <span m='3438440'>a</span> <span m='3438500'>pointer--</span>
  <span m='3438830'>either a</span> <span m='3439040'>forward</span> <span m='3439340'>or
  a</span> <span m='3439460'>backward</span> <span m='3439820'>pointer--</span> <span
  m='3439990'>and</span> <span m='3440060'>you</span> <span m='3440150'>get</span>
  <span m='3440300'>the</span> <span m='3440420'>other</span> <span m='3440570'>one.</span>
  <span m='3441060'>So</span> <span m='3441260'>whichever</span> <span m='3441650'>one</span>
  <span m='3441800'>you</span> <span m='3441890'>wanted--</span> <span m='3442160'>you</span>
  <span m='3442250'>find</span> <span m='3442460'>both the</span> <span m='3442700'>predecessor</span>
  <span m='3443210'>and</span> <span m='3443300'>successor</span> <span m='3444350'>at</span>
  <span m='3444470'>the</span> <span m='3444560'>cost</span> <span m='3444800'>of</span>
  <span m='3444860'>finding</span> <span m='3445280'>either</span> <span m='3445580'>one.</span>
  <span m='3446690'>So</span> <span m='3446840'>that's</span> <span m='3447020'>a</span>
  <span m='3447080'>cute</span> <span m='3447290'>little</span> <span m='3447500'>trick.</span>
  </p><p><span m='3450170'>This</span> <span m='3450410'>is</span> <span m='3451310'>hard</span>
  <span m='3451700'>to</span> <span m='3451850'>maintain,</span> <span m='3452270'>dynamically,</span>
  <span m='3453770'>at</span> <span m='3453890'>the</span> <span m='3454010'>moment.</span>
  <span m='3454610'>But</span> <span m='3455990'>this</span> <span m='3456200'>is,</span>
  <span m='3456350'>I</span> <span m='3456440'>think,</span> <span m='3456650'>where</span>
  <span m='3457190'>the</span> <span m='3457280'>Van Emde Boas</span> <span m='3457670'>structure</span>
  <span m='3458600'>came</span> <span m='3458810'>from.</span> <span m='3459080'>It's</span>
  <span m='3459290'>nice</span> <span m='3459530'>to</span> <span m='3459620'>think</span>
  <span m='3459800'>about</span> <span m='3460010'>it</span> <span m='3460070'>in</span>
  <span m='3460160'>the tree</span> <span m='3460250'>view.</span> </p><p><span m='3462830'>So</span>
  <span m='3463010'>we</span> <span m='3466280'>get</span> <span m='3466520'>log</span>
  <span m='3466790'>log</span> <span m='3467000'>you</span> <span m='3467390'>u,</span>
  <span m='3470120'>predecessor,</span> <span m='3470630'>and</span> <span m='3470720'>successor.</span>
  <span m='3474260'>I</span> <span m='3474350'>should</span> <span m='3474560'>say</span>
  <span m='3474800'>what</span> <span m='3475130'>this</span> <span m='3475400'>relies</span>
  <span m='3475940'>on</span> <span m='3476570'>is</span> <span m='3476780'>the</span>
  <span m='3476870'>ability</span> <span m='3477260'>to</span> <span m='3477350'>binary</span>
  <span m='3477740'>search</span> <span m='3478040'>on</span> <span m='3478160'>any</span>
  <span m='3478340'>route-to-node</span> <span m='3478820'>path.</span> <span m='3479750'>Now,</span>
  <span m='3480020'>there</span> <span m='3480170'>aren't</span> <span m='3480290'>enough</span>
  <span m='3480500'>pointers</span> <span m='3480830'>to</span> <span m='3480920'>do</span>
  <span m='3481100'>that.</span> </p><p><span m='3483740'>So</span> <span m='3483830'>you</span>
  <span m='3483890'>have</span> <span m='3483980'>a</span> <span m='3484010'>choice.</span>
  <span m='3484680'>Either</span> <span m='3485780'>you</span> <span m='3486170'>realize,</span>
  <span m='3486780'>oh,</span> <span m='3486860'>this</span> <span m='3487070'>is</span>
  <span m='3487190'>a</span> <span m='3487250'>bunch</span> <span m='3487520'>of</span>
  <span m='3487700'>bits</span> <span m='3488060'>in</span> <span m='3488150'>a</span>
  <span m='3488210'>complete</span> <span m='3488570'>binary</span> <span m='3488960'>tree,</span>
  <span m='3489990'>so</span> <span m='3491570'>I</span> <span m='3491690'>can</span>
  <span m='3492110'>store</span> <span m='3492410'>them</span> <span m='3492530'>sequentially</span>
  <span m='3493040'>in</span> <span m='3493130'>array.</span> <span m='3494090'>And</span>
  <span m='3494270'>given</span> <span m='3494630'>a</span> <span m='3494690'>particular</span>
  <span m='3496400'>node</span> <span m='3497090'>position</span> <span m='3497345'>in</span>
  <span m='3497600'>that</span> <span m='3497750'>array,</span> <span m='3498050'>I</span>
  <span m='3498140'>can</span> <span m='3498290'>compute,</span> <span m='3498970'>what</span>
  <span m='3499160'>is</span> <span m='3499310'>the</span> <span m='3499580'>second</span>
  <span m='3500000'>ancestor,</span> <span m='3500660'>or</span> <span m='3500840'>the</span>
  <span m='3500960'>fourth</span> <span m='3501560'>ancestor</span> <span m='3502190'>or</span>
  <span m='3502220'>whatever,</span> <span m='3503090'>in</span> <span m='3503210'>constant</span>
  <span m='3503630'>time.</span> <span m='3503970'>I</span> <span m='3504020'>just</span>
  <span m='3504140'>do</span> <span m='3504260'>some</span> <span m='3504440'>arithmetic</span>
  <span m='3505010'>and</span> <span m='3505080'>I</span> <span m='3505130'>can</span>
  <span m='3505310'>compute</span> <span m='3505640'>from</span> <span m='3505820'>here</span>
  <span m='3506330'>where</span> <span m='3506450'>to</span> <span m='3506570'>go</span>
  <span m='3506690'>to</span> <span m='3506780'>there.</span> <span m='3506960'>It's</span>
  <span m='3507080'>like</span> <span m='3507230'>the</span> <span m='3508160'>regular</span>
  <span m='3508460'>old</span> <span m='3508640'>heaps,</span> <span m='3508970'>but</span>
  <span m='3509210'>a</span> <span m='3509270'>little</span> <span m='3509510'>bit</span>
  <span m='3509630'>embellished,</span> <span m='3510080'>because</span> <span m='3510230'>you</span>
  <span m='3510290'>have</span> <span m='3510380'>to</span> <span m='3510470'>divide</span>
  <span m='3510770'>by</span> <span m='3510950'>a</span> <span m='3510980'>larger</span>
  <span m='3511310'>power</span> <span m='3511530'>of</span> <span m='3511640'>two,</span>
  <span m='3511790'>not</span> <span m='3511970'>just</span> <span m='3512180'>one</span>
  <span m='3512360'>of</span> <span m='3512420'>them.</span> </p><p><span m='3513540'>So</span>
  <span m='3513650'>that's</span> <span m='3513890'>one</span> <span m='3514070'>way</span>
  <span m='3514160'>to</span> <span m='3514280'>do</span> <span m='3514430'>it.</span>
  <span m='3516000'>So</span> <span m='3516160'>in</span> <span m='3516280'>a</span>
  <span m='3516400'>RAM,</span> <span m='3517180'>that</span> <span m='3517350'>all</span>
  <span m='3517430'>works</span> <span m='3517640'>fine.</span> <span m='3519310'>When</span>
  <span m='3519740'>van Emde Boas</span> <span m='3520300'>wrote</span> <span m='3520460'>this</span>
  <span m='3520610'>paper,</span> <span m='3520910'>though,</span> <span m='3521150'>the</span>
  <span m='3521240'>RAM</span> <span m='3521510'>didn't--</span> <span m='3522145'>it</span>
  <span m='3522510'>kind</span> <span m='3522830'>of</span> <span m='3522950'>existed.</span>
  <span m='3523490'>It</span> <span m='3523550'>just</span> <span m='3523700'>wasn't</span>
  <span m='3524150'>as</span> <span m='3524550'>well-developed</span> <span m='3525070'>then.</span>
  <span m='3525590'>And</span> <span m='3525830'>the</span> <span m='3525920'>hot</span>
  <span m='3526100'>thing</span> <span m='3526310'>at</span> <span m='3526400'>the</span>
  <span m='3526490'>time</span> <span m='3526760'>was</span> <span m='3526910'>the</span>
  <span m='3526970'>pointer</span> <span m='3527240'>machine,</span> <span m='3529520'>or</span>
  <span m='3529940'>I</span> <span m='3530030'>guess</span> <span m='3530300'>at</span>
  <span m='3530390'>that</span> <span m='3530540'>point,</span> <span m='3530790'>they</span>
  <span m='3530810'>called</span> <span m='3530990'>it</span> <span m='3531080'>the</span>
  <span m='3531170'>Pascal</span> <span m='3531590'>machine,</span> <span m='3532310'>more
  or</span> <span m='3532550'>less.</span> <span m='3533690'>Pascal</span> <span m='3534060'>does</span>
  <span m='3534320'>have</span> <span m='3534500'>arrays.</span> <span m='3535280'>And</span>
  <span m='3535490'>the</span> <span m='3535580'>funny</span> <span m='3535910'>thing</span>
  <span m='3536090'>is,</span> <span m='3537050'>Van Emde Boas</span> <span m='3537470'>does</span>
  <span m='3538460'>use</span> <span m='3538700'>arrays,</span> <span m='3539660'>but</span>
  <span m='3539840'>mostly</span> <span m='3540500'>it's</span> <span m='3540620'>pointers.</span>
  <span m='3541220'>And</span> <span m='3541460'>you</span> <span m='3541610'>can</span>
  <span m='3541790'>get</span> <span m='3541970'>rid</span> <span m='3542210'>of</span>
  <span m='3542330'>the</span> <span m='3542450'>arrays</span> <span m='3542750'>from</span>
  <span m='3542870'>their</span> <span m='3542990'>structure.</span> </p><p><span
  m='3543840'>And</span> <span m='3543950'>essentially,</span> <span m='3544490'>in</span>
  <span m='3544610'>the</span> <span m='3544760'>end,</span> <span m='3545870'>Van
  Emde Boas,</span> <span m='3547040'>as</span> <span m='3547280'>presented</span>
  <span m='3547700'>like</span> <span m='3547880'>this,</span> <span m='3548570'>is</span>
  <span m='3548870'>in</span> <span m='3549080'>a</span> <span m='3549140'>pointer</span>
  <span m='3549420'>machine.</span> <span m='3550770'>Let</span> <span m='3550790'>me</span>
  <span m='3551180'>tell</span> <span m='3551330'>you</span> <span m='3551390'>a</span>
  <span m='3551420'>little</span> <span m='3551840'>bit</span> <span m='3551960'>about</span>
  <span m='3552230'>that.</span> </p><p><span m='3556440'>So</span> <span m='3563420'>original</span>
  <span m='3563960'>Van Emde Boas,</span> <span m='3565970'>which</span> <span m='3566450'>I'll</span>
  <span m='3566600'>call</span> <span m='3566960'>stratified</span> <span m='3567710'>trees--</span>
  <span m='3568040'>that's</span> <span m='3568220'>what</span> <span m='3568350'>he</span>
  <span m='3568460'>called</span> <span m='3568790'>it--</span> <span m='3570980'>is</span>
  <span m='3571130'>basically</span> <span m='3572570'>this</span> <span m='3572810'>tree</span>
  <span m='3573050'>structure</span> <span m='3573470'>with</span> <span m='3573650'>a</span>
  <span m='3573710'>lot</span> <span m='3574040'>more</span> <span m='3574280'>pointers.</span>
  <span m='3575520'>So</span> <span m='3575660'>in</span> <span m='3575780'>particular,</span>
  <span m='3577730'>each</span> <span m='3578900'>leaf--</span> <span m='3579500'>or</span>
  <span m='3579650'>every</span> <span m='3579920'>node,</span> <span m='3580200'>actually,</span>
  <span m='3580640'>let's</span> <span m='3580930'>say--</span> <span m='3582000'>stores</span>
  <span m='3584360'>a</span> <span m='3584420'>pointer</span> <span m='3586790'>to</span>
  <span m='3589400'>2</span> <span m='3589850'>to the</span> <span m='3590180'>ith</span>
  <span m='3590780'>ancestor,</span> <span m='3594080'>where</span> <span m='3594320'>i</span>
  <span m='3594760'>is</span> <span m='3595200'>0, 1,</span> <span m='3595640'>up
  to</span> <span m='3600620'>log</span> <span m='3600830'>w.</span> <span m='3602123'>Because</span>
  <span m='3602554'>it was</span> <span m='3602985'>the</span> <span m='3603420'>2
  to</span> <span m='3603540'>the--</span> <span m='3603740'>here.</span> </p><p><span
  m='3604590'>So</span> <span m='3604610'>once</span> <span m='3604790'>you</span>
  <span m='3604880'>get</span> <span m='3607040'>the</span> <span m='3607250'>ancestor</span>
  <span m='3607670'>immediately</span> <span m='3608060'>above</span> <span m='3608300'>me,</span>
  <span m='3608420'>two</span> <span m='3608630'>steps</span> <span m='3608870'>above</span>
  <span m='3609080'>me,</span> <span m='3609200'>four</span> <span m='3609470'>steps</span>
  <span m='3609710'>above</span> <span m='3609980'>me,</span> <span m='3610130'>eight</span>
  <span m='3610280'>steps</span> <span m='3610550'>above</span> <span m='3610760'>me,</span>
  <span m='3611180'>that's</span> <span m='3611390'>what</span> <span m='3611540'>I</span>
  <span m='3611600'>really</span> <span m='3611870'>need</span> <span m='3612740'>to</span>
  <span m='3612890'>do</span> <span m='3613010'>this</span> <span m='3613150'>binary</span>
  <span m='3613380'>search.</span> <span m='3613700'>The</span> <span m='3613820'>first</span>
  <span m='3614090'>thing</span> <span m='3614240'>I</span> <span m='3614330'>need</span>
  <span m='3614510'>is</span> <span m='3614660'>halfway</span> <span m='3615140'>up.</span>
  <span m='3616190'>And</span> <span m='3616340'>then</span> <span m='3616490'>if</span>
  <span m='3616640'>I</span> <span m='3616670'>have</span> <span m='3616820'>to</span>
  <span m='3616910'>go</span> <span m='3617060'>down,</span> <span m='3617450'>I'm</span>
  <span m='3617510'>going</span> <span m='3617630'>to</span> <span m='3617720'>need</span>
  <span m='3618440'>a</span> <span m='3618470'>quarter</span> <span m='3618800'>of</span>
  <span m='3618890'>the</span> <span m='3618980'>way</span> <span m='3619130'>up.</span>
  <span m='3619310'>And</span> <span m='3619430'>if</span> <span m='3619530'>I</span>
  <span m='3619570'>have</span> <span m='3619700'>to</span> <span m='3619790'>go</span>
  <span m='3619910'>down,</span> <span m='3620240'>I</span> <span m='3620330'>want</span>
  <span m='3620540'>an</span> <span m='3620630'>eighth</span> <span m='3620840'>of</span>
  <span m='3620900'>the</span> <span m='3621020'>way</span> <span m='3621170'>up.</span>
  </p><p><span m='3621800'>Whenever</span> <span m='3622100'>I</span> <span m='3622160'>go</span>
  <span m='3622370'>up,</span> <span m='3623060'>from--</span> <span m='3623450'>if</span>
  <span m='3623600'>I</span> <span m='3623690'>decide,</span> <span m='3624080'>oh,</span>
  <span m='3624480'>this</span> <span m='3624650'>is</span> <span m='3624770'>a</span>
  <span m='3624830'>0.</span> <span m='3625110'>I've</span> <span m='3625190'>got</span>
  <span m='3625300'>to</span> <span m='3625370'>go</span> <span m='3625490'>above</span>
  <span m='3625800'>here.</span> <span m='3626480'>Then</span> <span m='3626720'>I</span>
  <span m='3626840'>do</span> <span m='3626990'>the</span> <span m='3627110'>same</span>
  <span m='3627320'>thing</span> <span m='3627500'>from</span> <span m='3627650'>here.</span>
  <span m='3627890'>I</span> <span m='3627950'>want</span> <span m='3628070'>to</span>
  <span m='3628130'>go</span> <span m='3628250'>halfway</span> <span m='3628640'>up</span>
  <span m='3628730'>from</span> <span m='3628910'>here--</span> <span m='3629970'>from</span>
  <span m='3630020'>this</span> <span m='3630170'>node.</span> <span m='3630830'>So</span>
  <span m='3630950'>as</span> <span m='3631040'>long</span> <span m='3631250'>as</span>
  <span m='3631340'>every</span> <span m='3631550'>node</span> <span m='3632030'>knows</span>
  <span m='3632300'>how</span> <span m='3632390'>to</span> <span m='3632480'>go</span>
  <span m='3632750'>up</span> <span m='3634250'>by</span> <span m='3634640'>any</span>
  <span m='3634910'>power</span> <span m='3635210'>of</span> <span m='3635300'>2,</span>
  <span m='3636140'>we're</span> <span m='3636320'>golden.</span> <span m='3636800'>We</span>
  <span m='3636920'>can</span> <span m='3637040'>do</span> <span m='3637160'>a</span>
  <span m='3637180'>binary</span> <span m='3637490'>search.</span> </p><p><span m='3639440'>The</span>
  <span m='3639560'>trouble</span> <span m='3639830'>with</span> <span m='3639950'>this</span>
  <span m='3640160'>is,</span> <span m='3640310'>it</span> <span m='3640400'>increases</span>
  <span m='3640820'>space.</span> <span m='3641270'>This</span> <span m='3641510'>is</span>
  <span m='3641720'>u</span> <span m='3642590'>log</span> <span m='3643180'>w</span>
  <span m='3644070'>space,</span> <span m='3646010'>which is</span> <span m='3646150'>a</span>
  <span m='3646180'>little</span> <span m='3646640'>bit</span> <span m='3646820'>bigger</span>
  <span m='3647090'>than</span> <span m='3647270'>u.</span> <span m='3647780'>And</span>
  <span m='3647930'>the</span> <span m='3648050'>original</span> <span m='3648470'>van
  Emde Boas</span> <span m='3649040'>paper,</span> <span m='3649340'>conference</span>
  <span m='3649760'>and</span> <span m='3649850'>journal</span> <span m='3650060'>version,</span>
  <span m='3650330'>achieves</span> <span m='3650690'>this</span> <span m='3650930'>bound--</span>
  <span m='3651830'>not</span> <span m='3652070'>u.</span> <span m='3653210'>Little</span>
  <span m='3653420'>historical</span> <span m='3654230'>fun</span> <span m='3654480'>fact--</span>
  <span m='3655790'>not</span> <span m='3655970'>terribly</span> <span m='3656330'>well</span>
  <span m='3656460'>known.</span> <span m='3658250'>Cool.</span> <span m='3658790'>So</span>
  <span m='3659000'>that's</span> <span m='3659960'>stratified</span> <span m='3660740'>trees.</span>
  <span m='3665620'>Anything</span> <span m='3665960'>else?</span> <span m='3668120'>All</span>
  <span m='3668180'>right.</span> <span m='3668600'>Stratified</span> <span m='3669200'>tree.</span>
  <span m='3669680'>Right.</span> </p><p><span m='3670730'>At</span> <span m='3670880'>this</span>
  <span m='3671030'>point,</span> <span m='3671330'>we</span> <span m='3671480'>have</span>
  <span m='3671780'>fast</span> <span m='3672200'>search,</span> <span m='3672740'>but</span>
  <span m='3672950'>slow</span> <span m='3673250'>update</span> <span m='3673670'>let.</span>
  <span m='3673760'>Me</span> <span m='3673850'>tell</span> <span m='3673970'>you</span>
  <span m='3674030'>about</span> <span m='3674180'>updates</span> <span m='3674540'>in</span>
  <span m='3674590'>a</span> <span m='3674630'>second.</span> <span m='3675130'>Yeah,</span>
  <span m='3675630'>question.</span> </p><p><span m='3676080'>AUDIENCE:</span> <span
  m='3676242'>So</span> <span m='3676404'>once</span> <span m='3676567'>you do</span>
  <span m='3677054'>binary</span> <span m='3677541'>search</span> <span m='3678028'>to
  find the</span> <span m='3678515'>first 1,</span> <span m='3679002'>how</span> <span
  m='3679489'>do you</span> <span m='3681437'>walk back</span> <span m='3681924'>down
  the</span> <span m='3682411'>tree--</span> </p><p><span m='3682910'>ERIK DEMAINE:</span>
  <span m='3683060'>Oh,</span> <span m='3683510'>I</span> <span m='3683630'>didn't</span>
  <span m='3683900'>mention,</span> <span m='3684400'>but</span> <span m='3684440'>also,</span>
  <span m='3684830'>every</span> <span m='3685130'>node</span> <span m='3685320'>stores</span>
  <span m='3685640'>min</span> <span m='3685830'>and</span> <span m='3685910'>max.</span>
  <span m='3693500'>So</span> <span m='3693710'>that</span> <span m='3693890'>lets</span>
  <span m='3694100'>me</span> <span m='3694250'>do</span> <span m='3694370'>the</span>
  <span m='3694490'>teleportation</span> <span m='3695210'>back</span> <span m='3695420'>down.</span>
  <span m='3696950'>Every</span> <span m='3697190'>node</span> <span m='3697370'>knows</span>
  <span m='3697610'>the</span> <span m='3697730'>min</span> <span m='3697910'>and</span>
  <span m='3698000'>the</span> <span m='3698090'>max</span> <span m='3698390'>of</span>
  <span m='3698540'>its</span> <span m='3699170'>subtree.</span> </p><p><span m='3699890'>Right.</span>
  <span m='3700070'>One</span> <span m='3700220'>more</span> <span m='3700370'>thing</span>
  <span m='3701030'>I was</span> <span m='3701750'>forgetting</span> <span m='3702140'>here--</span>
  <span m='3702960'>when I</span> <span m='3703010'>say,</span> <span m='3703400'>this</span>
  <span m='3703640'>a</span> <span m='3703700'>lot</span> <span m='3703880'>of</span>
  <span m='3703940'>pointers</span> <span m='3704300'>to</span> <span m='3704360'>store.</span>
  <span m='3704750'>You</span> <span m='3704930'>can't</span> <span m='3705110'>store</span>
  <span m='3705320'>them</span> <span m='3705440'>all</span> <span m='3705620'>in</span>
  <span m='3705710'>one</span> <span m='3705890'>node.</span> <span m='3707330'>And</span>
  <span m='3707630'>in</span> <span m='3707960'>the</span> <span m='3708030'>van Emde
  Boas</span> <span m='3708530'>paper,</span> <span m='3708790'>it's</span> <span
  m='3708890'>stored</span> <span m='3709100'>in</span> <span m='3709190'>an</span>
  <span m='3709310'>array.</span> <span m='3710220'>But it</span> <span m='3710360'>doesn't</span>
  <span m='3710600'>really</span> <span m='3710750'>need</span> <span m='3710930'>that</span>
  <span m='3711050'>its</span> <span m='3711140'>an</span> <span m='3711230'>array.</span>
  <span m='3711470'>It</span> <span m='3711560'>could</span> <span m='3711740'>just</span>
  <span m='3711950'>as</span> <span m='3712070'>well</span> <span m='3712220'>be</span>
  <span m='3712370'>a</span> <span m='3712430'>linked</span> <span m='3712670'>list.</span>
  <span m='3713120'>And</span> <span m='3713210'>that's</span> <span m='3713450'>how</span>
  <span m='3713570'>you</span> <span m='3713690'>get</span> <span m='3714280'>pointer</span>
  <span m='3714860'>machine.</span> </p><p><span m='3716600'>So</span> <span m='3717070'>this</span>
  <span m='3717230'>could</span> <span m='3717380'>be</span> <span m='3717620'>linked</span>
  <span m='3717900'>list.</span> <span m='3719510'>And</span> <span m='3719630'>then</span>
  <span m='3719870'>this</span> <span m='3720170'>whole</span> <span m='3720350'>thing</span>
  <span m='3720620'>works</span> <span m='3720890'>in</span> <span m='3721040'>pointer</span>
  <span m='3721280'>machine,</span> <span m='3721610'>which</span> <span m='3721790'>is</span>
  <span m='3722630'>kind</span> <span m='3722870'>of</span> <span m='3722960'>neat.</span>
  <span m='3723230'>And</span> <span m='3723590'>it's</span> <span m='3723770'>a</span>
  <span m='3723830'>little</span> <span m='3724100'>weird,</span> <span m='3724460'>because</span>
  <span m='3726470'>if</span> <span m='3726620'>you</span> <span m='3726650'>used</span>
  <span m='3726860'>a</span> <span m='3727130'>comparison</span> <span m='3727880'>pointer</span>
  <span m='3728180'>machine,</span> <span m='3728480'>where</span> <span m='3728570'>all</span>
  <span m='3728750'>you</span> <span m='3728870'>can</span> <span m='3728960'>do</span>
  <span m='3729050'>is</span> <span m='3729140'>compare</span> <span m='3729500'>items,</span>
  <span m='3729770'>there's</span> <span m='3729920'>a</span> <span m='3729980'>lower</span>
  <span m='3730220'>bound</span> <span m='3730550'>of</span> <span m='3730850'>log</span>
  <span m='3731180'>n,</span> <span m='3731510'>because</span> <span m='3731750'>you</span>
  <span m='3731900'>only</span> <span m='3732110'>have</span> <span m='3732230'>branching</span>
  <span m='3732590'>factor</span> <span m='3733430'>constant.</span> </p><p><span
  m='3734780'>But</span> <span m='3734900'>here,</span> <span m='3735920'>the</span>
  <span m='3736310'>formulation</span> <span m='3737030'>of</span> <span m='3737090'>the</span>
  <span m='3737150'>problem</span> <span m='3737480'>is,</span> <span m='3737960'>when</span>
  <span m='3738140'>I</span> <span m='3738230'>say,</span> <span m='3738620'>give</span>
  <span m='3738860'>me</span> <span m='3739070'>the</span> <span m='3739250'>successor</span>
  <span m='3739730'>of</span> <span m='3739820'>this,</span> <span m='3740120'>I actually</span>
  <span m='3740480'>give</span> <span m='3740630'>you</span> <span m='3740750'>a</span>
  <span m='3740840'>pointer</span> <span m='3741320'>to</span> <span m='3741500'>this</span>
  <span m='3743510'>item.</span> <span m='3744360'>And</span> <span m='3744460'>then</span>
  <span m='3744500'>from</span> <span m='3744800'>there,</span> <span m='3744950'>you</span>
  <span m='3745100'>can</span> <span m='3745190'>do</span> <span m='3745280'>all</span>
  <span m='3745400'>this</span> <span m='3745550'>jumping</span> <span m='3745940'>around,</span>
  <span m='3746300'>and</span> <span m='3746390'>find</span> <span m='3746720'>your</span>
  <span m='3746990'>predecessor</span> <span m='3747260'>or</span> <span m='3747530'>successor.</span>
  <span m='3748520'>So</span> <span m='3748640'>in</span> <span m='3748730'>this</span>
  <span m='3748880'>world,</span> <span m='3749210'>you</span> <span m='3749360'>need</span>
  <span m='3749660'>at</span> <span m='3749750'>least</span> <span m='3750110'>u</span>
  <span m='3750320'>space,</span> <span m='3750830'>even</span> <span m='3751100'>to</span>
  <span m='3751190'>be</span> <span m='3751280'>able</span> <span m='3751400'>to</span>
  <span m='3751490'>specify</span> <span m='3752090'>the</span> <span m='3752300'>input.</span>
  <span m='3755290'>So</span> <span m='3755520'>that's</span> <span m='3756250'>kind</span>
  <span m='3756400'>of</span> <span m='3756490'>a</span> <span m='3756520'>limitation</span>
  <span m='3757000'>of</span> <span m='3757060'>the</span> <span m='3757180'>pointer</span>
  <span m='3757420'>machine.</span> </p><p><span m='3757750'>And</span> <span m='3757840'>you</span>
  <span m='3757930'>can</span> <span m='3758050'>actually</span> <span m='3758230'>show</span>
  <span m='3758420'>in</span> <span m='3758500'>the</span> <span m='3758590'>pointer</span>
  <span m='3758840'>machine</span> <span m='3759160'>log,</span> <span m='3759400'>log</span>
  <span m='3759790'>u is</span> <span m='3760090'>optimal</span> <span m='3761230'>for</span>
  <span m='3763720'>any</span> <span m='3765010'>predecessor</span> <span m='3765550'>data</span>
  <span m='3765730'>structure</span> <span m='3766070'>in</span> <span m='3766240'>the</span>
  <span m='3766330'>pointer</span> <span m='3766570'>machine.</span> <span m='3767510'>So</span>
  <span m='3767590'>there's</span> <span m='3767830'>a</span> <span m='3768550'>matching</span>
  <span m='3769150'>lower</span> <span m='3769450'>bound</span> <span m='3770410'>log</span>
  <span m='3770710'>log</span> <span m='3771940'>u</span> <span m='3772180'>in</span>
  <span m='3772390'>this</span> <span m='3772570'>model.</span> <span m='3773620'>And</span>
  <span m='3773740'>you</span> <span m='3773830'>need</span> <span m='3773960'>to</span>
  <span m='3774010'>use</span> <span m='3774160'>space.</span> <span m='3774650'>So
  it's</span> <span m='3774750'>not</span> <span m='3774910'>very</span> <span m='3775060'>exciting.</span>
  </p><p><span m='3776020'>What</span> <span m='3776200'>we</span> <span m='3776470'>like</span>
  <span m='3776860'>is</span> <span m='3777100'>the</span> <span m='3777550'>word</span>
  <span m='3777820'>RAM.</span> <span m='3778120'>There,</span> <span m='3778360'>we</span>
  <span m='3778480'>can</span> <span m='3778630'>reduce</span> <span m='3778900'>space</span>
  <span m='3779240'>to</span> <span m='3779480'>n.</span> <span m='3780070'>And</span>
  <span m='3780160'>that's</span> <span m='3780340'>what</span> <span m='3780460'>I</span>
  <span m='3780550'>want</span> <span m='3780700'>to</span> <span m='3780790'>do</span>
  <span m='3781520'>next,</span> <span m='3781870'>I</span> <span m='3781930'>believe--</span>
  <span m='3783400'>almost</span> <span m='3783790'>next.</span> <span m='3784780'>One</span>
  <span m='3784960'>more</span> <span m='3785140'>mention--</span> <span m='3786520'>actual</span>
  <span m='3786850'>stratified</span> <span m='3787420'>trees--</span> <span m='3788380'>here,</span>
  <span m='3788560'>we</span> <span m='3788680'>got</span> <span m='3789240'>query</span>
  <span m='3789490'>fast,</span> <span m='3789970'>update</span> <span m='3790270'>slow.</span>
  <span m='3791110'>Stratified</span> <span m='3791590'>trees</span> <span m='3791830'>actually</span>
  <span m='3792160'>do</span> <span m='3792310'>update</span> <span m='3792640'>fast,</span>
  <span m='3792970'>as</span> <span m='3793090'>well.</span> <span m='3793990'>Essentially,</span>
  <span m='3794470'>it's</span> <span m='3794610'>this</span> <span m='3794860'>idea,</span>
  <span m='3796000'>plus</span> <span m='3796870'>you</span> <span m='3796990'>don't</span>
  <span m='3797200'>recursively</span> <span m='3797710'>store</span> <span m='3797920'>the</span>
  <span m='3798070'>min,</span> <span m='3799480'>which,</span> <span m='3799750'>of</span>
  <span m='3799840'>course,</span> <span m='3800050'>makes</span> <span m='3800290'>all</span>
  <span m='3800440'>these</span> <span m='3800620'>bits</span> <span m='3800950'>no</span>
  <span m='3801100'>longer</span> <span m='3801400'>accurate,</span> <span m='3801900'>as</span>
  <span m='3802000'>it</span> <span m='3802060'>gets</span> <span m='3802240'>much</span>
  <span m='3802510'>messier.</span> </p><p><span m='3803740'>But</span> <span m='3803920'>in</span>
  <span m='3804070'>the</span> <span m='3804220'>end,</span> <span m='3804460'>it's</span>
  <span m='3804640'>doing</span> <span m='3804880'>exactly</span> <span m='3805570'>the</span>
  <span m='3805690'>same</span> <span m='3805990'>thing</span> <span m='3806800'>as</span>
  <span m='3807130'>this</span> <span m='3807340'>recursion.</span> <span m='3808175'>In</span>
  <span m='3808470'>fact,</span> <span m='3808720'>you</span> <span m='3808840'>can</span>
  <span m='3808960'>draw</span> <span m='3809110'>the</span> <span m='3809200'>picture.</span>
  <span m='3810100'>It</span> <span m='3810220'>is</span> <span m='3813220'>this</span>
  <span m='3813520'>part</span> <span m='3813820'>up</span> <span m='3814000'>here--</span>
  <span m='3815870'>the</span> <span m='3815970'>top</span> <span m='3816220'>half</span>
  <span m='3816490'>of</span> <span m='3816550'>the</span> <span m='3816670'>tree--</span>
  <span m='3817330'>this</span> <span m='3817540'>is</span> <span m='3817660'>summary.</span>
  <span m='3821110'>And</span> <span m='3821260'>each</span> <span m='3821470'>of</span>
  <span m='3821530'>these</span> <span m='3821770'>bottom</span> <span m='3822220'>halves</span>
  <span m='3823840'>is</span> <span m='3823990'>a</span> <span m='3824050'>cluster.</span>
  <span m='3826408'>And</span> <span m='3826870'>there's</span> <span m='3827010'>root</span>
  <span m='3827240'>u</span> <span m='3827380'>clusters</span> <span m='3829630'>down</span>
  <span m='3829840'>here.</span> <span m='3831820'>So</span> <span m='3832230'>those</span>
  <span m='3832480'>are</span> <span m='3832690'>smaller</span> <span m='3833110'>structures.</span>
  <span m='3833500'>And</span> <span m='3833590'>there's</span> <span m='3835510'>one</span>
  <span m='3835720'>root</span> <span m='3835910'>u</span> <span m='3836420'>sized</span>
  <span m='3836730'>Van Emde Boas</span> <span m='3837160'>structure,</span> <span
  m='3837490'>which</span> <span m='3837610'>is</span> <span m='3837720'>a</span>
  <span m='3837790'>summary</span> <span m='3838150'>structure.</span> </p><p><span
  m='3838900'>These</span> <span m='3839200'>bits</span> <span m='3839530'>here</span>
  <span m='3841420'>is</span> <span m='3841600'>the</span> <span m='3841690'>bit</span>
  <span m='3841900'>vector</span> <span m='3842170'>representation</span> <span m='3842890'>of</span>
  <span m='3842980'>the</span> <span m='3843070'>summary</span> <span m='3843430'>structures.</span>
  <span m='3843700'>It's,</span> <span m='3843970'>is</span> <span m='3844120'>there</span>
  <span m='3844240'>anyone</span> <span m='3844600'>in</span> <span m='3844690'>this</span>
  <span m='3844810'>cluster?</span> <span m='3845230'>Is</span> <span m='3845320'>there</span>
  <span m='3845440'>anyone</span> <span m='3845740'>in</span> <span m='3845830'>this</span>
  <span m='3845980'>cluster,</span> <span m='3846950'>and</span> <span m='3846970'>so</span>
  <span m='3847090'>on?</span> <span m='3848920'>This,</span> <span m='3849160'>of</span>
  <span m='3849310'>course,</span> <span m='3849520'>also</span> <span m='3849730'>looks</span>
  <span m='3849940'>a</span> <span m='3849970'>lot</span> <span m='3850150'>like</span>
  <span m='3850300'>the</span> <span m='3850390'>Van Emde Boas</span> <span m='3850930'>layout.</span>
  <span m='3851650'>Take</span> <span m='3851830'>a</span> <span m='3851890'>binary</span>
  <span m='3852220'>tree,</span> <span m='3852760'>cut</span> <span m='3852970'>it</span>
  <span m='3853030'>in</span> <span m='3853120'>half,</span> <span m='3853480'>do</span>
  <span m='3853660'>the</span> <span m='3853750'>top,</span> <span m='3854410'>recursively</span>
  <span m='3854740'>do</span> <span m='3854860'>the</span> <span m='3854950'>bottom.</span>
  <span m='3855220'>So</span> <span m='3855490'>that's</span> <span m='3855640'>why</span>
  <span m='3855790'>it was</span> <span m='3855910'>called</span> <span m='3856160'>the</span>
  <span m='3856260'>Van Emde Boas</span> <span m='3856400'>layout,</span> <span m='3857020'>is</span>
  <span m='3857200'>this</span> <span m='3857380'>picture.</span> </p><p><span m='3858940'>But</span>
  <span m='3859060'>if</span> <span m='3859150'>you</span> <span m='3859240'>take</span>
  <span m='3859480'>this</span> <span m='3859660'>tree</span> <span m='3859870'>structure,</span>
  <span m='3860290'>and</span> <span m='3860380'>then</span> <span m='3860500'>you</span>
  <span m='3860560'>don't</span> <span m='3860800'>recursively</span> <span m='3861250'>store</span>
  <span m='3861490'>mins,</span> <span m='3861820'>and</span> <span m='3861910'>then</span>
  <span m='3862000'>the</span> <span m='3862120'>bits</span> <span m='3862360'>are</span>
  <span m='3862420'>not</span> <span m='3862600'>quite</span> <span m='3862870'>accurate,</span>
  <span m='3863890'>it's</span> <span m='3864130'>messy.</span> <span m='3864880'>And</span>
  <span m='3866020'>so</span> <span m='3866200'>stratified</span> <span m='3866680'>trees--
  you should</span> <span m='3867040'>try</span> <span m='3867220'>to</span> <span
  m='3867310'>read</span> <span m='3867430'>the</span> <span m='3867490'>original</span>
  <span m='3867820'>paper.</span> <span m='3868060'>It's</span> <span m='3868480'>a</span>
  <span m='3868540'>mess.</span> <span m='3868870'>Whereas</span> <span m='3869170'>this</span>
  <span m='3869380'>code--</span> <span m='3870160'>pretty</span> <span m='3870430'>clean.</span>
  </p><p><span m='3871640'>And</span> <span m='3871810'>so</span> <span m='3872110'>once</span>
  <span m='3872440'>you</span> <span m='3872530'>say,</span> <span m='3872830'>oh,</span>
  <span m='3873070'>I'm</span> <span m='3873130'>just</span> <span m='3873280'>going</span>
  <span m='3873400'>to</span> <span m='3873460'>store</span> <span m='3874060'>all</span>
  <span m='3874250'>these</span> <span m='3874390'>clusters</span> <span m='3874780'>as</span>
  <span m='3874930'>an</span> <span m='3875050'>array</span> <span m='3875440'>and</span>
  <span m='3875560'>not</span> <span m='3875860'>worry</span> <span m='3876100'>about</span>
  <span m='3876370'>keeping</span> <span m='3876730'>track</span> <span m='3876940'>of</span>
  <span m='3877030'>the</span> <span m='3877120'>tree,</span> <span m='3877540'>it</span>
  <span m='3877840'>actually</span> <span m='3878120'>gets</span> <span m='3878260'>a</span>
  <span m='3878320'>lot</span> <span m='3878500'>easier.</span> <span m='3879620'>And</span>
  <span m='3879970'>that</span> <span m='3880120'>was</span> <span m='3880270'>the</span>
  <span m='3881380'>Bender/Farach-Colton</span> <span m='3882730'>cleaning</span>
  <span m='3883090'>up,</span> <span m='3883870'>which</span> <span m='3884080'>never</span>
  <span m='3884320'>appeared</span> <span m='3884560'>in</span> <span m='3884650'>print.</span>
  <span m='3884920'>But</span> <span m='3885070'>it's</span> <span m='3885220'>appeared</span>
  <span m='3885480'>in</span> <span m='3885560'>the</span> <span m='3885600'>lecture</span>
  <span m='3885850'>notes</span> <span m='3886090'>all</span> <span m='3886240'>over</span>
  <span m='3886390'>the</span> <span m='3886450'>place--</span> <span m='3888380'>and</span>
  <span m='3888430'>now</span> <span m='3888580'>CLRS.</span> <span m='3890700'>Cool.</span>
  </p><p><span m='3891940'>I want</span> <span m='3892070'>to</span> <span m='3892130'>tell</span>
  <span m='3892330'>you</span> <span m='3892420'>about</span> <span m='3892600'>two</span>
  <span m='3892780'>more</span> <span m='3892930'>things.</span> <span m='3893680'>It's</span>
  <span m='3893890'>actually</span> <span m='3894160'>going</span> <span m='3894310'>to</span>
  <span m='3894370'>get</span> <span m='3894490'>easier</span> <span m='3895030'>the</span>
  <span m='3895150'>more</span> <span m='3895360'>time</span> <span m='3895660'>we</span>
  <span m='3895750'>spend</span> <span m='3896560'>with</span> <span m='3896680'>this</span>
  <span m='3896760'>data</span> <span m='3897040'>structure.</span> <span m='3921970'>All</span>
  <span m='3922060'>right.</span> <span m='3924790'>Let me draw</span> <span m='3925130'>a
  box.</span> </p><p><span m='3927970'>At</span> <span m='3928060'>this</span> <span
  m='3928210'>point,</span> <span m='3928490'>we've</span> <span m='3928540'>seen</span>
  <span m='3929380'>a</span> <span m='3929470'>clean</span> <span m='3929800'>way</span>
  <span m='3929980'>to</span> <span m='3930070'>get</span> <span m='3930830'>Van Emde
  Boas.</span> <span m='3931930'>And</span> <span m='3932290'>we've</span> <span m='3932440'>seen</span>
  <span m='3933430'>a</span> <span m='3933520'>cute</span> <span m='3933760'>way</span>
  <span m='3934000'>in</span> <span m='3934150'>a</span> <span m='3934210'>tree</span>
  <span m='3934570'>to</span> <span m='3934720'>get</span> <span m='3934900'>search</span>
  <span m='3935230'>fast,</span> <span m='3935950'>but</span> <span m='3936130'>update</span>
  <span m='3936420'>slow.</span> <span m='3937240'>I</span> <span m='3937300'>want</span>
  <span m='3937420'>to</span> <span m='3937510'>talk</span> <span m='3937780'>a</span>
  <span m='3937810'>little</span> <span m='3937990'>more</span> <span m='3938470'>about</span>
  <span m='3938710'>that.</span> <span m='3939280'>Let's</span> <span m='3939400'>suppose</span>
  <span m='3939820'>I</span> <span m='3939910'>have</span> <span m='3940060'>this</span>
  <span m='3940210'>data</span> <span m='3940390'>structure.</span> <span m='3941200'>It's</span>
  <span m='3941530'>achieves</span> <span m='3942310'>log</span> <span m='3943270'>w</span>
  <span m='3943750'>query,</span> <span m='3944470'>which</span> <span m='3944680'>is</span>
  <span m='3944800'>fast,</span> <span m='3946120'>but</span> <span m='3946300'>it</span>
  <span m='3946390'>only</span> <span m='3946690'>achieves</span> <span m='3947560'>w</span>
  <span m='3948130'>update,</span> <span m='3948800'>which</span> <span m='3948910'>is</span>
  <span m='3949000'>slow.</span> </p><p><span m='3950590'>How</span> <span m='3950680'>do</span>
  <span m='3950770'>you</span> <span m='3950860'>update</span> <span m='3951160'>the</span>
  <span m='3951280'>structure?</span> <span m='3952270'>You</span> <span m='3952420'>update</span>
  <span m='3952780'>one</span> <span m='3952960'>bit</span> <span m='3953110'>at</span>
  <span m='3953200'>the</span> <span m='3953290'>bottom,</span> <span m='3954010'>and</span>
  <span m='3954160'>then</span> <span m='3954340'>you've</span> <span m='3954430'>got</span>
  <span m='3954550'>to</span> <span m='3954640'>update</span> <span m='3954970'>all</span>
  <span m='3955120'>the</span> <span m='3955210'>bits</span> <span m='3956020'>up</span>
  <span m='3956290'>the</span> <span m='3956380'>path.</span> <span m='3956980'>So</span>
  <span m='3957110'>you</span> <span m='3957190'>spend</span> <span m='3957460'>w</span>
  <span m='3957820'>time</span> <span m='3958630'>to</span> <span m='3958720'>do</span>
  <span m='3958840'>an</span> <span m='3958900'>update</span> <span m='3959180'>over</span>
  <span m='3959320'>here.</span> </p><p><span m='3962410'>If</span> <span m='3962530'>updates</span>
  <span m='3962920'>are</span> <span m='3963010'>slow,</span> <span m='3963790'>I</span>
  <span m='3963880'>just</span> <span m='3964030'>want</span> <span m='3964180'>to</span>
  <span m='3964240'>do</span> <span m='3964420'>less</span> <span m='3964690'>updates.</span>
  <span m='3965680'>We</span> <span m='3965830'>have</span> <span m='3966040'>a</span>
  <span m='3966100'>trick</span> <span m='3966340'>for</span> <span m='3966460'>doing</span>
  <span m='3966730'>this,</span> <span m='3967460'>which</span> <span m='3967570'>is,</span>
  <span m='3968150'>you</span> <span m='3968230'>put</span> <span m='3968440'>little</span>
  <span m='3968650'>things</span> <span m='3968920'>down</span> <span m='3969130'>here</span>
  <span m='3969490'>of</span> <span m='3969600'>size</span> <span m='3969920'>theta</span>
  <span m='3970150'>w.</span> <span m='3976810'>And</span> <span m='3977020'>then</span>
  <span m='3977740'>only</span> <span m='3978070'>one</span> <span m='3978460'>item</span>
  <span m='3978760'>from</span> <span m='3978910'>here</span> <span m='3979120'>gets</span>
  <span m='3979300'>promoted</span> <span m='3979810'>into</span> <span m='3980110'>the</span>
  <span m='3980260'>top</span> <span m='3980500'>structure.</span> <span m='3981490'>We</span>
  <span m='3981610'>only</span> <span m='3981850'>end</span> <span m='3982000'>up</span>
  <span m='3982120'>having</span> <span m='3982510'>n</span> <span m='3982750'>over</span>
  <span m='3982960'>w</span> <span m='3983350'>items</span> <span m='3984030'>up</span>
  <span m='3984300'>here,</span> <span m='3986080'>and</span> <span m='3986290'>about</span>
  <span m='3986650'>1</span> <span m='3986860'>over</span> <span m='3987040'>w</span>
  <span m='3987370'>as</span> <span m='3987460'>many</span> <span m='3987670'>updates.</span>
  </p><p><span m='3989050'>If</span> <span m='3989140'>I</span> <span m='3989200'>want</span>
  <span m='3989380'>to</span> <span m='3989440'>do</span> <span m='3989500'>an</span>
  <span m='3989590'>insertion,</span> <span m='3990830'>I</span> <span m='3991100'>do</span>
  <span m='3991300'>a</span> <span m='3991360'>search</span> <span m='3991690'>here</span>
  <span m='3991930'>to</span> <span m='3992020'>figure</span> <span m='3992350'>out</span>
  <span m='3992560'>which</span> <span m='3992830'>of</span> <span m='3992890'>these</span>
  <span m='3993550'>little--</span> <span m='3993880'>I'll</span> <span m='3994270'>call</span>
  <span m='3994480'>these</span> <span m='3994660'>"chunks--"</span> <span m='3996340'>which</span>
  <span m='3996580'>little</span> <span m='3996820'>chunk</span> <span m='3998260'>it</span>
  <span m='3998440'>belongs</span> <span m='3998890'>in.</span> <span m='3999370'>I</span>
  <span m='3999490'>do</span> <span m='3999610'>an</span> <span m='3999700'>insert</span>
  <span m='4000030'>there.</span> <span m='4001800'>If</span> <span m='4002010'>that</span>
  <span m='4002220'>structure</span> <span m='4002550'>gets</span> <span m='4002760'>too</span>
  <span m='4002940'>big--</span> <span m='4003240'>it's</span> <span m='4003360'>bigger</span>
  <span m='4003630'>than,</span> <span m='4003810'>say,</span> <span m='4004020'>2</span>
  <span m='4004230'>times</span> <span m='4004500'>w, or</span> <span m='4004920'>4</span>
  <span m='4005130'>times</span> <span m='4005370'>w,</span> <span m='4005730'>whatever--</span>
  <span m='4006630'>then</span> <span m='4006780'>I'll</span> <span m='4006900'>split</span>
  <span m='4007230'>it.</span> <span m='4008710'>And</span> <span m='4009070'>if</span>
  <span m='4009190'>I</span> <span m='4009310'>delete</span> <span m='4009670'>from</span>
  <span m='4009820'>something,</span> <span m='4010210'>and it</span> <span m='4010360'>gets
  too</span> <span m='4010510'>small,</span> <span m='4010765'>I'll</span> <span m='4011020'>merge</span>
  <span m='4011350'>with</span> <span m='4011480'>the</span> <span m='4011560'>neighbor,</span>
  <span m='4011970'>or maybe</span> <span m='4012350'>re-split--</span> <span m='4013330'>just</span>
  <span m='4013510'>like</span> <span m='4013710'>B-trees.</span> <span m='4015580'>We've</span>
  <span m='4015760'>done</span> <span m='4015940'>this</span> <span m='4016120'>many</span>
  <span m='4016360'>times,</span> <span m='4016660'>by</span> <span m='4016780'>now.</span>
  </p><p><span m='4018820'>But</span> <span m='4019030'>only</span> <span m='4019360'>when</span>
  <span m='4019510'>it</span> <span m='4019600'>splits,</span> <span m='4020080'>or
  I</span> <span m='4020350'>do</span> <span m='4020470'>a merge,</span> <span m='4021490'>do</span>
  <span m='4021610'>I</span> <span m='4021640'>have</span> <span m='4021820'>to</span>
  <span m='4021910'>do</span> <span m='4022000'>an</span> <span m='4022090'>update</span>
  <span m='4022420'>up</span> <span m='4022570'>here.</span> <span m='4023050'>Only</span>
  <span m='4023290'>when</span> <span m='4023410'>the</span> <span m='4023710'>set</span>
  <span m='4024010'>of</span> <span m='4024100'>chunks</span> <span m='4024430'>changes</span>
  <span m='4025420'>do</span> <span m='4025540'>I</span> <span m='4025630'>need</span>
  <span m='4025780'>to</span> <span m='4025960'>do</span> <span m='4026410'>a</span>
  <span m='4026470'>single</span> <span m='4026890'>insertion</span> <span m='4027310'>or</span>
  <span m='4027370'>deletion</span> <span m='4027790'>up</span> <span m='4027970'>here--</span>
  <span m='4028210'>or</span> <span m='4028630'>a constant</span> <span m='4028960'>number.</span>
  <span m='4030100'>So</span> <span m='4030610'>this</span> <span m='4030910'>update</span>
  <span m='4031270'>time</span> <span m='4031690'>goes</span> <span m='4031930'>down</span>
  <span m='4032860'>by</span> <span m='4033100'>a</span> <span m='4033130'>factor</span>
  <span m='4033430'>of</span> <span m='4033490'>w.</span> </p><p><span m='4035860'>But</span>
  <span m='4036460'>I have</span> <span m='4036580'>to</span> <span m='4036700'>pay</span>
  <span m='4036880'>whatever</span> <span m='4037150'>the</span> <span m='4037270'>update</span>
  <span m='4037540'>cost</span> <span m='4037900'>is</span> <span m='4038020'>here.</span>
  <span m='4038930'>So</span> <span m='4038980'>what</span> <span m='4039130'>I</span>
  <span m='4039220'>do</span> <span m='4039340'>with</span> <span m='4039430'>this</span>
  <span m='4039610'>data</span> <span m='4039790'>structure?</span> <span m='4040150'>I</span>
  <span m='4040210'>don't</span> <span m='4040330'>want</span> <span m='4040450'>use</span>
  <span m='4040580'>Van Emde Boas,</span> <span m='4041260'>because</span> <span m='4041410'>this</span>
  <span m='4041530'>could</span> <span m='4041680'>be</span> <span m='4041770'>a</span>
  <span m='4041830'>very</span> <span m='4041980'>big</span> <span m='4042160'>universe.</span>
  <span m='4042580'>Who</span> <span m='4042670'>knows</span> <span m='4042910'>what?</span>
  <span m='4043150'>I</span> <span m='4043555'>use</span> <span m='4043960'>the</span>
  <span m='4044140'>binary</span> <span m='4044440'>search</span> <span m='4044680'>tree.</span>
  <span m='4046360'>Here,</span> <span m='4046570'>I</span> <span m='4046630'>can</span>
  <span m='4046780'>afford</span> <span m='4047050'>a</span> <span m='4047110'>binary</span>
  <span m='4047380'>search</span> <span m='4047650'>tree,</span> <span m='4048250'>because</span>
  <span m='4048610'>then</span> <span m='4048850'>it's</span> <span m='4048970'>only</span>
  <span m='4049290'>log</span> <span m='4049690'>w.</span> <span m='4050610'>log</span>
  <span m='4050830'>w</span> <span m='4051070'>is</span> <span m='4051160'>the</span>
  <span m='4051250'>bound</span> <span m='4051430'>we're</span> <span m='4051520'>trying</span>
  <span m='4051730'>to</span> <span m='4051820'>get.</span> <span m='4052970'>So</span>
  <span m='4053170'>you</span> <span m='4053380'>can</span> <span m='4053530'>do</span>
  <span m='4053650'>these</span> <span m='4053890'>binary</span> <span m='4054210'>search
  trees.</span> <span m='4054580'>It's</span> <span m='4055030'>trivial.</span> <span
  m='4055490'>Just</span> <span m='4055640'>do</span> <span m='4055780'>insert,</span>
  <span m='4056630'>delete,</span> <span m='4056950'>search.</span> <span m='4057970'>Everything</span>
  <span m='4058360'>will</span> <span m='4058450'>be</span> <span m='4058540'>log</span>
  <span m='4058820'>w.</span> </p><p><span m='4060340'>So</span> <span m='4060490'>if</span>
  <span m='4060610'>I</span> <span m='4060670'>want</span> <span m='4060820'>to</span>
  <span m='4060880'>do</span> <span m='4060970'>a</span> <span m='4061030'>search,</span>
  <span m='4061460'>I</span> <span m='4061560'>search</span> <span m='4061750'>through</span>
  <span m='4061900'>here,</span> <span m='4062170'>which,</span> <span m='4062410'>conveniently,</span>
  <span m='4062890'>is</span> <span m='4062980'>already</span> <span m='4063310'>fast--</span>
  <span m='4063640'>log</span> <span m='4063920'>w--</span> <span m='4064690'>and</span>
  <span m='4064840'>then</span> <span m='4064960'>I</span> <span m='4065020'>do</span>
  <span m='4065140'>a</span> <span m='4065170'>search</span> <span m='4065410'>through</span>
  <span m='4065500'>here,</span> <span m='4065750'>which</span> <span m='4065800'>is</span>
  <span m='4065920'>also</span> <span m='4066130'>log</span> <span m='4066430'>w.</span>
  <span m='4066850'>So it's nice and</span> <span m='4067140'>balanced.</span> <span
  m='4067445'>Everything's</span> <span m='4067960'>log</span> <span m='4068140'>w.</span>
  </p><p><span m='4071790'>If I</span> <span m='4071830'>want</span> <span m='4071950'>to</span>
  <span m='4072010'>do</span> <span m='4072070'>an</span> <span m='4072160'>insertion,</span>
  <span m='4072565'>I</span> <span m='4072970'>do an</span> <span m='4073150'>insertion</span>
  <span m='4073510'>here.</span> <span m='4073840'>If</span> <span m='4073990'>it</span>
  <span m='4074080'>splits,</span> <span m='4074395'>I</span> <span m='4074710'>do</span>
  <span m='4074830'>an</span> <span m='4074920'>insertion</span> <span m='4075280'>here.</span>
  <span m='4076090'>But</span> <span m='4076450'>that</span> <span m='4076750'>order</span>
  <span m='4076990'>w</span> <span m='4077350'>update</span> <span m='4077710'>cost,</span>
  <span m='4078100'>I</span> <span m='4078220'>charge</span> <span m='4078760'>to</span>
  <span m='4079120'>the</span> <span m='4080170'>order</span> <span m='4080470'>w</span>
  <span m='4080860'>updates</span> <span m='4081240'>I</span> <span m='4081310'>would</span>
  <span m='4081430'>have</span> <span m='4081520'>had</span> <span m='4081640'>to</span>
  <span m='4081730'>do</span> <span m='4081880'>in</span> <span m='4082090'>this</span>
  <span m='4082270'>chunk</span> <span m='4082660'>before</span> <span m='4082990'>it</span>
  <span m='4083050'>got</span> <span m='4083260'>split.</span> <span m='4084700'>So</span>
  <span m='4084970'>this</span> <span m='4085600'>our</span> <span m='4085780'>good</span>
  <span m='4085960'>friend</span> <span m='4086170'>indirection,</span> <span m='4087175'>a</span>
  <span m='4087580'>technique</span> <span m='4087940'>we</span> <span m='4088060'>will</span>
  <span m='4088180'>use</span> <span m='4088420'>over</span> <span m='4088870'>and</span>
  <span m='4088960'>over</span> <span m='4089230'>in</span> <span m='4089320'>this</span>
  <span m='4089440'>class.</span> <span m='4089800'>It's very</span> <span m='4090430'>helpful</span>
  <span m='4091150'>when</span> <span m='4091270'>you're</span> <span m='4091390'>almost</span>
  <span m='4091990'>at</span> <span m='4092140'>the</span> <span m='4092230'>right</span>
  <span m='4092380'>bound.</span> </p><p><span m='4094450'>And</span> <span m='4094610'>that's</span>
  <span m='4094750'>actually</span> <span m='4095080'>in</span> <span m='4095650'>the</span>
  <span m='4095890'>follow-up</span> <span m='4096479'>van Emde Boas</span> <span
  m='4097069'>paper.</span> <span m='4097479'>A similar</span> <span m='4098050'>indirection</span>
  <span m='4098529'>trick</span> <span m='4098740'>is</span> <span m='4098859'>in</span>
  <span m='4098950'>there.</span> <span m='4100520'>So</span> <span m='4100660'>we</span>
  <span m='4100779'>can</span> <span m='4100930'>charge</span> <span m='4102939'>the</span>
  <span m='4104620'>order</span> <span m='4104859'>w</span> <span m='4105370'>update</span>
  <span m='4107920'>in</span> <span m='4108460'>top</span> <span m='4110130'>to--</span>
  <span m='4111370'>that's</span> <span m='4111520'>the</span> <span m='4111609'>cost</span>
  <span m='4111970'>of</span> <span m='4112029'>the</span> <span m='4112120'>update--</span>
  <span m='4113020'>to</span> <span m='4113229'>the</span> <span m='4113620'>order</span>
  <span m='4113920'>w</span> <span m='4115540'>updates</span> <span m='4117580'>that</span>
  <span m='4117790'>have</span> <span m='4117880'>actually</span> <span m='4118180'>been</span>
  <span m='4118330'>performed</span> <span m='4120040'>in</span> <span m='4120550'>the</span>
  <span m='4120609'>bottom.</span> <span m='4122740'>Because</span> <span m='4123609'>when</span>
  <span m='4123819'>somebody</span> <span m='4124149'>gets</span> <span m='4124270'>split,</span>
  <span m='4124600'>it's</span> <span m='4124720'>nice</span> <span m='4124990'>in</span>
  <span m='4125649'>its</span> <span m='4125800'>average</span> <span m='4126250'>state--</span>
  <span m='4126640'>or</span> <span m='4126729'>when</span> <span m='4126850'>it</span>
  <span m='4126910'>gets</span> <span m='4127060'>merged,</span> <span m='4127330'>it's</span>
  <span m='4127450'>going</span> <span m='4127600'>to</span> <span m='4127660'>be</span>
  <span m='4127779'>close</span> <span m='4128020'>to</span> <span m='4128080'>its</span>
  <span m='4128170'>average</span> <span m='4128410'>state.</span> <span m='4128640'>You</span>
  <span m='4128710'>have</span> <span m='4128800'>to</span> <span m='4128859'>do</span>
  <span m='4128979'>a</span> <span m='4129010'>lot</span> <span m='4129250'>of</span>
  <span m='4129310'>insertions</span> <span m='4129760'>or</span> <span m='4129790'>deletions</span>
  <span m='4130270'>to</span> <span m='4130390'>get</span> <span m='4130569'>it</span>
  <span m='4130660'>out</span> <span m='4130840'>of</span> <span m='4130930'>whack,</span>
  <span m='4131649'>and</span> <span m='4131770'>cause</span> <span m='4132160'>a</span>
  <span m='4132279'>split</span> <span m='4132640'>or a merge.</span> </p><p><span
  m='4134630'>So--</span> <span m='4135189'>boom.</span> <span m='4136000'>This</span>
  <span m='4136180'>means</span> <span m='4137080'>the</span> <span m='4137229'>updates</span>
  <span m='4137950'>become</span> <span m='4140859'>log</span> <span m='4141130'>w.</span>
  <span m='4141700'>Searches</span> <span m='4142600'>are</span> <span m='4142720'>also</span>
  <span m='4143050'>log</span> <span m='4143319'>w.</span> <span m='4144130'>So</span>
  <span m='4144220'>we've</span> <span m='4144310'>got</span> <span m='4144470'>Van
  Emde Boas</span> <span m='4145149'>again,</span> <span m='4145720'>in</span> <span
  m='4145840'>a</span> <span m='4145899'>new</span> <span m='4146080'>way.</span>
  <span m='4147550'>Bonus</span> <span m='4147910'>points--</span> <span m='4149439'>if</span>
  <span m='4149590'>you</span> <span m='4149680'>take</span> <span m='4149920'>this</span>
  <span m='4150100'>structure--</span> <span m='4154330'>even</span> <span m='4154600'>this</span>
  <span m='4154720'>structure,</span> <span m='4155149'>if</span> <span m='4155500'>we</span>
  <span m='4155620'>did</span> <span m='4155800'>it</span> <span m='4156069'>in</span>
  <span m='4156220'>the</span> <span m='4156310'>array</span> <span m='4156580'>form--</span>
  <span m='4157240'>great.</span> <span m='4157450'>It</span> <span m='4157510'>was</span>
  <span m='4157630'>order</span> <span m='4157850'>u</span> <span m='4158029'>space.</span>
  <span m='4158890'>If</span> <span m='4159069'>we</span> <span m='4159189'>did</span>
  <span m='4159370'>it</span> <span m='4159880'>with</span> <span m='4160029'>all</span>
  <span m='4160149'>these</span> <span m='4160300'>pointers,</span> <span m='4160750'>and
  we</span> <span m='4160840'>wanted</span> <span m='4161020'>a</span> <span m='4161080'>pointer</span>
  <span m='4161350'>machine</span> <span m='4161640'>data</span> <span m='4161800'>structure,</span>
  <span m='4162100'>we</span> <span m='4162220'>needed</span> <span m='4163450'>u</span>
  <span m='4163689'>log</span> <span m='4163990'>w</span> <span m='4164290'>space.</span>
  </p><p><span m='4165600'>But</span> <span m='4165760'>this</span> <span m='4165910'>indirection</span>
  <span m='4166420'>trick,</span> <span m='4166689'>you</span> <span m='4166779'>can</span>
  <span m='4166930'>also</span> <span m='4167170'>get</span> <span m='4167319'>rid</span>
  <span m='4167439'>of</span> <span m='4167500'>the</span> <span m='4167590'>log</span>
  <span m='4167830'>w</span> <span m='4168130'>in</span> <span m='4168220'>space</span>
  <span m='4168729'>factor.</span> <span m='4170160'>It's</span> <span m='4170439'>a</span>
  <span m='4170470'>little</span> <span m='4170740'>less</span> <span m='4170950'>obvious.</span>
  <span m='4171340'>But</span> <span m='4171520'>you</span> <span m='4171700'>take</span>
  <span m='4171970'>this--</span> <span m='4173020'>here,</span> <span m='4173290'>we</span>
  <span m='4173390'>reduced</span> <span m='4173790'>n</span> <span m='4174100'>by</span>
  <span m='4174279'>a</span> <span m='4174300'>factor</span> <span m='4174580'>of</span>
  <span m='4174630'>w.</span> <span m='4174859'>You</span> <span m='4175000'>can</span>
  <span m='4175120'>also</span> <span m='4175479'>reduce</span> <span m='4175810'>u</span>
  <span m='4176109'>by</span> <span m='4176290'>a</span> <span m='4176319'>factor</span>
  <span m='4176649'>of</span> <span m='4176710'>w.</span> <span m='4177420'>I'll</span>
  <span m='4177490'>just</span> <span m='4177640'>wave</span> <span m='4177819'>my</span>
  <span m='4177970'>hands.</span> <span m='4178420'>That's</span> <span m='4178569'>possible.</span>
  </p><p><span m='4179500'>So</span> <span m='4179710'>u</span> <span m='4179890'>gets</span>
  <span m='4180069'>a</span> <span m='4180130'>little</span> <span m='4180399'>bit</span>
  <span m='4180520'>smaller.</span> <span m='4181510'>And</span> <span m='4181630'>so</span>
  <span m='4181960'>when</span> <span m='4182140'>we</span> <span m='4182300'>pay</span>
  <span m='4182740'>u</span> <span m='4183189'>log</span> <span m='4183460'>w</span>
  <span m='4183760'>space,</span> <span m='4184120'>if</span> <span m='4184240'>you</span>
  <span m='4184359'>got</span> <span m='4184779'>smaller</span> <span m='4185200'>by</span>
  <span m='4185290'>a</span> <span m='4185319'>factor</span> <span m='4185600'>of</span>
  <span m='4185649'>w,</span> <span m='4186040'>this</span> <span m='4186220'>basically</span>
  <span m='4186580'>disappears.</span> <span m='4188689'>So</span> <span m='4188740'>you</span>
  <span m='4188830'>get,</span> <span m='4189295'>at</span> <span m='4189550'>most,</span>
  <span m='4189790'>order</span> <span m='4190000'>u</span> <span m='4190170'>space.</span>
  </p><p><span m='4193210'>But</span> <span m='4193310'>order</span> <span m='4193520'>u
  is</span> <span m='4193689'>not</span> <span m='4193850'>order</span> <span m='4194100'>n.</span>
  <span m='4194390'>I</span> <span m='4194450'>want</span> <span m='4194620'>order</span>
  <span m='4194810'>n</span> <span m='4195030'>space,</span> <span m='4195490'>darn</span>
  <span m='4195650'>it.</span> <span m='4196550'>So</span> <span m='4197550'>let's</span>
  <span m='4198830'>reduce</span> <span m='4199550'>space.</span> </p><p><span m='4201400'>As
  I said,</span> <span m='4201700'>this</span> <span m='4201820'>is</span> <span m='4201890'>going</span>
  <span m='4202010'>to</span> <span m='4202100'>get</span> <span m='4202250'>easier</span>
  <span m='4202670'>and</span> <span m='4202790'>easier.</span> <span m='4204050'>By</span>
  <span m='4204200'>the</span> <span m='4204320'>end,</span> <span m='4204470'>we</span>
  <span m='4204590'>will</span> <span m='4204710'>have</span> <span m='4204920'>very</span>
  <span m='4205160'>little</span> <span m='4205400'>of</span> <span m='4205520'>a</span>
  <span m='4205550'>data</span> <span m='4205730'>structure.</span> <span m='4206390'>But</span>
  <span m='4206510'>still,</span> <span m='4207260'>we'll</span> <span m='4207410'>have</span>
  <span m='4207650'>log</span> <span m='4207890'>log</span> <span m='4208140'>u.</span>
  <span m='4210150'>And</span> <span m='4210340'>you</span> <span m='4210440'>thought</span>
  <span m='4210650'>this</span> <span m='4210830'>was</span> <span m='4210950'>easy,</span>
  <span m='4211280'>but</span> <span m='4212840'>wait,</span> <span m='4213290'>there's</span>
  <span m='4213500'>more.</span> </p><p><span m='4216680'>Right</span> <span m='4216860'>now,</span>
  <span m='4217040'>we</span> <span m='4217160'>have</span> <span m='4217340'>two</span>
  <span m='4217580'>ways</span> <span m='4217910'>to</span> <span m='4218030'>get</span>
  <span m='4218240'>log</span> <span m='4218480'>log</span> <span m='4218720'>u--</span>
  <span m='4219410'>query</span> <span m='4220520'>and</span> <span m='4221180'>order</span>
  <span m='4221450'>u</span> <span m='4221640'>space.</span> <span m='4222950'>There's</span>
  <span m='4223130'>the</span> <span m='4223220'>one</span> <span m='4223410'>I'm</span>
  <span m='4223640'>erasing,</span> <span m='4224750'>and</span> <span m='4224930'>there's</span>
  <span m='4225170'>this--</span> <span m='4225470'>take</span> <span m='4225710'>this</span>
  <span m='4225860'>tree</span> <span m='4226070'>structure</span> <span m='4226580'>with</span>
  <span m='4226730'>the</span> <span m='4226820'>very</span> <span m='4227000'>simple</span>
  <span m='4227300'>pointers.</span> <span m='4228410'>Add</span> <span m='4228590'>indirection.</span>
  </p><p><span m='4230150'>So</span> <span m='4230270'>admittedly,</span> <span m='4230690'>it's</span>
  <span m='4230810'>more</span> <span m='4230960'>complicated</span> <span m='4231470'>to</span>
  <span m='4231530'>implement.</span> <span m='4231950'>But</span> <span m='4232040'>conceptually,</span>
  <span m='4232550'>it's</span> <span m='4232640'>super</span> <span m='4232940'>simple.</span>
  <span m='4233800'>It's</span> <span m='4233900'>like,</span> <span m='4233960'>do</span>
  <span m='4234110'>this</span> <span m='4234260'>obvious</span> <span m='4234590'>tree</span>
  <span m='4234830'>binary</span> <span m='4235130'>search</span> <span m='4235400'>on</span>
  <span m='4235490'>the</span> <span m='4235580'>level</span> <span m='4235850'>thing.</span>
  <span m='4236930'>And</span> <span m='4237050'>then</span> <span m='4238280'>add</span>
  <span m='4238520'>indirection,</span> <span m='4239060'>and it</span> <span m='4239150'>fixes</span>
  <span m='4239510'>all</span> <span m='4239600'>your</span> <span m='4239720'>bounds,</span>
  <span m='4240080'>magically.</span> </p><p><span m='4241670'>So</span> <span m='4242180'>conceptually,</span>
  <span m='4242660'>very</span> <span m='4242810'>simple--</span> <span m='4243600'>practically,</span>
  <span m='4244260'>you</span> <span m='4244400'>definitely</span> <span m='4244730'>want</span>
  <span m='4244850'>to</span> <span m='4244910'>do</span> <span m='4245030'>this--</span>
  <span m='4245270'>much</span> <span m='4245450'>simpler.</span> <span m='4247850'>Now,</span>
  <span m='4248810'>what</span> <span m='4249050'>about</span> <span m='4249710'>saving</span>
  <span m='4250850'>space?</span> <span m='4254420'>Very</span> <span m='4254750'>simple</span>
  <span m='4255110'>idea--</span> <span m='4256230'>which,</span> <span m='4256580'>I</span>
  <span m='4256640'>think,</span> <span m='4256820'>again,</span> <span m='4257150'>comes</span>
  <span m='4257480'>from</span> <span m='4257810'>Michael</span> <span m='4258140'>Bender
  and</span> <span m='4258430'>Martin</span> <span m='4258680'>Farach-Colton.</span>
  <span m='4261560'>Don't</span> <span m='4261920'>store</span> <span m='4262460'>empty</span>
  <span m='4262790'>structures.</span> </p><p><span m='4265490'>So</span> <span m='4265630'>in</span>
  <span m='4265720'>this</span> <span m='4265840'>picture,</span> <span m='4267490'>we</span>
  <span m='4267670'>had</span> <span m='4267820'>an</span> <span m='4267910'>array</span>
  <span m='4268240'>of</span> <span m='4268360'>all</span> <span m='4268480'>the</span>
  <span m='4268570'>clusters.</span> <span m='4269620'>But</span> <span m='4269800'>a</span>
  <span m='4269860'>cluster</span> <span m='4270310'>could</span> <span m='4270490'>be</span>
  <span m='4270610'>entirely</span> <span m='4271180'>empty,</span> <span m='4271750'>like</span>
  <span m='4271900'>this</span> <span m='4272080'>one--</span> <span m='4273200'>this</span>
  <span m='4273430'>entirely</span> <span m='4273970'>empty</span> <span m='4274210'>cluster.</span>
  <span m='4275470'>Don't</span> <span m='4275680'>store</span> <span m='4275980'>it.</span>
  <span m='4276440'>It's</span> <span m='4276610'>a</span> <span m='4276750'>waste.</span>
  </p><p><span m='4278110'>If</span> <span m='4278200'>you</span> <span m='4278260'>store</span>
  <span m='4278500'>them</span> <span m='4278650'>all,</span> <span m='4278830'>you're</span>
  <span m='4278950'>going</span> <span m='4279060'>to</span> <span m='4279130'>spend</span>
  <span m='4279430'>order</span> <span m='4279670'>u</span> <span m='4279840'>space.</span>
  <span m='4280710'>If</span> <span m='4280780'>you</span> <span m='4280900'>don't</span>
  <span m='4281170'>store</span> <span m='4281470'>them</span> <span m='4281620'>all--</span>
  <span m='4282130'>just</span> <span m='4282280'>don't</span> <span m='4282520'>store</span>
  <span m='4282760'>the</span> <span m='4282850'>empty</span> <span m='4283120'>ones--</span>
  <span m='4283780'>I</span> <span m='4283870'>claim</span> <span m='4284140'>your</span>
  <span m='4284260'>order n</span> <span m='4284480'>space.</span> <span m='4285210'>Done.</span>
  </p><p><span m='4287910'>So</span> <span m='4288160'>I'm</span> <span m='4288280'>going</span>
  <span m='4288520'>back</span> <span m='4288730'>to</span> <span m='4288940'>the</span>
  <span m='4289120'>structure</span> <span m='4289570'>I</span> <span m='4289660'>erased.</span>
  <span m='4290350'>Ignore</span> <span m='4290710'>the</span> <span m='4290800'>tree</span>
  <span m='4291280'>perspective</span> <span m='4291820'>for</span> <span m='4291970'>awhile.</span>
  <span m='4293110'>Don't</span> <span m='4295150'>store</span> <span m='4296950'>empty</span>
  <span m='4297310'>clusters.</span> <span m='4299440'>OK,</span> <span m='4299650'>now,</span>
  <span m='4300880'>this</span> <span m='4301000'>sounds</span> <span m='4301390'>easy.</span>
  <span m='4301960'>But</span> <span m='4302440'>in</span> <span m='4302620'>reality,</span>
  <span m='4303070'>it's</span> <span m='4303190'>a</span> <span m='4303250'>little</span>
  <span m='4303460'>bit</span> <span m='4303580'>more</span> <span m='4303730'>annoying.</span>
  <span m='4304090'>Because</span> <span m='4305290'>we</span> <span m='4305440'>wanted</span>
  <span m='4305690'>to</span> <span m='4305770'>have</span> <span m='4305950'>an</span>
  <span m='4306040'>array</span> <span m='4306490'>of</span> <span m='4306610'>clusters.</span>
  <span m='4307640'>So</span> <span m='4307690'>we</span> <span m='4307780'>could</span>
  <span m='4307960'>quickly</span> <span m='4308350'>find</span> <span m='4309220'>the</span>
  <span m='4309310'>cluster.</span> </p><p><span m='4311260'>If</span> <span m='4311450'>you</span>
  <span m='4311620'>store</span> <span m='4311800'>an</span> <span m='4311890'>array,</span>
  <span m='4312400'>you're</span> <span m='4312660'>going</span> <span m='4312810'>to</span>
  <span m='4312910'>spend</span> <span m='4313120'>at</span> <span m='4313210'>least</span>
  <span m='4313480'>square rot</span> <span m='4313930'>of u</span> <span m='4314180'>space.</span>
  <span m='4314650'>Because</span> <span m='4314860'>at</span> <span m='4314950'>the</span>
  <span m='4315040'>very</span> <span m='4315400'>beginning,</span> <span m='4316550'>you</span>
  <span m='4316570'>say,</span> <span m='4316720'>here</span> <span m='4317000'>are</span>
  <span m='4317140'>my root</span> <span m='4317370'>u clusters.</span> <span m='4318040'>Now,</span>
  <span m='4318190'>some</span> <span m='4318400'>of</span> <span m='4318460'>them</span>
  <span m='4318550'>might</span> <span m='4318700'>be</span> <span m='4318790'>null</span>
  <span m='4318970'>pointers.</span> <span m='4319390'>But</span> <span m='4319570'>I</span>
  <span m='4319750'>can't</span> <span m='4319990'>afford</span> <span m='4320320'>to</span>
  <span m='4320410'>store</span> <span m='4320650'>that</span> <span m='4321250'>entire</span>
  <span m='4321670'>array</span> <span m='4321940'>of</span> <span m='4322030'>clusters.</span>
  <span m='4323980'>So</span> <span m='4324030'>don't</span> <span m='4324180'>use</span>
  <span m='4324330'>an</span> <span m='4324390'>array.</span> <span m='4325410'>Use</span>
  <span m='4325830'>a</span> <span m='4326190'>perfect</span> <span m='4326520'>hash</span>
  <span m='4326700'>table.</span> </p><p><span m='4330730'>So</span> <span m='4330970'>v</span>
  <span m='4331090'>dot</span> <span m='4331510'>cluster,</span> <span m='4332650'>instead</span>
  <span m='4332920'>of</span> <span m='4332980'>being</span> <span m='4333190'>an</span>
  <span m='4333250'>array,</span> <span m='4333990'>is</span> <span m='4334300'>now,</span>
  <span m='4334780'>let's</span> <span m='4334930'>say,</span> <span m='4335110'>a</span>
  <span m='4335130'>dynamic</span> <span m='4335620'>perfect</span> <span m='4335920'>hashing.</span>
  <span m='4338650'>And</span> <span m='4338800'>I'm</span> <span m='4338860'>going</span>
  <span m='4339010'>to</span> <span m='4339070'>use</span> <span m='4339280'>the</span>
  <span m='4339370'>version</span> <span m='4339670'>which</span> <span m='4339850'>I</span>
  <span m='4339940'>did</span> <span m='4340090'>not</span> <span m='4340300'>present.</span>
  <span m='4341250'>The</span> <span m='4341320'>version</span> <span m='4341590'>I</span>
  <span m='4341650'>presented,</span> <span m='4342590'>which used</span> <span m='4342820'>universal</span>
  <span m='4343270'>hashing,</span> <span m='4343750'>was</span> <span m='4345050'>order</span>
  <span m='4345340'>1</span> <span m='4345610'>expected.</span> <span m='4346270'>But</span>
  <span m='4346966'>I</span> <span m='4347442'>said</span> <span m='4347920'>that</span>
  <span m='4348040'>it</span> <span m='4348100'>can</span> <span m='4348320'>be</span>
  <span m='4348920'>constant</span> <span m='4349510'>with</span> <span m='4349660'>high</span>
  <span m='4349810'>probability</span> <span m='4350410'>per</span> <span m='4350580'>operation.</span>
  <span m='4351040'>It's</span> <span m='4351850'>a</span> <span m='4351910'>little</span>
  <span m='4352090'>bit</span> <span m='4352210'>stronger.</span> </p><p><span m='4354070'>So</span>
  <span m='4354220'>now,</span> <span m='4354850'>everything's</span> <span m='4355270'>fine.</span>
  <span m='4355540'>If</span> <span m='4355660'>I</span> <span m='4355750'>do</span>
  <span m='4355990'>an</span> <span m='4356080'>index</span> <span m='4356440'>v dot</span>
  <span m='4356700'>cluster</span> <span m='4357110'>c,</span> <span m='4357880'>that's</span>
  <span m='4358030'>still</span> <span m='4358250'>constant</span> <span m='4358610'>time,</span>
  <span m='4358990'>with</span> <span m='4359140'>high</span> <span m='4359260'>probability</span>
  <span m='4359860'>now.</span> <span m='4361120'>And</span> <span m='4361270'>I</span>
  <span m='4361330'>claim</span> <span m='4361630'>this</span> <span m='4361810'>structure</span>
  <span m='4362250'>is</span> <span m='4362380'>now</span> <span m='4362830'>order</span>
  <span m='4363120'>n's</span> <span m='4364300'>space.</span> <span m='4365940'>Why
  is</span> <span m='4366350'>it</span> <span m='4366430'>order</span> <span m='4366640'>n's</span>
  <span m='4366730'>space?</span> <span m='4367540'>By</span> <span m='4367720'>simple</span>
  <span m='4368320'>amortization--</span> <span m='4369910'>charge</span> <span m='4372460'>each</span>
  <span m='4375460'>table</span> <span m='4375820'>entry</span> <span m='4376210'>in</span>
  <span m='4376360'>that</span> <span m='4376510'>hash</span> <span m='4376780'>table</span>
  <span m='4378430'>to</span> <span m='4378580'>the</span> <span m='4378750'>min</span>
  <span m='4380530'>of</span> <span m='4380770'>the</span> <span m='4380860'>cluster.</span>
  </p><p><span m='4387040'>We're</span> <span m='4387160'>only</span> <span m='4387340'>storing</span>
  <span m='4387620'>non-empty</span> <span m='4388060'>ones.</span> <span m='4388340'>So</span>
  <span m='4388650'>if</span> <span m='4390040'>one</span> <span m='4390220'>of</span>
  <span m='4390280'>these</span> <span m='4390430'>guys</span> <span m='4390700'>exists</span>
  <span m='4391120'>in</span> <span m='4391210'>the</span> <span m='4391300'>hash</span>
  <span m='4391570'>table,</span> <span m='4391840'>we</span> <span m='4391930'>had</span>
  <span m='4392020'>to</span> <span m='4392110'>store</span> <span m='4392290'>a</span>
  <span m='4392320'>pointer</span> <span m='4392650'>to</span> <span m='4392860'>it,</span>
  <span m='4393590'>then</span> <span m='4393670'>that</span> <span m='4393820'>means</span>
  <span m='4394540'>the</span> <span m='4394660'>summary</span> <span m='4395020'>structure</span>
  <span m='4395440'>is</span> <span m='4395590'>non-zero.</span> <span m='4396100'>It</span>
  <span m='4396310'>means</span> <span m='4396520'>this</span> <span m='4396860'>guy</span>
  <span m='4397090'>is</span> <span m='4397180'>not</span> <span m='4397360'>empty.</span>
  <span m='4397990'>So</span> <span m='4398140'>it</span> <span m='4398230'>has</span>
  <span m='4398500'>an</span> <span m='4398620'>item</span> <span m='4398890'>in</span>
  <span m='4398970'>its</span> <span m='4399100'>min.</span> <span m='4399810'>Charge</span>
  <span m='4400240'>the</span> <span m='4400360'>space</span> <span m='4400810'>up</span>
  <span m='4400920'>here</span> <span m='4401230'>to</span> <span m='4401320'>store</span>
  <span m='4401530'>the</span> <span m='4401620'>pointer</span> <span m='4402310'>to</span>
  <span m='4402400'>that</span> <span m='4402610'>min</span> <span m='4402820'>guy.</span>
  </p><p><span m='4403810'>Then</span> <span m='4403960'>each</span> <span m='4404920'>item--</span>
  <span m='4405800'>each</span> <span m='4405910'>min</span> <span m='4406150'>item--</span>
  <span m='4407200'>only</span> <span m='4407500'>gets</span> <span m='4407740'>charged</span>
  <span m='4408160'>once.</span> <span m='4408880'>Because</span> <span m='4409060'>it</span>
  <span m='4409150'>only</span> <span m='4409360'>has</span> <span m='4409540'>one</span>
  <span m='4409750'>parent</span> <span m='4410260'>that</span> <span m='4410380'>has</span>
  <span m='4410530'>a</span> <span m='4410590'>pointer</span> <span m='4410890'>to</span>
  <span m='4411040'>it.</span> <span m='4412380'>So</span> <span m='4412510'>you</span>
  <span m='4412570'>only</span> <span m='4412780'>charge</span> <span m='4413080'>once.</span>
  <span m='4413980'>And</span> <span m='4414070'>therefore--</span> <span m='4416750'>charge</span>
  <span m='4417280'>and</span> <span m='4417490'>table</span> <span m='4417890'>entry--</span>
  <span m='4423010'>only</span> <span m='4423310'>charge</span> <span m='4423740'>each</span>
  <span m='4424210'>element</span> <span m='4424630'>once.</span> </p><p><span m='4429800'>And</span>
  <span m='4429890'>that's</span> <span m='4430070'>all</span> <span m='4430160'>your</span>
  <span m='4430310'>space.</span> <span m='4430910'>So it's</span> <span m='4431370'>order</span>
  <span m='4431660'>n</span> <span m='4431810'>space.</span> <span m='4433310'>Done.</span>
  <span m='4436250'>Kind of</span> <span m='4436750'>crazy.</span> </p><p><span m='4437050'>I</span>
  <span m='4437110'>guess,</span> <span m='4437800'>if</span> <span m='4437920'>you</span>
  <span m='4438070'>want,</span> <span m='4438740'>there's</span> <span m='4438820'>also</span>
  <span m='4439090'>the</span> <span m='4439210'>pointer</span> <span m='4439630'>to</span>
  <span m='4439750'>the</span> <span m='4439870'>summary</span> <span m='4440260'>structure.</span>
  <span m='4440680'>You</span> <span m='4440800'>could</span> <span m='4440920'>charge</span>
  <span m='4441190'>that</span> <span m='4441370'>to</span> <span m='4441520'>your</span>
  <span m='4441700'>own</span> <span m='4441910'>min.</span> <span m='4442290'>And</span>
  <span m='4442410'>then</span> <span m='4442540'>you're</span> <span m='4442630'>charging</span>
  <span m='4442930'>twice.</span> <span m='4443380'>But</span> <span m='4443530'>it's</span>
  <span m='4443650'>constant</span> <span m='4444530'>per</span> <span m='4444730'>item.</span>
  </p><p><span m='4447290'>So</span> <span m='4447370'>this</span> <span m='4447550'>is</span>
  <span m='4447640'>kind</span> <span m='4447820'>of</span> <span m='4447880'>funny.</span>
  <span m='4448605'>Again,</span> <span m='4448940'>it</span> <span m='4449320'>doesn't</span>
  <span m='4449560'>appear</span> <span m='4449770'>in</span> <span m='4449860'>print</span>
  <span m='4450130'>anywhere,</span> <span m='4450430'>except</span> <span m='4450640'>maybe</span>
  <span m='4450850'>as</span> <span m='4450910'>an</span> <span m='4451000'>exercise</span>
  <span m='4451480'>in</span> <span m='4451560'>CLRS</span> <span m='4451780'>now.</span>
  <span m='4452920'>But</span> <span m='4453610'>you</span> <span m='4453730'>get</span>
  <span m='4454340'>linear</span> <span m='4454810'>order</span> <span m='4455050'>n</span>
  <span m='4455230'>space,</span> <span m='4456760'>just</span> <span m='4456970'>by</span>
  <span m='4457120'>adding</span> <span m='4457360'>hashing</span> <span m='4457820'>in</span>
  <span m='4457900'>the</span> <span m='4458020'>obvious</span> <span m='4458320'>way.</span>
  </p><p><span m='4458890'>Now,</span> <span m='4459880'>for</span> <span m='4460060'>whatever</span>
  <span m='4460360'>reason,</span> <span m='4461260'>Willard</span> <span m='4462040'>didn't</span>
  <span m='4462280'>see</span> <span m='4462490'>this,</span> <span m='4463180'>or</span>
  <span m='4463330'>wanted</span> <span m='4463540'>to</span> <span m='4463630'>do</span>
  <span m='4463720'>his</span> <span m='4463810'>own</span> <span m='4463990'>thing,</span>
  <span m='4464740'>and</span> <span m='4464860'>so</span> <span m='4465010'>he</span>
  <span m='4465160'>found</span> <span m='4465610'>another</span> <span m='4466000'>way</span>
  <span m='4466660'>to</span> <span m='4466780'>do</span> <span m='4467140'>order</span>
  <span m='4467860'>n</span> <span m='4468040'>space</span> <span m='4468790'>log</span>
  <span m='4469060'>log</span> <span m='4469270'>u</span> <span m='4469810'>query</span>
  <span m='4470440'>with</span> <span m='4470590'>hashing.</span> <span m='4474000'>Well,</span>
  <span m='4474190'>I</span> <span m='4474280'>guess,</span> <span m='4474730'>also,</span>
  <span m='4474970'>you</span> <span m='4475120'>had</span> <span m='4475240'>to</span>
  <span m='4475330'>think</span> <span m='4475570'>of</span> <span m='4475660'>it</span>
  <span m='4475750'>in</span> <span m='4475840'>this</span> <span m='4475990'>simple</span>
  <span m='4476320'>form.</span> <span m='4476780'>It's</span> <span m='4476800'>harder</span>
  <span m='4477130'>to</span> <span m='4477250'>do</span> <span m='4477370'>this</span>
  <span m='4477550'>in</span> <span m='4477640'>the</span> <span m='4477730'>tree.</span>
  <span m='4478510'>It</span> <span m='4478870'>can</span> <span m='4479080'>be</span>
  <span m='4479170'>done,</span> <span m='4479410'>I</span> <span m='4479470'>think.</span>
  <span m='4479800'>But</span> <span m='4480760'>this</span> <span m='4480970'>is</span>
  <span m='4481090'>a</span> <span m='4481150'>simpler</span> <span m='4481480'>view</span>
  <span m='4481690'>than</span> <span m='4481810'>the</span> <span m='4481900'>tree,</span>
  <span m='4482270'>I</span> <span m='4482370'>think.</span> <span m='4482530'>And</span>
  <span m='4482620'>then</span> <span m='4483250'>boom--</span> <span m='4483790'>order</span>
  <span m='4484030'>n</span> <span m='4484180'>space.</span> </p><p><span m='4485320'>But</span>
  <span m='4485560'>it</span> <span m='4485620'>turns</span> <span m='4485890'>out</span>
  <span m='4486160'>there's</span> <span m='4486340'>another</span> <span m='4486640'>way</span>
  <span m='4486730'>to</span> <span m='4486820'>do</span> <span m='4487000'>it.</span>
  <span m='4488140'>This</span> <span m='4488290'>is</span> <span m='4488710'>a</span>
  <span m='4488800'>completely</span> <span m='4489370'>different</span> <span m='4489640'>way</span>
  <span m='4489820'>to</span> <span m='4489910'>do</span> <span m='4490130'>Van Emde
  Boas--</span> <span m='4490780'>actually,</span> <span m='4491020'>not</span> <span
  m='4491170'>that</span> <span m='4491380'>completely</span> <span m='4491890'>different.</span>
  <span m='4492940'>It's</span> <span m='4493060'>another</span> <span m='4493360'>way</span>
  <span m='4493450'>to</span> <span m='4493570'>do</span> <span m='4493720'>this</span>
  <span m='4498010'>with</span> <span m='4498160'>hashing.</span> <span m='4502690'>And</span>
  <span m='4504230'>we're going to</span> <span m='4504420'>start</span> <span m='4504670'>with</span>
  <span m='4504820'>what's</span> <span m='4505000'>called</span> <span m='4505220'>x-fast</span>
  <span m='4505780'>trees,</span> <span m='4506140'>and</span> <span m='4506230'>then</span>
  <span m='4506530'>we</span> <span m='4506710'>will</span> <span m='4506830'>modify</span>
  <span m='4507280'>it</span> <span m='4507340'>to</span> <span m='4507490'>get</span>
  <span m='4507640'>y-fast</span> <span m='4508150'>trees.</span> <span m='4508510'>That's</span>
  <span m='4509290'>Willard's</span> <span m='4509710'>terminology.</span> </p><p><span
  m='4511882'>OK,</span> <span m='4512530'>so</span> <span m='4512740'>x-fast</span>
  <span m='4513160'>trees</span> <span m='4513430'>is,</span> <span m='4514300'>store</span>
  <span m='4514630'>this</span> <span m='4514870'>tree,</span> <span m='4515560'>but</span>
  <span m='4515680'>don't</span> <span m='4515890'>store</span> <span m='4516130'>the</span>
  <span m='4516220'>zeros.</span> <span m='4518060'>So</span> <span m='4518950'>don't</span>
  <span m='4519190'>store</span> <span m='4519670'>zeros.</span> <span m='4521590'>Only</span>
  <span m='4521770'>store</span> <span m='4521950'>the</span> <span m='4522040'>ones</span>
  <span m='4523570'>in</span> <span m='4523990'>the--</span> <span m='4524380'>we
  call this</span> <span m='4524830'>the</span> <span m='4525280'>simple</span> <span
  m='4525640'>tree</span> <span m='4525880'>view.</span> <span m='4527550'>This</span>
  <span m='4527680'>is</span> <span m='4527740'>why</span> <span m='4528010'>I,</span>
  <span m='4528320'>in</span> <span m='4528480'>particular,</span> <span m='4528880'>wanted</span>
  <span m='4529030'>to</span> <span m='4529090'>tell</span> <span m='4529270'>you</span>
  <span m='4529330'>about</span> <span m='4529510'>the</span> <span m='4529580'>simple</span>
  <span m='4529870'>tree view,</span> <span m='4530210'>because</span> <span m='4530410'>it</span>
  <span m='4530500'>is</span> <span m='4530590'>really</span> <span m='4530860'>what</span>
  <span m='4531480'>x</span> <span m='4531880'>fast</span> <span m='4532150'>trees</span>
  <span m='4532420'>do.</span> </p><p><span m='4533320'>So</span> <span m='4533440'>what</span>
  <span m='4533560'>do</span> <span m='4533650'>I</span> <span m='4533740'>mean</span>
  <span m='4533920'>by</span> <span m='4534070'>only</span> <span m='4534310'>store</span>
  <span m='4534550'>the</span> <span m='4534640'>ones?</span> <span m='4535330'>Well,</span>
  <span m='4538540'>each</span> <span m='4538720'>of</span> <span m='4538780'>these</span>
  <span m='4538960'>ones</span> <span m='4539350'>has</span> <span m='4539710'>sort</span>
  <span m='4539860'>of</span> <span m='4539950'>a</span> <span m='4540010'>name.</span>
  <span m='4541280'>What</span> <span m='4541300'>is</span> <span m='4541420'>the</span>
  <span m='4541510'>name</span> <span m='4541750'>of</span> <span m='4541810'>this</span>
  <span m='4541990'>item?</span> <span m='4542590'>Its</span> <span m='4542710'>name</span>
  <span m='4542920'>is</span> <span m='4543070'>one--</span> <span m='4543580'>or</span>
  <span m='4543850'>in</span> <span m='4543940'>other</span> <span m='4544090'>words,</span>
  <span m='4544300'>0,</span> <span m='4544705'>0,</span> <span m='4545110'>0,</span>
  <span m='4545920'>1.</span> <span m='4546460'>Each</span> <span m='4546670'>of</span>
  <span m='4546730'>these</span> <span m='4546940'>nodes,</span> <span m='4547270'>you</span>
  <span m='4547360'>can</span> <span m='4547480'>think</span> <span m='4547660'>of,</span>
  <span m='4547810'>what</span> <span m='4547960'>is</span> <span m='4548080'>the</span>
  <span m='4548170'>path</span> <span m='4548530'>to</span> <span m='4548650'>get</span>
  <span m='4548860'>here?</span> </p><p><span m='4549580'>Like,</span> <span m='4549760'>the</span>
  <span m='4549850'>path</span> <span m='4550120'>to</span> <span m='4550210'>get</span>
  <span m='4550330'>to</span> <span m='4550420'>this</span> <span m='4550600'>one</span>
  <span m='4550840'>is</span> <span m='4551290'>1,</span> <span m='4551720'>0,</span>
  <span m='4552160'>0.</span> <span m='4552730'>1</span> <span m='4552910'>means</span>
  <span m='4553150'>right.</span> <span m='4553450'>0</span> <span m='4553660'>means</span>
  <span m='4553870'>left.</span> </p><p><span m='4554800'>Those</span> <span m='4555040'>names</span>
  <span m='4555550'>give</span> <span m='4555760'>you</span> <span m='4555880'>the</span>
  <span m='4556030'>binary</span> <span m='4556480'>indicator</span> <span m='4556960'>of</span>
  <span m='4557020'>where</span> <span m='4557260'>that</span> <span m='4557920'>node</span>
  <span m='4558220'>is</span> <span m='4558400'>in</span> <span m='4558490'>the</span>
  <span m='4558580'>tree,</span> <span m='4558970'>in some</span> <span m='4559320'>sense.</span>
  <span m='4560860'>So</span> <span m='4561700'>store</span> <span m='4562030'>the</span>
  <span m='4562150'>ones</span> <span m='4566110'>as</span> <span m='4566530'>binary</span>
  <span m='4566890'>strings</span> <span m='4571837'>in a</span> <span m='4572330'>hash</span>
  <span m='4572823'>table--</span> <span m='4577260'>again,</span> <span m='4577680'>a</span>
  <span m='4577980'>dynamic</span> <span m='4578400'>perfect</span> <span m='4578730'>hash</span>
  <span m='4578970'>table.</span> <span m='4579270'>Let's say</span> <span m='4579480'>I
  can get</span> <span m='4579780'>constant</span> <span m='4580200'>with</span> <span
  m='4580320'>high</span> <span m='4580450'>probability.</span> </p><p><span m='4582150'>OK.</span>
  <span m='4583860'>And</span> <span m='4584220'>if</span> <span m='4584430'>you're</span>
  <span m='4584550'>a</span> <span m='4584580'>little</span> <span m='4584760'>concerned--</span>
  <span m='4586280'>so</span> <span m='4586830'>what</span> <span m='4587250'>this</span>
  <span m='4587400'>means--</span> <span m='4587760'>the</span> <span m='4587880'>ones</span>
  <span m='4588270'>are</span> <span m='4588330'>exactly</span> <span m='4589290'>the</span>
  <span m='4589410'>prefixes</span> <span m='4590160'>of</span> <span m='4590250'>the</span>
  <span m='4590340'>paths</span> <span m='4590850'>to</span> <span m='4590970'>each</span>
  <span m='4591150'>of</span> <span m='4591210'>the</span> <span m='4591390'>items.</span>
  <span m='4592050'>This</span> <span m='4592230'>was</span> <span m='4592380'>item</span>
  <span m='4592650'>one.</span> <span m='4593280'>And</span> <span m='4593370'>so</span>
  <span m='4593490'>I</span> <span m='4593580'>want</span> <span m='4593760'>to</span>
  <span m='4593820'>store</span> <span m='4594780'>this</span> <span m='4595020'>one,</span>
  <span m='4595500'>which</span> <span m='4595680'>is</span> <span m='4596580'>empty</span>
  <span m='4596850'>string,</span> <span m='4597420'>this</span> <span m='4597600'>one,</span>
  <span m='4597780'>which</span> <span m='4597900'>is</span> <span m='4598230'>0,</span>
  <span m='4598530'>this</span> <span m='4598710'>one,</span> <span m='4598830'>which</span>
  <span m='4598950'>is</span> <span m='4599010'>00,</span> <span m='4599810'>this</span>
  <span m='4599970'>one,</span> <span m='4600120'>which</span> <span m='4600240'>is</span>
  <span m='4600340'>000,</span> <span m='4600826'>this</span> <span m='4601312'>one,</span>
  <span m='4601800'>which</span> <span m='4601950'>is</span> <span m='4602050'>0001.</span>
  </p><p><span m='4604060'>So</span> <span m='4606370'>I</span> <span m='4606930'>take</span>
  <span m='4607160'>0001,</span> <span m='4608100'>which</span> <span m='4608260'>is</span>
  <span m='4608310'>the</span> <span m='4608400'>item</span> <span m='4608610'>I</span>
  <span m='4608700'>want</span> <span m='4608820'>to</span> <span m='4608880'>store.</span>
  <span m='4609600'>And</span> <span m='4609750'>there's</span> <span m='4609930'>all</span>
  <span m='4610200'>these</span> <span m='4610380'>prefixes,</span> <span m='4611760'>which</span>
  <span m='4611970'>are</span> <span m='4612060'>the</span> <span m='4612210'>items</span>
  <span m='4612540'>I</span> <span m='4612630'>want</span> <span m='4612780'>to</span>
  <span m='4612840'>store.</span> <span m='4614310'>And</span> <span m='4615180'>for</span>
  <span m='4615390'>this</span> <span m='4615570'>really</span> <span m='4615780'>to</span>
  <span m='4615870'>make</span> <span m='4616020'>sense,</span> <span m='4616290'>you</span>
  <span m='4616380'>also</span> <span m='4616590'>need</span> <span m='4616740'>the</span>
  <span m='4616830'>length</span> <span m='4617190'>of</span> <span m='4617250'>the</span>
  <span m='4617340'>string.</span> <span m='4618180'>Strings</span> <span m='4618480'>of</span>
  <span m='4618540'>different</span> <span m='4618750'>lengths</span> <span m='4618960'>should</span>
  <span m='4619110'>be</span> <span m='4619230'>in</span> <span m='4619320'>different</span>
  <span m='4619590'>worlds.</span> <span m='4621810'>So</span> <span m='4622050'>the</span>
  <span m='4622140'>way,</span> <span m='4622320'>actually,</span> <span m='4622640'>x-fast</span>
  <span m='4623100'>trees</span> <span m='4623430'>originally</span> <span m='4623790'>did</span>
  <span m='4623910'>it</span> <span m='4624060'>in</span> <span m='4624150'>the</span>
  <span m='4624240'>paper is,</span> <span m='4624690'>have</span> <span m='4624870'>a</span>
  <span m='4624930'>different</span> <span m='4625260'>hash</span> <span m='4625500'>table</span>
  <span m='4625860'>for</span> <span m='4626010'>strings</span> <span m='4626280'>of</span>
  <span m='4626370'>different</span> <span m='4626640'>lengths.</span> <span m='4626935'>So</span>
  <span m='4627230'>that's</span> <span m='4627360'>probably</span> <span m='4627600'>an</span>
  <span m='4627660'>easier</span> <span m='4627900'>way</span> <span m='4627990'>to</span>
  <span m='4628080'>think</span> <span m='4628230'>about</span> <span m='4628470'>it.</span>
  </p><p><span m='4629310'>You</span> <span m='4629400'>store</span> <span m='4629670'>all</span>
  <span m='4629820'>the</span> <span m='4629940'>items</span> <span m='4630330'>themselves</span>
  <span m='4630750'>in</span> <span m='4630840'>a</span> <span m='4630900'>hash</span>
  <span m='4631110'>table.</span> <span m='4631770'>You</span> <span m='4631860'>store</span>
  <span m='4632100'>all</span> <span m='4632190'>the</span> <span m='4632310'>prefixes</span>
  <span m='4632940'>of</span> <span m='4633060'>all</span> <span m='4633330'>but</span>
  <span m='4633450'>the</span> <span m='4633540'>last</span> <span m='4633810'>bit</span>
  <span m='4634770'>in a</span> <span m='4635250'>separate</span> <span m='4635570'>hash</span>
  <span m='4635790'>table,</span> <span m='4636240'>all</span> <span m='4636480'>but</span>
  <span m='4636750'>the</span> <span m='4636870'>last</span> <span m='4637110'>two</span>
  <span m='4637290'>bits</span> <span m='4638100'>in a</span> <span m='4638310'>separate</span>
  <span m='4638580'>hash</span> <span m='4638790'>table,</span> <span m='4639160'>and</span>
  <span m='4639260'>so</span> <span m='4639300'>on.</span> <span m='4640120'>Now,</span>
  <span m='4640260'>what</span> <span m='4640380'>does</span> <span m='4640500'>this</span>
  <span m='4640650'>let</span> <span m='4640800'>you</span> <span m='4640920'>do?</span>
  <span m='4642560'>It</span> <span m='4642740'>lets</span> <span m='4642990'>you</span>
  <span m='4643080'>do</span> <span m='4643200'>this--</span> <span m='4644220'>binary</span>
  <span m='4644640'>search</span> <span m='4646440'>for</span> <span m='4646570'>the</span>
  <span m='4646650'>0</span> <span m='4646920'>to</span> <span m='4647010'>1</span>
  <span m='4647190'>transition.</span> </p><p><span m='4650760'>What</span> <span
  m='4650970'>we</span> <span m='4651090'>did</span> <span m='4651270'>here</span>
  <span m='4651630'>was--</span> <span m='4652440'>I</span> <span m='4652620'>look</span>
  <span m='4652890'>at</span> <span m='4652980'>the</span> <span m='4653070'>bit,</span>
  <span m='4653310'>is</span> <span m='4653520'>it</span> <span m='4653640'>0</span>
  <span m='4654000'>or</span> <span m='4654120'>1?</span> <span m='4655470'>Instead</span>
  <span m='4655830'>of</span> <span m='4655920'>doing</span> <span m='4656160'>that,</span>
  <span m='4656430'>you</span> <span m='4656550'>do</span> <span m='4656670'>a</span>
  <span m='4656730'>query</span> <span m='4657210'>into</span> <span m='4657450'>the</span>
  <span m='4657570'>hash</span> <span m='4657840'>table,</span> <span m='4658200'>and</span>
  <span m='4658290'>say,</span> <span m='4658560'>is</span> <span m='4658740'>it</span>
  <span m='4658860'>in</span> <span m='4658980'>the</span> <span m='4659070'>hash</span>
  <span m='4659340'>table?</span> <span m='4659760'>It's</span> <span m='4659910'>in</span>
  <span m='4660060'>the</span> <span m='4660120'>hash</span> <span m='4660300'>table</span>
  <span m='4660550'>if</span> <span m='4660690'>and</span> <span m='4660780'>only</span>
  <span m='4660990'>if</span> <span m='4661110'>it</span> <span m='4661200'>is</span>
  <span m='4661350'>one.</span> <span m='4662900'>So</span> <span m='4663180'>looking</span>
  <span m='4663570'>at</span> <span m='4663660'>a</span> <span m='4663720'>bit</span>
  <span m='4663960'>in</span> <span m='4664080'>this</span> <span m='4664260'>conceptual</span>
  <span m='4664770'>tree</span> <span m='4664980'>is</span> <span m='4665100'>the</span>
  <span m='4665220'>same</span> <span m='4665550'>thing</span> <span m='4665790'>as</span>
  <span m='4665880'>checking</span> <span m='4666240'>for</span> <span m='4666840'>containment</span>
  <span m='4667350'>in</span> <span m='4667470'>this</span> <span m='4667620'>hash</span>
  <span m='4667890'>table.</span> <span m='4668760'>But</span> <span m='4668940'>now,</span>
  <span m='4669180'>we</span> <span m='4669270'>don't</span> <span m='4669390'>have</span>
  <span m='4669540'>to</span> <span m='4669660'>store</span> <span m='4669870'>the</span>
  <span m='4669960'>zeros,</span> <span m='4672030'>which</span> <span m='4672210'>is</span>
  <span m='4672360'>cool.</span> </p><p><span m='4675930'>We</span> <span m='4676050'>can</span>
  <span m='4676620'>now</span> <span m='4676890'>do</span> <span m='4677080'>search,</span>
  <span m='4680400'>predecessor</span> <span m='4680970'>or</span> <span m='4681030'>successor,</span>
  <span m='4683330'>fast,</span> <span m='4684600'>in</span> <span m='4684950'>log</span>
  <span m='4685500'>w</span> <span m='4685920'>time,</span> <span m='4687840'>via</span>
  <span m='4688950'>this</span> <span m='4689160'>old</span> <span m='4689340'>thing.</span>
  <span m='4691650'>Again,</span> <span m='4692470'>you</span> <span m='4692640'>have</span>
  <span m='4692760'>to</span> <span m='4692820'>have</span> <span m='4692970'>min
  and max</span> <span m='4693540'>pointers,</span> <span m='4693930'>as</span> <span
  m='4694020'>well.</span> <span m='4695080'>So</span> <span m='4695220'>in</span>
  <span m='4695430'>this</span> <span m='4695580'>hash</span> <span m='4695790'>table,</span>
  <span m='4696060'>you</span> <span m='4696180'>store</span> <span m='4696450'>the</span>
  <span m='4697080'>min</span> <span m='4697260'>and</span> <span m='4697350'>the</span>
  <span m='4697440'>max</span> <span m='4697740'>of</span> <span m='4697860'>your</span>
  <span m='4697950'>subtree.</span> <span m='4701030'>Or</span> <span m='4701190'>actually,</span>
  <span m='4702000'>from</span> <span m='4702230'>a</span> <span m='4702300'>1,</span>
  <span m='4702660'>you</span> <span m='4702750'>actually</span> <span m='4702960'>need</span>
  <span m='4704070'>the</span> <span m='4704190'>max</span> <span m='4704520'>of</span>
  <span m='4704610'>the</span> <span m='4704700'>left</span> <span m='4704880'>subtree,</span>
  <span m='4705270'>and you</span> <span m='4705360'>need</span> <span m='4705510'>the</span>
  <span m='4705600'>min</span> <span m='4705780'>of</span> <span m='4705870'>the</span>
  <span m='4705960'>right</span> <span m='4706300'>subtree.</span> <span m='4707170'>But
  it's a</span> <span m='4707450'>constant</span> <span m='4707700'>amount</span>
  <span m='4707880'>of</span> <span m='4707970'>information</span> <span m='4708450'>per</span>
  <span m='4708610'>thing.</span> </p><p><span m='4710190'>This</span> <span m='4710400'>is</span>
  <span m='4710490'>not</span> <span m='4710670'>perfect,</span> <span m='4711060'>however,</span>
  <span m='4712380'>in</span> <span m='4712620'>that</span> <span m='4712740'>it</span>
  <span m='4712890'>uses</span> <span m='4715110'>nw</span> <span m='4715830'>space.</span>
  <span m='4718920'>And</span> <span m='4719130'>also,</span> <span m='4720030'>updates</span>
  <span m='4720390'>are</span> <span m='4720480'>slow.</span> <span m='4720840'>It's</span>
  <span m='4721140'>order</span> <span m='4721410'>w</span> <span m='4722490'>updates.</span>
  </p><p><span m='4741540'>But</span> <span m='4741630'>we're</span> <span m='4741750'>almost</span>
  <span m='4742020'>there.</span> <span m='4742650'>Because</span> <span m='4742800'>we</span>
  <span m='4742890'>have</span> <span m='4742980'>fast</span> <span m='4744030'>queries,</span>
  <span m='4744990'>slow</span> <span m='4745320'>updates,</span> <span m='4746280'>not</span>
  <span m='4746520'>optimal</span> <span m='4746880'>space.</span> <span m='4747990'>Take</span>
  <span m='4748230'>this.</span> <span m='4749340'>Add</span> <span m='4749530'>indirection--</span>
  <span m='4750750'>done.</span> <span m='4752190'>And</span> <span m='4752280'>that's</span>
  <span m='4752460'>y-fast</span> <span m='4752670'>trees.</span> <span m='4757950'>y-fast</span>
  <span m='4758150'>trees--</span> <span m='4758690'>you</span> <span m='4758780'>take</span>
  <span m='4758990'>x-fast</span> <span m='4759380'>trees,</span> <span m='4760660'>you</span>
  <span m='4760820'>add</span> <span m='4761150'>this</span> <span m='4761360'>indirection</span>
  <span m='4761870'>right</span> <span m='4762050'>here,</span> <span m='4765470'>and</span>
  <span m='4766490'>you</span> <span m='4766640'>get</span> <span m='4767660'>log</span>
  <span m='4768040'>w</span> <span m='4769010'>per</span> <span m='4769470'>operation</span>
  <span m='4770960'>order</span> <span m='4771260'>and</span> <span m='4771470'>space.</span>
  <span m='4773266'>Of course,</span> <span m='4773670'>this</span> <span m='4773810'>is</span>
  <span m='4774000'>a</span> <span m='4774110'>high</span> <span m='4774260'>probability</span>
  <span m='4774950'>because</span> <span m='4775460'>we're</span> <span m='4775940'>using</span>
  <span m='4776200'>hashing.</span> </p><p><span m='4777740'>Because</span> <span
  m='4778750'>we</span> <span m='4779020'>have</span> <span m='4779120'>a</span> <span
  m='4779180'>factor</span> <span m='4779480'>w</span> <span m='4779780'>bad</span>
  <span m='4780080'>here,</span> <span m='4780290'>we have</span> <span m='4780590'>factor
  w</span> <span m='4780860'>bad</span> <span m='4781160'>here.</span> <span m='4781400'>You</span>
  <span m='4781490'>divide</span> <span m='4781820'>by</span> <span m='4781940'>w.</span>
  <span m='4782390'>You're</span> <span m='4782570'>done.</span> </p><p><span m='4783770'>Up
  here,</span> <span m='4784050'>you</span> <span m='4784150'>have</span> <span m='4784160'>n</span>
  <span m='4784340'>over</span> <span m='4784520'>w</span> <span m='4784970'>space.</span>
  <span m='4785300'>n</span> <span m='4785390'>over</span> <span m='4785540'>w</span>
  <span m='4785840'>times</span> <span m='4786050'>w</span> <span m='4786470'>is</span>
  <span m='4786590'>n.</span> <span m='4788360'>Queries,</span> <span m='4788960'>just</span>
  <span m='4789140'>like</span> <span m='4789290'>before,</span> <span m='4789680'>remain</span>
  <span m='4790010'>log</span> <span m='4790230'>w.</span> <span m='4791360'>But</span>
  <span m='4791540'>now--</span> <span m='4792110'>boom--</span> <span m='4793040'>updates,</span>
  <span m='4794380'>we</span> <span m='4794600'>pay</span> <span m='4794780'>log</span>
  <span m='4795020'>w</span> <span m='4795290'>because</span> <span m='4795500'>of</span>
  <span m='4795560'>the</span> <span m='4795680'>binary</span> <span m='4795950'>search</span>
  <span m='4796160'>trees</span> <span m='4796340'>at</span> <span m='4796430'>the</span>
  <span m='4796520'>bottom,</span> <span m='4796880'>but</span> <span m='4798080'>pretty</span>
  <span m='4798320'>cool.</span> <span m='4799035'>Isn't</span> <span m='4799360'>that
  neat?</span> </p><p><span m='4800840'>I've</span> <span m='4800910'>never</span>
  <span m='4801140'>seen</span> <span m='4801320'>this</span> <span m='4801500'>before.</span>
  <span m='4802190'>OK,</span> <span m='4802710'>I've</span> <span m='4802890'>seen</span>
  <span m='4803170'>x-fast</span> <span m='4803630'>trees</span> <span m='4803840'>and</span>
  <span m='4803990'>y-fast</span> <span m='4804290'>trees.</span> <span m='4804690'>But</span>
  <span m='4805370'>it's</span> <span m='4805550'>really</span> <span m='4805850'>just</span>
  <span m='4806060'>the</span> <span m='4806150'>same--</span> <span m='4806690'>we're</span>
  <span m='4807140'>taking</span> <span m='4807500'>Van Emde Boas,</span> <span m='4808700'>looking</span>
  <span m='4809060'>at</span> <span m='4809210'>it</span> <span m='4809300'>in</span>
  <span m='4809390'>the</span> <span m='4809480'>tree</span> <span m='4809720'>view.</span>
  <span m='4809990'>You</span> <span m='4810110'>can</span> <span m='4810230'>see</span>
  <span m='4810470'>where</span> <span m='4810620'>Willard</span> <span m='4810950'>got</span>
  <span m='4811190'>this</span> <span m='4811370'>stuff.</span> <span m='4812340'>It's
  like,</span> <span m='4812480'>oh, man</span> <span m='4812750'>I</span> <span m='4812810'>really</span>
  <span m='4813020'>want</span> <span m='4813140'>to</span> <span m='4813200'>store</span>
  <span m='4813380'>all</span> <span m='4813470'>these</span> <span m='4813590'>bits,</span>
  <span m='4813840'>but</span> <span m='4813980'>hey,</span> <span m='4814460'>it's</span>
  <span m='4814640'>way</span> <span m='4814820'>too</span> <span m='4814970'>big.</span>
  <span m='4815300'>Just</span> <span m='4815570'>don't</span> <span m='4815780'>store</span>
  <span m='4815990'>the</span> <span m='4816080'>zeros.</span> <span m='4817280'>That</span>
  <span m='4817460'>means</span> <span m='4817760'>we</span> <span m='4817880'>should</span>
  <span m='4817970'>use</span> <span m='4818090'>a</span> <span m='4818150'>hash</span>
  <span m='4818390'>table.</span> <span m='4819260'>Ah</span> <span m='4819680'>,</span>
  <span m='4819900'>hash</span> <span m='4820160'>table</span> <span m='4820400'>just</span>
  <span m='4820580'>gives</span> <span m='4820850'>you</span> <span m='4821060'>whether</span>
  <span m='4821450'>the</span> <span m='4821570'>bit</span> <span m='4821750'>is</span>
  <span m='4821870'>in</span> <span m='4822020'>or</span> <span m='4822110'>out.</span>
  <span m='4822770'>Great.</span> </p><p><span m='4824480'>Now</span> <span m='4824660'>use</span>
  <span m='4824840'>indirection.</span> <span m='4825830'>And</span> <span m='4825920'>indirection</span>
  <span m='4826320'>was</span> <span m='4826460'>already</span> <span m='4826880'>floating</span>
  <span m='4827240'>around</span> <span m='4827540'>as</span> <span m='4827690'>a</span>
  <span m='4827750'>concept</span> <span m='4828230'>at</span> <span m='4828320'>the</span>
  <span m='4828410'>time--</span> <span m='4829220'>slightly</span> <span m='4829610'>different</span>
  <span m='4829880'>parameters.</span> <span m='4830560'>Van Emde Boas</span> <span
  m='4831140'>had</span> <span m='4831490'>his</span> <span m='4831650'>own</span>
  <span m='4831930'>indirection</span> <span m='4832970'>to</span> <span m='4833150'>reduce</span>
  <span m='4833480'>the</span> <span m='4833570'>space</span> <span m='4833930'>from</span>
  <span m='4835070'>u</span> <span m='4835520'>times</span> <span m='4836120'>log</span>
  <span m='4836330'>w</span> <span m='4836690'>to</span> <span m='4836840'>u.</span>
  <span m='4838190'>But</span> <span m='4838340'>Willard</span> <span m='4838640'>did</span>
  <span m='4838820'>it,</span> <span m='4839030'>and-- boom--</span> <span m='4839530'>it
  got</span> <span m='4839750'>down</span> <span m='4840020'>to n</span> <span m='4840230'>space</span>
  <span m='4841310'>in</span> <span m='4841520'>this</span> <span m='4841670'>way.</span>
  </p><p><span m='4843140'>But</span> <span m='4843290'>as</span> <span m='4843410'>you</span>
  <span m='4843470'>saw,</span> <span m='4843680'>you</span> <span m='4843770'>can</span>
  <span m='4843950'>also</span> <span m='4844220'>do</span> <span m='4844310'>it</span>
  <span m='4844370'>directly</span> <span m='4844760'>to</span> <span m='4844840'>Van
  Emde Boas.</span> <span m='4845700'>All</span> <span m='4845810'>these</span> <span
  m='4846020'>ideas</span> <span m='4846350'>can</span> <span m='4846530'>be</span>
  <span m='4846830'>interchanged.</span> <span m='4847550'>You</span> <span m='4847640'>can</span>
  <span m='4847730'>combine</span> <span m='4848120'>any</span> <span m='4848270'>data</span>
  <span m='4848450'>structure</span> <span m='4848720'>you</span> <span m='4848840'>want</span>
  <span m='4849020'>with</span> <span m='4849140'>any</span> <span m='4849290'>space</span>
  <span m='4849560'>saving</span> <span m='4849860'>trick</span> <span m='4850130'>you</span>
  <span m='4850220'>want,</span> <span m='4850880'>with</span> <span m='4851060'>indirection,</span>
  <span m='4851600'>if</span> <span m='4851720'>you</span> <span m='4851810'>need</span>
  <span m='4852020'>to,</span> <span m='4852290'>to speed</span> <span m='4852560'>things</span>
  <span m='4852830'>up</span> <span m='4853400'>and</span> <span m='4853520'>reduce</span>
  <span m='4853760'>space</span> <span m='4854030'>a</span> <span m='4854090'>little</span>
  <span m='4854300'>bit.</span> </p><p><span m='4855290'>So</span> <span m='4855670'>there's</span>
  <span m='4855890'>many,</span> <span m='4856290'>many</span> <span m='4856400'>ways</span>
  <span m='4856610'>to</span> <span m='4856700'>do</span> <span m='4856910'>this.</span>
  <span m='4857190'>But</span> <span m='4857240'>in</span> <span m='4857330'>the</span>
  <span m='4857450'>end,</span> <span m='4857670'>you</span> <span m='4857770'>get</span>
  <span m='4858230'>log</span> <span m='4858500'>w</span> <span m='4858770'>per operation,</span>
  <span m='4859230'>and</span> <span m='4859430'>order</span> <span m='4859640'>n</span>
  <span m='4859820'>space.</span> <span m='4860750'>And</span> <span m='4860870'>that</span>
  <span m='4861180'>sort</span> <span m='4861380'>of</span> <span m='4861500'>result</span>
  <span m='4861860'>one.</span> <span m='4862070'>And it's</span> <span m='4862190'>probably</span>
  <span m='4862490'>the</span> <span m='4862610'>most</span> <span m='4862940'>useful</span>
  <span m='4863630'>predecessor</span> <span m='4864200'>data</span> <span m='4864530'>structure,</span>
  <span m='4865340'>in</span> <span m='4865430'>general.</span> <span m='4865850'>But</span>
  <span m='4865970'>next</span> <span m='4866150'>time,</span> <span m='4866270'>we'll</span>
  <span m='4866360'>see</span> <span m='4866480'>fusion</span> <span m='4866840'>trees,</span>
  <span m='4867140'>which</span> <span m='4867320'>are</span> <span m='4867380'>good</span>
  <span m='4867590'>for</span> <span m='4867800'>when</span> <span m='4867950'>w</span>
  <span m='4868340'>is</span> <span m='4869180'>huge.</span> </p>
type: course
uid: e7b07389264fb92cd0d88926aa5f853a

---
None