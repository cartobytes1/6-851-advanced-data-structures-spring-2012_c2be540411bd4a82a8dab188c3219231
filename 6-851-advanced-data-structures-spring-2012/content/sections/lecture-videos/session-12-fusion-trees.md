---
about_this_resource_text: '<p><strong>Description:</strong> Fusion trees: Sketching,
  parallel comparison, most significant set bit.</p> <p><strong>Speaker:</strong>
  Prof. Erik Demaine</p>'
course_id: 6-851-advanced-data-structures-spring-2012
embedded_media:
- id: Video-YouTube-Stream
  media_location: xSGorVW8j6Q
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Video-YouTube-Stream
  type: Video
  uid: b0e2ab6718858a549328f0117dd54f9a
- id: Video-iTunesU-MP4
  media_location: https://itunes.apple.com/us/itunes-u/session-12-fusion-trees/id735348884?i=199527720
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Video-iTunes U-MP4
  type: Video
  uid: a481b0b3468661b84675a86a0a548b15
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.851S12/MIT6_851S12_lec12_300k.mp4
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Video-Internet Archive-MP4
  type: Video
  uid: a9cc7753cc79cb12c7ade36ab75ece8c
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/xSGorVW8j6Q/default.jpg
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: c0b38c5fd4493009d5a611e42c7f022d
- id: 3Play-3PlayYouTubeid-MP4
  media_location: xSGorVW8j6Q
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 006ad69f0ae17f6744cfb74a2f8750b9
- id: xSGorVW8j6Q.srt
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-12-fusion-trees/xSGorVW8j6Q.srt
  title: 3play caption file
  type: null
  uid: 6b39f88d7e8eea4c4087eab15d0e6b38
- id: xSGorVW8j6Q.pdf
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-12-fusion-trees/xSGorVW8j6Q.pdf
  title: 3play pdf file
  type: null
  uid: 35fe5f8ad08293fe3fc699db5e02db3f
- id: Caption-3Play YouTube id-SRT
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: e3ecbb23b370e177909cc940c188aa4f
- id: Transcript-3Play YouTube id-PDF
  parent_uid: e67f066785995cf1c2aa8a627ace7871
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 9537c48938e2a0290c627c4da0e808ff
inline_embed_id: 80312727session12:fusiontrees45096133
layout: video
order_index: null
parent_uid: b66cbbb7b35e74ff17cdbf44e5fb6b1d
related_resources_text: ''
short_url: session-12-fusion-trees
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-851-advanced-data-structures-spring-2012/lecture-videos/session-12-fusion-trees
template_type: Tabbed
title: 'Session 12: Fusion Trees'
transcript: <p><span m='90'>The</span> <span m='180'>following</span> <span m='630'>content</span>
  <span m='1200'>is</span> <span m='1320'>provided</span> <span m='1770'>under</span>
  <span m='2009'>a</span> <span m='2070'>Creative</span> <span m='2490'>Commons</span>
  <span m='2910'>license.</span> <span m='4030'>Your</span> <span m='4200'>support</span>
  <span m='4710'>will</span> <span m='4860'>help</span> <span m='5100'>MIT</span>
  <span m='5550'>OpenCourseWare</span> <span m='6360'>continue</span> <span m='6870'>to</span>
  <span m='6960'>offer</span> <span m='7380'>high</span> <span m='7620'>quality</span>
  <span m='8100'>educational</span> <span m='8730'>resources</span> <span m='9360'>for</span>
  <span m='9540'>free.</span> <span m='10720'>To</span> <span m='10740'>make</span>
  <span m='10920'>a</span> <span m='10980'>donation</span> <span m='11730'>or</span>
  <span m='11940'>view</span> <span m='12390'>additional</span> <span m='12810'>materials</span>
  <span m='13320'>from</span> <span m='13500'>hundreds</span> <span m='13920'>of</span>
  <span m='14040'>MIT</span> <span m='14460'>courses,</span> <span m='15550'>visit</span>
  <span m='15780'>MIT</span> <span m='16200'>OpenCourseWare</span> <span m='17280'>at</span>
  <span m='17430'>ocw.mit.edu.</span> </p><p><span m='21170'>ERIK DEMAINE:</span>
  <span m='21335'>Today,</span> <span m='21500'>we</span> <span m='21770'>continue</span>
  <span m='22220'>our</span> <span m='22340'>theme</span> <span m='22670'>on</span>
  <span m='22870'>integer</span> <span m='23330'>data</span> <span m='23570'>structures.</span>
  <span m='24260'>And</span> <span m='24350'>we're</span> <span m='24500'>going</span>
  <span m='24620'>to</span> <span m='24680'>cover</span> <span m='25100'>one</span>
  <span m='25400'>data</span> <span m='25640'>structure</span> <span m='26060'>called</span>
  <span m='26300'>fusion</span> <span m='26690'>trees,</span> <span m='28160'>which</span>
  <span m='28520'>introduces</span> <span m='28910'>a</span> <span m='28970'>bunch</span>
  <span m='29240'>of</span> <span m='29330'>cool</span> <span m='29780'>concepts</span>
  <span m='30500'>using,</span> <span m='31070'>you might</span> <span m='31390'>call</span>
  <span m='31790'>bit</span> <span m='32030'>tricks,</span> <span m='33020'>using</span>
  <span m='33590'>the</span> <span m='33800'>word</span> <span m='34070'>level</span>
  <span m='34370'>parallelism</span> <span m='35060'>to</span> <span m='35180'>do</span>
  <span m='35330'>lots</span> <span m='35570'>of</span> <span m='35660'>great</span>
  <span m='35870'>things.</span> <span m='37610'>To</span> <span m='37790'>do</span>
  <span m='37940'>those</span> <span m='38150'>great</span> <span m='38360'>things</span>
  <span m='38660'>we</span> <span m='38780'>need</span> <span m='38930'>to</span>
  <span m='39020'>do</span> <span m='39140'>something</span> <span m='39440'>called</span>
  <span m='39620'>sketching,</span> <span m='40190'>which</span> <span m='40400'>is</span>
  <span m='41540'>essentially</span> <span m='41930'>taking</span> <span m='42200'>w-bit</span>
  <span m='42680'>integers</span> <span m='43040'>and</span> <span m='43130'>making</span>
  <span m='43400'>them</span> <span m='43580'>less</span> <span m='43880'>than</span>
  <span m='44030'>w-bits,</span> <span m='44600'>but</span> <span m='44750'>still</span>
  <span m='44990'>having</span> <span m='45440'>enough</span> <span m='45740'>stuff</span>
  <span m='46130'>that</span> <span m='46250'>we</span> <span m='46370'>care</span>
  <span m='46580'>about.</span> <span m='47660'>And</span> <span m='47840'>then</span>
  <span m='49040'>we</span> <span m='49190'>can</span> <span m='49340'>actually</span>
  <span m='49700'>compute</span> <span m='50060'>those</span> <span m='50180'>sketches</span>
  <span m='50660'>using</span> <span m='51290'>integer</span> <span m='51650'>multiplication</span>
  <span m='52430'>in</span> <span m='52550'>a</span> <span m='52610'>very</span> <span
  m='52790'>clever</span> <span m='53120'>way.</span> <span m='54680'>And</span> <span
  m='56150'>given</span> <span m='56510'>a</span> <span m='56570'>bunch</span> <span
  m='56870'>of</span> <span m='56990'>these</span> <span m='57350'>slightly</span>
  <span m='57830'>less</span> <span m='58100'>than</span> <span m='58220'>w</span>
  <span m='58520'>bit</span> <span m='58730'>numbers</span> <span m='59300'>we</span>
  <span m='59450'>can</span> <span m='59630'>compare</span> <span m='61040'>several</span>
  <span m='61610'>for</span> <span m='61790'>the</span> <span m='61880'>price</span>
  <span m='62330'>of</span> <span m='62480'>one</span> <span m='62780'>operation</span>
  <span m='63750'>as</span> <span m='64090'>a</span> <span m='64190'>parallel</span>
  <span m='64519'>comparison.</span> <span m='65700'>And</span> <span m='65720'>then</span>
  <span m='66170'>a</span> <span m='66680'>particularly</span> <span m='67220'>nifty</span>
  <span m='67580'>thing,</span> <span m='68930'>which</span> <span m='69170'>is</span>
  <span m='69410'>new</span> <span m='69650'>this</span> <span m='69830'>time</span>
  <span m='70120'>I</span> <span m='70160'>haven't</span> <span m='70430'>covered</span>
  <span m='70700'>it</span> <span m='70760'>before,</span> <span m='71120'>is</span>
  <span m='71240'>how</span> <span m='71360'>to</span> <span m='71480'>compute</span>
  <span m='71930'>the</span> <span m='72890'>leftmost</span> <span m='73580'>1</span>
  <span m='73880'>bit</span> <span m='74330'>in</span> <span m='74510'>a</span> <span
  m='74570'>w-bit</span> <span m='75650'>integer</span> <span m='76330'>in</span>
  <span m='76510'>constant</span> <span m='76780'>time,</span> <span m='78440'>all</span>
  <span m='78710'>very</span> <span m='78920'>cool.</span> </p><p><span m='79790'>And</span>
  <span m='79970'>so</span> <span m='80090'>we're</span> <span m='80180'>going</span>
  <span m='80280'>to</span> <span m='80900'>combine</span> <span m='81230'>all</span>
  <span m='81350'>these</span> <span m='81500'>techniques</span> <span m='82040'>and</span>
  <span m='82220'>get</span> <span m='82430'>fusion</span> <span m='82760'>trees.</span>
  <span m='83000'>What</span> <span m='83180'>do</span> <span m='83290'>fusion</span>
  <span m='83600'>trees</span> <span m='84050'>give</span> <span m='84290'>us</span>
  <span m='84470'>in</span> <span m='84560'>the</span> <span m='84710'>end?</span>
  <span m='90950'>Basically,</span> <span m='91340'>the</span> <span m='91460'>goal</span>
  <span m='91670'>is</span> <span m='91820'>to</span> <span m='91940'>get</span> <span
  m='92620'>log</span> <span m='93350'>base</span> <span m='93740'>w</span> <span
  m='94370'>of</span> <span m='94580'>n,</span> <span m='95750'>predecessor</span>
  <span m='96620'>and</span> <span m='96830'>successor.</span> <span m='99050'>So</span>
  <span m='99320'>we're</span> <span m='99620'>again</span> <span m='99950'>talking</span>
  <span m='100250'>about</span> <span m='100400'>the</span> <span m='100460'>predecessor</span>
  <span m='101870'>problem.</span> <span m='103040'>We</span> <span m='103340'>did</span>
  <span m='103640'>log</span> <span m='104240'>of</span> <span m='104420'>w</span>
  <span m='104960'>last</span> <span m='105290'>time</span> <span m='106010'>with</span>
  <span m='106610'>van</span> <span m='106910'>Emde Boas</span> <span m='107480'>and</span>
  <span m='107630'>y-fast</span> <span m='108140'>tries.</span> <span m='109430'>So</span>
  <span m='109820'>then</span> <span m='111080'>with</span> <span m='111320'>the</span>
  <span m='111410'>two</span> <span m='111590'>of</span> <span m='111650'>them</span>
  <span m='111830'>together,</span> <span m='112280'>we</span> <span m='112430'>get</span>
  <span m='112580'>log</span> <span m='112820'>w</span> <span m='113900'>and</span>
  <span m='114240'>log</span> <span m='114560'>base</span> <span m='114860'>w</span>
  <span m='115340'>of</span> <span m='115430'>n.</span> <span m='116750'>The</span>
  <span m='116870'>min</span> <span m='117140'>of</span> <span m='117260'>those</span>
  <span m='117470'>two</span> <span m='117620'>things</span> <span m='118010'>is</span>
  <span m='118160'>always</span> <span m='118400'>at</span> <span m='118490'>most</span>
  <span m='119450'>root</span> <span m='119640'>log</span> <span m='120010'>n,</span>
  <span m='122360'>but</span> <span m='122570'>sometimes</span> <span m='122990'>much</span>
  <span m='123200'>better</span> <span m='123470'>than</span> <span m='123590'>that.</span>
  </p><p><span m='124470'>So</span> <span m='124700'>fusion</span> <span m='125030'>trees</span>
  <span m='125240'>are</span> <span m='125330'>great</span> <span m='125690'>when</span>
  <span m='125900'>w</span> <span m='126320'>is</span> <span m='126500'>big,</span>
  <span m='127230'>van</span> <span m='127430'>Emde</span> <span m='127530'>Boas</span>
  <span m='127970'>was</span> <span m='128120'>good</span> <span m='128330'>when</span>
  <span m='128509'>w</span> <span m='128840'>was</span> <span m='129020'>smallish.</span>
  <span m='130250'>Like</span> <span m='130720'>poly</span> <span m='131180'>log</span>
  <span m='131590'>n,</span> <span m='132510'>van</span> <span m='132840'>Emde</span>
  <span m='133130'>Boas</span> <span m='133400'>is</span> <span m='133490'>optimal.</span>
  <span m='134510'>Here,</span> <span m='134780'>we're</span> <span m='134870'>thinking</span>
  <span m='135110'>about</span> <span m='135380'>w</span> <span m='135710'>being</span>
  <span m='136580'>closer</span> <span m='136910'>to</span> <span m='137030'>n,</span>
  <span m='140120'>or</span> <span m='140490'>maybe</span> <span m='141080'>n</span>
  <span m='141230'>to</span> <span m='141320'>the</span> <span m='141530'>epsilon</span>
  <span m='141950'>or</span> <span m='142040'>something.</span> <span m='142400'>Then</span>
  <span m='142520'>we</span> <span m='142670'>get</span> <span m='143300'>constant</span>
  <span m='143740'>time,</span> <span m='144170'>if</span> <span m='144490'>it's</span>
  <span m='144650'>n</span> <span m='144800'>to</span> <span m='144890'>the</span>
  <span m='145010'>epsilon.</span> </p><p><span m='145950'>Anyway,</span> <span m='148220'>the</span>
  <span m='148370'>version</span> <span m='148670'>we're</span> <span m='148820'>going</span>
  <span m='148940'>to</span> <span m='149030'>cover</span> <span m='149330'>is</span>
  <span m='149450'>static.</span> <span m='153140'>And</span> <span m='153650'>it's</span>
  <span m='154640'>linear</span> <span m='155000'>space,</span> <span m='158660'>and</span>
  <span m='158990'>it</span> <span m='159080'>runs</span> <span m='159470'>on</span>
  <span m='159830'>the</span> <span m='159920'>good</span> <span m='160130'>old</span>
  <span m='160580'>word</span> <span m='160850'>RAM,</span> <span m='161966'>which</span>
  <span m='162370'>you may</span> <span m='162680'>recall</span> <span m='163130'>is</span>
  <span m='164600'>regular</span> <span m='164990'>C</span> <span m='165200'>operations</span>
  <span m='166010'>on</span> <span m='166220'>w-bit</span> <span m='166760'>words.</span>
  <span m='167120'>w</span> <span m='167450'>is</span> <span m='167570'>at</span>
  <span m='167660'>least</span> <span m='167960'>log</span> <span m='168235'>n,</span>
  <span m='168510'>so</span> <span m='168680'>you</span> <span m='168800'>can</span>
  <span m='168950'>do</span> <span m='169070'>random</span> <span m='169370'>access.</span>
  <span m='172310'>And</span> <span m='172850'>anything</span> <span m='173180'>else?</span>
  <span m='175070'>I</span> <span m='175120'>think</span> <span m='175310'>that's</span>
  <span m='175580'>the</span> <span m='175670'>version</span> <span m='176000'>we</span>
  <span m='176120'>will</span> <span m='176270'>cover.</span> <span m='176950'>And</span>
  <span m='177100'>that</span> <span m='177290'>is</span> <span m='177410'>the</span>
  <span m='177560'>original</span> <span m='177860'>version</span> <span m='178160'>of</span>
  <span m='178220'>Fredman</span> <span m='178610'>and</span> <span m='178730'>Willard,</span>
  <span m='180230'>and</span> <span m='180500'>it</span> <span m='180860'>was</span>
  <span m='181070'>invented</span> <span m='182360'>in</span> <span m='182540'>1990,</span>
  <span m='183360'>which</span> <span m='183410'>was</span> <span m='183530'>one</span>
  <span m='183770'>year</span> <span m='184040'>after</span> <span m='184370'>the</span>
  <span m='184490'>cold</span> <span m='184730'>fusion</span> <span m='185240'>debacle.</span>
  <span m='186060'>So</span> <span m='186230'>this</span> <span m='186480'>may</span>
  <span m='186810'>be</span> <span m='187070'>where</span> <span m='187250'>this</span>
  <span m='187460'>name</span> <span m='188060'>came</span> <span m='188300'>from.</span>
  <span m='188840'>There's</span> <span m='188990'>other</span> <span m='189200'>reasons</span>
  <span m='189490'>it</span> <span m='189560'>might</span> <span m='189740'>be</span>
  <span m='189830'>called</span> <span m='190010'>fusion</span> <span m='190340'>trees,</span>
  <span m='191180'>which</span> <span m='191330'>we'll</span> <span m='191450'>get</span>
  <span m='191600'>to.</span> </p><p><span m='194450'>Cool.</span> <span m='195260'>So</span>
  <span m='195410'>now,</span> <span m='195560'>there's</span> <span m='195740'>other</span>
  <span m='196010'>versions</span> <span m='196340'>of</span> <span m='196400'>fusion</span>
  <span m='196730'>trees</span> <span m='196940'>which</span> <span m='197150'>I</span>
  <span m='197240'>will</span> <span m='197360'>not</span> <span m='197570'>cover,</span>
  <span m='198030'>but</span> <span m='198260'>just</span> <span m='198440'>so</span>
  <span m='198530'>you</span> <span m='198620'>know</span> <span m='198800'>about</span>
  <span m='199070'>them.</span> <span m='200450'>And</span> <span m='200930'>in some</span>
  <span m='201230'>sense</span> <span m='201500'>we</span> <span m='201680'>will</span>
  <span m='202470'>pseudo</span> <span m='202810'>cover</span> <span m='203150'>them.</span>
  <span m='206210'>There's</span> <span m='206810'>a</span> <span m='206870'>version</span>
  <span m='207320'>for</span> <span m='207680'>an</span> <span m='208010'>AC0</span>
  <span m='209350'>RAM.</span> <span m='210526'>This</span> <span m='210920'>is</span>
  <span m='211050'>a</span> <span m='211130'>model</span> <span m='211400'>we</span>
  <span m='211520'>haven't</span> <span m='211970'>talked</span> <span m='212270'>about.</span>
  <span m='213150'>It's</span> <span m='213260'>another</span> <span m='213650'>version</span>
  <span m='213980'>of</span> <span m='214070'>a</span> <span m='214160'>trans-dichotomous</span>
  <span m='215360'>RAM,</span> <span m='216800'>somewhere</span> <span m='217280'>off</span>
  <span m='217490'>to</span> <span m='217580'>the</span> <span m='217700'>side</span>
  <span m='217970'>next</span> <span m='218180'>to</span> <span m='218300'>word</span>
  <span m='218530'>RAM.</span> <span m='219110'>AC0</span> <span m='219760'>is</span>
  <span m='219930'>a</span> <span m='220010'>circuit</span> <span m='220460'>model.</span>
  <span m='221390'>And it's</span> <span m='221720'>basically</span> <span m='222290'>any</span>
  <span m='222800'>constant</span> <span m='223460'>depth</span> <span m='226280'>circuit</span>
  <span m='228600'>of</span> <span m='228920'>unbounded</span> <span m='229730'>fan</span>
  <span m='230090'>in</span> <span m='230220'>and</span> <span m='230330'>fan</span>
  <span m='230630'>out.</span> </p><p><span m='237950'>And</span> <span m='238190'>so</span>
  <span m='238370'>in</span> <span m='238460'>particular</span> <span m='238940'>what</span>
  <span m='239060'>AC0</span> <span m='239790'>forbids</span> <span m='240920'>are</span>
  <span m='241130'>operations</span> <span m='241760'>like</span> <span m='242480'>multiplication.</span>
  <span m='248360'>I</span> <span m='248450'>think</span> <span m='248750'>this</span>
  <span m='248900'>used</span> <span m='249110'>to</span> <span m='249230'>be</span>
  <span m='249380'>a</span> <span m='249440'>bigger</span> <span m='249800'>deal</span>
  <span m='250130'>than</span> <span m='250340'>it</span> <span m='250490'>is</span>
  <span m='250970'>today.</span> <span m='251850'>I</span> <span m='251950'>think</span>
  <span m='252050'>multiplication</span> <span m='252740'>used</span> <span m='252920'>to</span>
  <span m='253040'>be</span> <span m='253250'>in</span> <span m='253340'>order</span>
  <span m='253520'>of</span> <span m='253580'>magnitude</span> <span m='254060'>slower</span>
  <span m='254570'>than</span> <span m='255200'>integer</span> <span m='255560'>addition.</span>
  <span m='256610'>I</span> <span m='256850'>checked</span> <span m='257149'>on</span>
  <span m='257269'>current</span> <span m='257660'>Intel</span> <span m='258050'>architecture.</span>
  <span m='258395'>It's</span> <span m='258740'>about</span> <span m='258950'>3</span>
  <span m='259160'>times</span> <span m='259430'>slower</span> <span m='259820'>than</span>
  <span m='260000'>an</span> <span m='260089'>addition,</span> <span m='260480'>because</span>
  <span m='260779'>of</span> <span m='260839'>pipelining</span> <span m='262070'>a</span>
  <span m='262100'>lot</span> <span m='262220'>of</span> <span m='262310'>things</span>
  <span m='262550'>get</span> <span m='262760'>cheaper.</span> <span m='263660'>But</span>
  <span m='265040'>in</span> <span m='265400'>some</span> <span m='265610'>theoretical</span>
  <span m='266120'>sense,</span> <span m='266420'>multiplication</span> <span m='267080'>is</span>
  <span m='267200'>worse</span> <span m='267530'>than</span> <span m='267680'>a</span>
  <span m='267740'>lot</span> <span m='267950'>of</span> <span m='268040'>other</span>
  <span m='268280'>operations,</span> <span m='268880'>because</span> <span m='269840'>you</span>
  <span m='269960'>need</span> <span m='270170'>to</span> <span m='270290'>have</span>
  <span m='270470'>a</span> <span m='270530'>log</span> <span m='270860'>and</span>
  <span m='271020'>depth</span> <span m='271280'>circuit.</span> <span m='272030'>So</span>
  <span m='272150'>you</span> <span m='272210'>can't</span> <span m='272450'>quite</span>
  <span m='272720'>get</span> <span m='272900'>as</span> <span m='273020'>much</span>
  <span m='273350'>parallelism</span> <span m='274490'>as</span> <span m='274610'>you</span>
  <span m='274700'>can</span> <span m='274910'>with</span> <span m='275090'>integer</span>
  <span m='275420'>addition.</span> <span m='275850'>If</span> <span m='275950'>you</span>
  <span m='276050'>don't</span> <span m='276150'>know</span> <span m='276250'>about</span>
  <span m='276320'>circuit</span> <span m='276560'>models,</span> <span m='276830'>don't</span>
  <span m='276980'>worry</span> <span m='277130'>about</span> <span m='277310'>it</span>
  <span m='277400'>too</span> <span m='277520'>much.</span> <span m='277820'>But</span>
  <span m='278330'>AC0</span> <span m='278840'>means</span> <span m='279080'>no</span>
  <span m='279230'>multiplication,</span> <span m='280280'>sort</span> <span m='280520'>of</span>
  <span m='280580'>simpler</span> <span m='281090'>operations.</span> </p><p><span
  m='282260'>The</span> <span m='282380'>weird</span> <span m='282590'>thing</span>
  <span m='282800'>about</span> <span m='283010'>the</span> <span m='283160'>AC0</span>
  <span m='283670'>RAM</span> <span m='283930'>is</span> <span m='284040'>it</span>
  <span m='284150'>lets</span> <span m='284330'>you</span> <span m='284450'>do</span>
  <span m='285170'>weird</span> <span m='285470'>things,</span> <span m='287120'>which</span>
  <span m='287420'>are</span> <span m='287540'>AC0,</span> <span m='288200'>but</span>
  <span m='288350'>are</span> <span m='288440'>not</span> <span m='289010'>in</span>
  <span m='289220'>C.</span> <span m='290360'>So</span> <span m='291050'>you</span>
  <span m='291260'>could</span> <span m='291410'>look</span> <span m='291560'>at</span>
  <span m='291620'>the</span> <span m='291740'>intersection</span> <span m='292190'>of</span>
  <span m='292280'>AC0</span> <span m='292730'>RAM</span> <span m='293000'>and</span>
  <span m='293090'>word</span> <span m='293330'>RAM,</span> <span m='293570'>and</span>
  <span m='293660'>that</span> <span m='293780'>would</span> <span m='293900'>basically</span>
  <span m='294260'>be</span> <span m='294410'>word</span> <span m='294610'>RAM</span>
  <span m='294830'>without</span> <span m='295070'>multiplication.</span> <span m='296780'>But</span>
  <span m='296990'>AC0</span> <span m='297470'>RAM</span> <span m='297770'>allows</span>
  <span m='298220'>other</span> <span m='298490'>operations</span> <span m='299090'>as</span>
  <span m='299210'>long</span> <span m='299450'>as</span> <span m='299660'>there's</span>
  <span m='299830'>some</span> <span m='300080'>circuit</span> <span m='300500'>that</span>
  <span m='300620'>can</span> <span m='300770'>compute</span> <span m='301160'>them.</span>
  <span m='301970'>Sometimes</span> <span m='302410'>they're</span> <span m='302480'>reasonable</span>
  <span m='302800'>operations</span> <span m='303500'>like</span> <span m='304340'>most</span>
  <span m='304520'>significant</span> <span m='305030'>set</span> <span m='305270'>bit</span>
  <span m='305540'>is</span> <span m='305660'>an</span> <span m='305750'>AC0</span>
  <span m='306230'>operation.</span> <span m='306860'>So,</span> <span m='307250'>you</span>
  <span m='307370'>don't</span> <span m='307550'>have</span> <span m='307790'>to</span>
  <span m='307880'>do</span> <span m='308030'>any</span> <span m='308180'>work</span>
  <span m='308540'>to</span> <span m='309380'>get</span> <span m='309530'>this</span>
  <span m='309680'>operation.</span> <span m='310640'>So,</span> <span m='310960'>in
  some sense</span> <span m='311220'>this</span> <span m='311390'>makes</span> <span
  m='311600'>your</span> <span m='311690'>life</span> <span m='311900'>easier.</span>
  <span m='312770'>In</span> <span m='312860'>other</span> <span m='313040'>ways</span>
  <span m='313220'>it</span> <span m='313280'>makes</span> <span m='313460'>your</span>
  <span m='313550'>life</span> <span m='313760'>harder,</span> <span m='314060'>because</span>
  <span m='314480'>there</span> <span m='314540'>is</span> <span m='314690'>no</span>
  <span m='314930'>multiplication</span> <span m='315620'>and</span> <span m='315740'>we're</span>
  <span m='315860'>going</span> <span m='315980'>to</span> <span m='316580'>use</span>
  <span m='316790'>multiplication</span> <span m='317450'>to</span> <span m='317570'>compute</span>
  <span m='317870'>sketches</span> <span m='319010'>and</span> <span m='319130'>other</span>
  <span m='319280'>things.</span> </p><p><span m='320660'>So</span> <span m='320840'>it's</span>
  <span m='321350'>both</span> <span m='321620'>better</span> <span m='321980'>and</span>
  <span m='322160'>worse.</span> <span m='323390'>This</span> <span m='323570'>is</span>
  <span m='323720'>by</span> <span m='324950'>Anderson</span> <span m='325610'>and</span>
  <span m='325790'>others</span> <span m='326590'>a</span> <span m='326910'>few</span>
  <span m='327190'>years</span> <span m='327440'>after</span> <span m='327980'>the</span>
  <span m='328100'>original</span> <span m='328430'>fusion</span> <span m='328760'>trees.</span>
  <span m='329780'>More</span> <span m='329990'>interesting</span> <span m='330470'>is</span>
  <span m='330590'>that</span> <span m='330740'>there</span> <span m='331190'>are--</span>
  <span m='331880'>so</span> <span m='332180'>this</span> <span m='332420'>is</span>
  <span m='332840'>a</span> <span m='333260'>version</span> <span m='333710'>of</span>
  <span m='333800'>fusion</span> <span m='334160'>trees.</span> <span m='335690'>More</span>
  <span m='335840'>interesting</span> <span m='336230'>are</span> <span m='336350'>the</span>
  <span m='336440'>dynamic</span> <span m='337010'>versions</span> <span m='338090'>of</span>
  <span m='338210'>fusion</span> <span m='338570'>trees.</span> <span m='341990'>So</span>
  <span m='342200'>there's</span> <span m='342410'>one</span> <span m='344450'>that</span>
  <span m='345320'>the</span> <span m='345410'>first</span> <span m='345680'>version--</span>
  <span m='347915'>it's</span> <span m='348200'>actually</span> <span m='348860'>published</span>
  <span m='349220'>later.</span> </p><p><span m='360330'>There's</span> <span m='360540'>a</span>
  <span m='360630'>general</span> <span m='360960'>trick</span> <span m='361230'>for</span>
  <span m='361380'>dynamizing</span> <span m='362970'>static</span> <span m='363390'>data</span>
  <span m='363570'>structures.</span> <span m='363930'>We</span> <span m='364020'>actually</span>
  <span m='364260'>saw</span> <span m='364560'>one.</span> <span m='364830'>You</span>
  <span m='364920'>may</span> <span m='365040'>recall</span> <span m='365340'>weight</span>
  <span m='365540'>balanced</span> <span m='366150'>search</span> <span m='366450'>trees</span>
  <span m='366750'>was</span> <span m='366930'>a</span> <span m='366990'>way</span>
  <span m='367170'>to</span> <span m='367300'>dynamize</span> <span m='368250'>a</span>
  <span m='368370'>static</span> <span m='368760'>data</span> <span m='368940'>structure.</span>
  <span m='369870'>It turns</span> <span m='370110'>out it</span> <span m='370260'>doesn't</span>
  <span m='370560'>work</span> <span m='370770'>so</span> <span m='371070'>great</span>
  <span m='371490'>on</span> <span m='372630'>fusion</span> <span m='372990'>trees.</span>
  <span m='373260'>Because</span> <span m='373860'>the</span> <span m='373980'>time</span>
  <span m='374310'>to</span> <span m='374430'>build</span> <span m='374760'>a</span>
  <span m='374790'>fusion</span> <span m='375180'>tree</span> <span m='376680'>is</span>
  <span m='376860'>polynomial.</span> <span m='377820'>It's</span> <span m='377970'>not</span>
  <span m='378180'>linear.</span> <span m='379430'>And so</span> <span m='379470'>that's</span>
  <span m='379620'>kind</span> <span m='379800'>of</span> <span m='379890'>annoying.</span>
  <span m='380655'>You</span> <span m='380940'>need</span> <span m='381060'>polynomial</span>
  <span m='381600'>time</span> <span m='381780'>to</span> <span m='381870'>build</span>
  <span m='382050'>this</span> <span m='382230'>thing.</span> <span m='382440'>So</span>
  <span m='382860'>weight</span> <span m='383100'>balance</span> <span m='383670'>is</span>
  <span m='383820'>not</span> <span m='384000'>enough</span> <span m='384240'>to</span>
  <span m='384360'>slow</span> <span m='384660'>down</span> <span m='385650'>the</span>
  <span m='385950'>rebuilds.</span> </p><p><span m='387200'>There's</span> <span m='387360'>another</span>
  <span m='387660'>structure,</span> <span m='388140'>which</span> <span m='388290'>we</span>
  <span m='388380'>won't</span> <span m='388530'>cover,</span> <span m='388830'>called</span>
  <span m='389070'>exponential</span> <span m='389730'>search</span> <span m='389970'>trees.</span>
  <span m='390770'>It</span> <span m='390870'>has</span> <span m='391090'>this</span>
  <span m='391200'>log</span> <span m='391530'>log</span> <span m='391770'>n</span>
  <span m='391920'>overhead.</span> <span m='393130'>But</span> <span m='393570'>other</span>
  <span m='393960'>than</span> <span m='394170'>that,</span> <span m='394680'>it</span>
  <span m='394980'>gives</span> <span m='395190'>you</span> <span m='395400'>a</span>
  <span m='395450'>nice</span> <span m='395640'>time</span> <span m='395870'>dynamization.</span>
  <span m='397465'>So</span> <span m='397860'>these</span> <span m='398070'>are</span>
  <span m='398200'>updates.</span> </p><p><span m='402180'>There's</span> <span m='402420'>another</span>
  <span m='402720'>version</span> <span m='403080'>which</span> <span m='403260'>uses</span>
  <span m='403560'>hashing,</span> <span m='406370'>and</span> <span m='406530'>achieves</span>
  <span m='406920'>log</span> <span m='407170'>base</span> <span m='407430'>w</span>
  <span m='408600'>expected</span> <span m='409200'>time</span> <span m='412440'>for</span>
  <span m='412830'>updates.</span> <span m='414210'>This</span> <span m='414360'>is</span>
  <span m='414480'>by</span> <span m='415830'>Raman.</span> <span m='417600'>And</span>
  <span m='418380'>so</span> <span m='418560'>this</span> <span m='418740'>gives</span>
  <span m='418920'>you</span> <span m='421100'>matching</span> <span m='422460'>the</span>
  <span m='422580'>fusion</span> <span m='422880'>tree</span> <span m='423060'>query</span>
  <span m='423420'>bound,</span> <span m='424350'>you</span> <span m='424500'>can</span>
  <span m='424620'>do</span> <span m='424770'>inserts</span> <span m='425250'>and</span>
  <span m='425370'>deletes,</span> <span m='426180'>the</span> <span m='426270'>same</span>
  <span m='426450'>amount</span> <span m='426660'>of</span> <span m='426720'>time</span>
  <span m='426960'>if</span> <span m='427110'>you</span> <span m='427230'>allow</span>
  <span m='428110'>expected.</span> <span m='428760'>And</span> <span m='428910'>essentially</span>
  <span m='430080'>the</span> <span m='430170'>idea</span> <span m='430390'>is</span>
  <span m='430560'>to</span> <span m='430680'>do</span> <span m='430830'>sketches</span>
  <span m='432000'>more</span> <span m='432210'>like</span> <span m='432450'>hashing.</span>
  <span m='433110'>I</span> <span m='433170'>mean,</span> <span m='433320'>think</span>
  <span m='433530'>of</span> <span m='433620'>sketching</span> <span m='434130'>as</span>
  <span m='434250'>just</span> <span m='434580'>hashing</span> <span m='435030'>down</span>
  <span m='435210'>to a</span> <span m='435330'>smaller</span> <span m='435690'>universe.</span>
  <span m='436720'>And</span> <span m='436990'>in</span> <span m='437220'>expectation</span>
  <span m='437850'>that</span> <span m='437970'>will</span> <span m='438120'>work</span>
  <span m='438360'>well,</span> <span m='438990'>although</span> <span m='439280'>it's</span>
  <span m='439470'>open,</span> <span m='440220'>actually,</span> <span m='440580'>whether</span>
  <span m='440850'>you</span> <span m='441030'>can</span> <span m='441600'>achieve</span>
  <span m='442770'>this</span> <span m='442980'>bound</span> <span m='443820'>with</span>
  <span m='443970'>high</span> <span m='444120'>probability.</span> <span m='449840'>So</span>
  <span m='450340'>it's</span> <span m='450540'>an</span> <span m='450630'>interesting</span>
  <span m='451080'>open</span> <span m='451320'>question.</span> </p><p><span m='455310'>So</span>
  <span m='455490'>that's</span> <span m='456120'>the</span> <span m='456300'>various</span>
  <span m='456690'>versions</span> <span m='457020'>of</span> <span m='457080'>fusion</span>
  <span m='457350'>trees.</span> <span m='457590'>But</span> <span m='457680'>we're</span>
  <span m='457830'>going</span> <span m='457940'>to</span> <span m='458040'>just</span>
  <span m='458210'>cover</span> <span m='458460'>the</span> <span m='458550'>static</span>
  <span m='458940'>ones,</span> <span m='459180'>because</span> <span m='459390'>they're</span>
  <span m='459510'>interesting</span> <span m='459930'>enough.</span> <span m='460830'>Dynamic</span>
  <span m='461280'>ones</span> <span m='461730'>are</span> <span m='462000'>not</span>
  <span m='462330'>that</span> <span m='462510'>much</span> <span m='462780'>harder</span>
  <span m='463200'>than</span> <span m='464220'>the</span> <span m='464310'>regular.</span>
  </p><p><span m='465880'>So</span> <span m='465930'>how</span> <span m='466050'>do</span>
  <span m='466140'>we</span> <span m='466290'>achieve</span> <span m='466710'>log</span>
  <span m='467010'>base</span> <span m='467250'>w</span> <span m='467640'>of</span>
  <span m='467720'>n?</span> <span m='468780'>Well</span> <span m='469230'>we've</span>
  <span m='469320'>already</span> <span m='469500'>seen</span> <span m='469740'>B-trees</span>
  <span m='470310'>which</span> <span m='470490'>achieve</span> <span m='470810'>log</span>
  <span m='471060'>base</span> <span m='471300'>b</span> <span m='471540'>of n.</span>
  <span m='472080'>So presumably</span> <span m='472710'>it's</span> <span m='472860'>the</span>
  <span m='472980'>same</span> <span m='473250'>idea,</span> <span m='474060'>and</span>
  <span m='474240'>indeed</span> <span m='477060'>that's</span> <span m='477240'>what</span>
  <span m='477360'>we'll</span> <span m='477480'>do.</span> <span m='479340'>What</span>
  <span m='479520'>we</span> <span m='479640'>want</span> <span m='480810'>is</span>
  <span m='481020'>a</span> <span m='481080'>B-tree</span> <span m='483000'>with</span>
  <span m='483570'>branching</span> <span m='484020'>factor</span> <span m='485610'>ideally</span>
  <span m='486060'>w.</span> <span m='487520'>We</span> <span m='487620'>can't</span>
  <span m='487860'>quite</span> <span m='488070'>achieve</span> <span m='488400'>w</span>
  <span m='488710'>though.</span> <span m='490130'>So</span> <span m='490300'>it's</span>
  <span m='490440'>going</span> <span m='490590'>to</span> <span m='490650'>be</span>
  <span m='490860'>w</span> <span m='491460'>to</span> <span m='491640'>some</span>
  <span m='491910'>small</span> <span m='492780'>constant</span> <span m='493290'>power.</span>
  <span m='493780'>And</span> <span m='494040'>1/5</span> <span m='494730'>is</span>
  <span m='494850'>the</span> <span m='494970'>one</span> <span m='495150'>that</span>
  <span m='495270'>I'll</span> <span m='495420'>use</span> <span m='496100'>in</span>
  <span m='496200'>this</span> <span m='496350'>lecture.</span> <span m='496710'>You</span>
  <span m='496860'>can</span> <span m='497790'>improve</span> <span m='498180'>it</span>
  <span m='498330'>or</span> <span m='498660'>make</span> <span m='498840'>it</span>
  <span m='498930'>worse,</span> <span m='499320'>up</span> <span m='499760'>to you.</span>
  <span m='501150'>But</span> <span m='501330'>any</span> <span m='501540'>constant</span>
  <span m='501960'>up</span> <span m='502110'>here</span> <span m='502260'>will</span>
  <span m='502410'>do.</span> <span m='503010'>Because</span> <span m='503310'>then</span>
  <span m='503490'>log</span> <span m='503850'>base</span> <span m='504180'>w</span>
  <span m='504480'>to</span> <span m='504570'>the</span> <span m='504690'>1/5</span>
  <span m='505200'>is</span> <span m='505320'>going</span> <span m='505460'>to</span>
  <span m='505560'>be</span> <span m='505830'>five</span> <span m='506340'>times</span>
  <span m='506880'>log</span> <span m='507240'>base</span> <span m='507510'>w</span>
  <span m='507810'>of</span> <span m='507930'>n.</span> </p><p><span m='510590'>So</span>
  <span m='511380'>we</span> <span m='511500'>have</span> <span m='511620'>a</span>
  <span m='511680'>node.</span> <span m='514004'>So</span> <span m='514480'>it</span>
  <span m='514650'>has</span> <span m='514980'>branching</span> <span m='515340'>factor</span>
  <span m='515840'>w to</span> <span m='516080'>the</span> <span m='516230'>1/5.</span>
  <span m='520610'>Then</span> <span m='520860'>the</span> <span m='520950'>height</span>
  <span m='521159'>of</span> <span m='521250'>the</span> <span m='521370'>tree,</span>
  <span m='521669'>of</span> <span m='521760'>course,</span> <span m='522150'>is</span>
  <span m='522940'>theta</span> <span m='523950'>log</span> <span m='524520'>base</span>
  <span m='524820'>w</span> <span m='525150'>of n.</span> <span m='525750'>So</span>
  <span m='525930'>that's</span> <span m='526140'>all</span> <span m='526290'>good.</span>
  <span m='527010'>But</span> <span m='527160'>now</span> <span m='527360'>what</span>
  <span m='527490'>we</span> <span m='527610'>need</span> <span m='527760'>to</span>
  <span m='527880'>do</span> <span m='528060'>is,</span> <span m='528210'>doing</span>
  <span m='528480'>a</span> <span m='528600'>predecessor</span> <span m='529230'>search</span>
  <span m='530050'>given</span> <span m='530220'>a</span> <span m='530280'>node,</span>
  <span m='531130'>we</span> <span m='531230'>need</span> <span m='531240'>to</span>
  <span m='531360'>decide</span> <span m='531870'>in</span> <span m='532020'>constant</span>
  <span m='532530'>time</span> <span m='533250'>which</span> <span m='533520'>branch</span>
  <span m='533910'>has</span> <span m='534120'>our</span> <span m='534270'>answer.</span>
  <span m='535680'>So</span> <span m='535830'>normally</span> <span m='536430'>in</span>
  <span m='536610'>a</span> <span m='536670'>B-tree</span> <span m='537150'>you</span>
  <span m='537270'>would</span> <span m='537420'>read</span> <span m='537660'>in</span>
  <span m='537810'>all</span> <span m='537990'>these</span> <span m='538200'>keys,</span>
  <span m='539580'>and</span> <span m='539730'>then</span> <span m='540270'>compare</span>
  <span m='540840'>your</span> <span m='541020'>item</span> <span m='541260'>to</span>
  <span m='541380'>all</span> <span m='541560'>of</span> <span m='541650'>them,</span>
  <span m='542310'>and</span> <span m='542460'>then</span> <span m='542700'>decide</span>
  <span m='543090'>which</span> <span m='543240'>way</span> <span m='543360'>to</span>
  <span m='543450'>go.</span> <span m='544350'>Because</span> <span m='544560'>in</span>
  <span m='544650'>a</span> <span m='544710'>B-tree</span> <span m='545100'>we</span>
  <span m='545220'>can</span> <span m='545400'>read</span> <span m='545730'>all</span>
  <span m='545940'>of</span> <span m='546030'>these</span> <span m='546240'>items</span>
  <span m='546630'>in</span> <span m='546840'>one</span> <span m='547200'>operation.</span>
  </p><p><span m='548400'>Now</span> <span m='548520'>here,</span> <span m='549090'>is</span>
  <span m='549180'>that</span> <span m='549330'>possible?</span> <span m='550350'>Think</span>
  <span m='550530'>about</span> <span m='550800'>it.</span> <span m='550860'>You've</span>
  <span m='551070'>got</span> <span m='552060'>each</span> <span m='552300'>of</span>
  <span m='552360'>these</span> <span m='552540'>keys</span> <span m='553020'>is w</span>
  <span m='553470'>bits</span> <span m='553740'>long.</span> <span m='554640'>There's</span>
  <span m='555090'>w</span> <span m='555510'>to</span> <span m='555670'>the</span>
  <span m='555780'>1/5</span> <span m='557280'>of</span> <span m='557490'>them.</span>
  <span m='558300'>So</span> <span m='558540'>the</span> <span m='558690'>total</span>
  <span m='559020'>number</span> <span m='559320'>of</span> <span m='559380'>bits</span>
  <span m='559830'>in</span> <span m='560010'>the</span> <span m='560070'>node</span>
  <span m='562890'>to</span> <span m='563010'>store</span> <span m='563280'>all</span>
  <span m='563370'>those</span> <span m='563610'>keys</span> <span m='564450'>is</span>
  <span m='564660'>w</span> <span m='565170'>to</span> <span m='565320'>the</span>
  <span m='565500'>1</span> <span m='565860'>plus</span> <span m='566310'>1/5,</span>
  <span m='568350'>which</span> <span m='568560'>is</span> <span m='568770'>a</span>
  <span m='568860'>lot.</span> <span m='569460'>There's</span> <span m='569640'>no</span>
  <span m='569790'>way</span> <span m='569970'>you</span> <span m='570090'>can</span>
  <span m='570240'>read</span> <span m='570480'>all</span> <span m='570570'>those</span>
  <span m='570780'>bits</span> <span m='571050'>in</span> <span m='571210'>constant</span>
  <span m='571670'>time.</span> <span m='572280'>You can</span> <span m='572550'>only</span>
  <span m='572730'>read</span> <span m='572940'>order</span> <span m='573120'>w</span>
  <span m='573480'>bits</span> <span m='573720'>in</span> <span m='573810'>constant</span>
  <span m='574160'>time.</span> <span m='574990'>So</span> <span m='575070'>we</span>
  <span m='575160'>can't</span> <span m='575370'>look</span> <span m='575520'>at</span>
  <span m='575610'>them</span> <span m='575760'>all.</span> <span m='576060'>Somehow,</span>
  <span m='576480'>we</span> <span m='576630'>still have</span> <span m='576790'>to</span>
  <span m='576900'>figure</span> <span m='577140'>out</span> <span m='577230'>which</span>
  <span m='577440'>way</span> <span m='577560'>to</span> <span m='577650'>go</span>
  <span m='578430'>correctly</span> <span m='579060'>in</span> <span m='579210'>constant</span>
  <span m='579630'>time.</span> <span m='580450'>So</span> <span m='580500'>this</span>
  <span m='580710'>is</span> <span m='580770'>the</span> <span m='580860'>idea</span>
  <span m='581250'>of</span> <span m='582780'>a</span> <span m='583890'>fusion</span>
  <span m='584340'>node.</span> </p><p><span m='594310'>We</span> <span m='594390'>need</span>
  <span m='594600'>to</span> <span m='594780'>be</span> <span m='594900'>able</span>
  <span m='595110'>to</span> <span m='595650'>store</span> <span m='598990'>k,</span>
  <span m='600362'>which</span> <span m='600720'>is</span> <span m='600960'>order</span>
  <span m='601620'>w</span> <span m='601940'>to</span> <span m='602090'>the</span>
  <span m='602200'>1/5.</span> <span m='603200'>Keys,</span> <span m='605390'>I'm</span>
  <span m='605520'>going</span> <span m='605730'>to</span> <span m='605820'>give</span>
  <span m='606000'>them</span> <span m='606390'>some</span> <span m='606640'>names,</span>
  <span m='607200'>x0</span> <span m='608745'>up</span> <span m='609120'>to</span>
  <span m='609390'>xk</span> <span m='610170'>minus</span> <span m='610350'>1.</span>
  <span m='611580'>Assume</span> <span m='611880'>that</span> <span m='612060'>they've</span>
  <span m='612300'>been</span> <span m='612480'>presorted.</span> <span m='613220'>We</span>
  <span m='613350'>can</span> <span m='613500'>preprocess</span> <span m='613910'>and</span>
  <span m='614320'>do</span> <span m='614460'>all</span> <span m='614520'>those</span>
  <span m='614700'>things.</span> <span m='615500'>I'm</span> <span m='615620'>going
  to</span> <span m='615740'>go</span> <span m='615960'>constant</span> <span m='616500'>time,</span>
  <span m='617400'>predecessor</span> <span m='618030'>and</span> <span m='618120'>successor,</span>
  <span m='620490'>and</span> <span m='622020'>it's</span> <span m='622170'>going</span>
  <span m='622320'>to</span> <span m='622410'>be</span> <span m='622500'>linear</span>
  <span m='622800'>space,</span> <span m='623940'>and</span> <span m='624270'>it's</span>
  <span m='624420'>going</span> <span m='624540'>to</span> <span m='624630'>require</span>
  <span m='625140'>polynomial</span> <span m='626880'>preprocessing.</span> <span
  m='630510'>And</span> <span m='630630'>this</span> <span m='630810'>is</span> <span
  m='631470'>the</span> <span m='631590'>annoying</span> <span m='631950'>part.</span>
  <span m='632190'>If</span> <span m='632280'>this</span> <span m='632470'>was</span>
  <span m='632580'>just</span> <span m='632760'>k</span> <span m='633030'>preprocessing,</span>
  <span m='633405'>it</span> <span m='633780'>would</span> <span m='633870'>be</span>
  <span m='633990'>easy</span> <span m='634210'>to</span> <span m='634320'>make</span>
  <span m='634470'>fusion</span> <span m='634740'>trees</span> <span m='634950'>dynamic.</span>
  <span m='635430'>But</span> <span m='635580'>it's</span> <span m='635700'>k to</span>
  <span m='636915'>squared,</span> <span m='637320'>or</span> <span m='637410'>k</span>
  <span m='637755'>cubed</span> <span m='638100'>or</span> <span m='638190'>something,</span>
  <span m='638610'>depending</span> <span m='639060'>on</span> <span m='639180'>how</span>
  <span m='640230'>fancy</span> <span m='640530'>you</span> <span m='640650'>are.</span>
  <span m='640950'>It's</span> <span m='641070'>not</span> <span m='641280'>known</span>
  <span m='641490'>how</span> <span m='641580'>to</span> <span m='641700'>do</span>
  <span m='641820'>it</span> <span m='641880'>in</span> <span m='641970'>linear</span>
  <span m='642210'>time.</span> </p><p><span m='645880'>So</span> <span m='646070'>that's</span>
  <span m='646340'>really</span> <span m='646610'>our</span> <span m='646730'>goal.</span>
  <span m='647000'>If</span> <span m='647120'>we</span> <span m='647240'>can</span>
  <span m='647420'>implement</span> <span m='647780'>fusion</span> <span m='648100'>tree</span>
  <span m='648260'>nodes</span> <span m='649220'>and</span> <span m='649370'>do</span>
  <span m='649970'>constant</span> <span m='650255'>time</span> <span m='650540'>predecessor</span>
  <span m='651110'>on</span> <span m='651350'>this</span> <span m='652610'>small</span>
  <span m='652910'>value</span> <span m='653220'>of</span> <span m='653300'>n</span>
  <span m='653540'>basically,</span> <span m='653930'>when</span> <span m='654080'>n</span>
  <span m='654230'>is</span> <span m='654320'>only</span> <span m='654530'>w</span>
  <span m='654800'>to</span> <span m='654960'>the</span> <span m='655070'>1/5.</span>
  <span m='656570'>If we</span> <span m='656660'>can</span> <span m='656810'>do</span>
  <span m='656930'>constant</span> <span m='657185'>time</span> <span m='657440'>for</span>
  <span m='657560'>that,</span> <span m='657860'>then</span> <span m='658250'>by</span>
  <span m='659240'>plugging</span> <span m='659600'>in</span> <span m='659720'>B-trees</span>
  <span m='660290'>we</span> <span m='660440'>get</span> <span m='660730'>the</span>
  <span m='660830'>log</span> <span m='661100'>base</span> <span m='661330'>w</span>
  <span m='661610'>of</span> <span m='661910'>n</span> <span m='662360'>for</span>
  <span m='664160'>arbitrary</span> <span m='664520'>values</span> <span m='664850'>of</span>
  <span m='664940'>n.</span> <span m='665540'>So</span> <span m='665630'>it's</span>
  <span m='665720'>really</span> <span m='665960'>all</span> <span m='666080'>about</span>
  <span m='666350'>a</span> <span m='666440'>single</span> <span m='666800'>mode</span>
  <span m='668340'>and</span> <span m='668750'>doing</span> <span m='668990'>that</span>
  <span m='669170'>fast.</span> <span m='674060'>So,</span> <span m='674320'>the</span>
  <span m='674410'>rest</span> <span m='674620'>of</span> <span m='674670'>the</span>
  <span m='674730'>lecture</span> <span m='675070'>will</span> <span m='675220'>be</span>
  <span m='675550'>about</span> <span m='675850'>that.</span> </p><p><span m='678340'>So,</span>
  <span m='678820'>I</span> <span m='679060'>want</span> <span m='679240'>to</span>
  <span m='679300'>introduce</span> <span m='679690'>this</span> <span m='679840'>idea</span>
  <span m='680110'>of</span> <span m='680170'>sketching.</span> <span m='681310'>And</span>
  <span m='682570'>to</span> <span m='682690'>do</span> <span m='682840'>that</span>
  <span m='683830'>I'm going</span> <span m='684070'>to</span> <span m='684130'>think</span>
  <span m='684340'>about</span> <span m='684730'>what</span> <span m='684970'>it</span>
  <span m='685030'>takes</span> <span m='686080'>to</span> <span m='686260'>distinguish</span>
  <span m='689740'>this</span> <span m='689860'>small</span> <span m='690310'>number</span>
  <span m='690670'>of</span> <span m='690870'>keys.</span> <span m='697570'>High</span>
  <span m='697780'>level</span> <span m='698080'>ideas,</span> <span m='698560'>well</span>
  <span m='699610'>we've</span> <span m='699790'>got</span> <span m='700180'>w</span>
  <span m='700570'>to</span> <span m='700690'>the</span> <span m='700810'>1/5</span>
  <span m='701350'>keys.</span> <span m='701770'>Each</span> <span m='701980'>of</span>
  <span m='702040'>them</span> <span m='702190'>is</span> <span m='702310'>w</span>
  <span m='702760'>bits.</span> <span m='703750'>Do</span> <span m='703860'>you</span>
  <span m='703990'>really</span> <span m='704320'>need</span> <span m='704620'>all</span>
  <span m='704950'>w</span> <span m='705310'>bits</span> <span m='705610'>for</span>
  <span m='705760'>each</span> <span m='706030'>of</span> <span m='706090'>them?</span>
  <span m='707120'>It</span> <span m='707470'>seems</span> <span m='707710'>a</span>
  <span m='707770'>little</span> <span m='707980'>excessive.</span> <span m='708430'>If</span>
  <span m='708520'>there's</span> <span m='708670'>only</span> <span m='708910'>w</span>
  <span m='709240'>to</span> <span m='709370'>the</span> <span m='709480'>1/5,</span>
  <span m='710590'>you</span> <span m='710710'>should</span> <span m='710890'>only</span>
  <span m='711070'>need</span> <span m='711280'>about</span> <span m='711580'>w</span>
  <span m='711880'>to</span> <span m='712000'>the</span> <span m='712120'>1/5</span>
  <span m='712540'>bits</span> <span m='712930'>of</span> <span m='713050'>each</span>
  <span m='713320'>to</span> <span m='713470'>distinguish</span> <span m='713980'>them</span>
  <span m='714130'>all.</span> <span m='715180'>So</span> <span m='715330'>that's</span>
  <span m='715570'>the</span> <span m='715660'>intuition.</span> </p><p><span m='716740'>And</span>
  <span m='716950'>indeed,</span> <span m='717700'>you</span> <span m='717910'>can</span>
  <span m='718900'>formalize</span> <span m='719440'>that</span> <span m='719590'>intuition</span>
  <span m='720160'>by</span> <span m='720370'>viewing</span> <span m='720880'>each</span>
  <span m='721120'>of</span> <span m='721180'>the</span> <span m='721300'>keys</span>
  <span m='722260'>as</span> <span m='722470'>a</span> <span m='722590'>path</span>
  <span m='723670'>in</span> <span m='723820'>a</span> <span m='723880'>binary</span>
  <span m='724330'>tree.</span> <span m='729770'>So</span> <span m='729850'>this</span>
  <span m='730090'>represents</span> <span m='730750'>the</span> <span m='730870'>bit</span>
  <span m='731050'>string</span> <span m='731950'>01011101.</span> <span m='737160'>0</span>
  <span m='737470'>means</span> <span m='737710'>left.</span> <span m='738640'>1</span>
  <span m='738850'>means</span> <span m='739090'>right.</span> <span m='740710'>This</span>
  <span m='740890'>is</span> <span m='740950'>a</span> <span m='741040'>transformation</span>
  <span m='741370'>we'll</span> <span m='741700'>use</span> <span m='741910'>a</span>
  <span m='741970'>lot.</span> <span m='742510'>So</span> <span m='742660'>maybe</span>
  <span m='742870'>that's</span> <span m='743140'>in</span> <span m='743260'>your</span>
  <span m='743410'>set.</span> <span m='744220'>Maybe</span> <span m='745060'>this</span>
  <span m='745330'>other</span> <span m='747990'>bit</span> <span m='748270'>string</span>
  <span m='748780'>is</span> <span m='749050'>in</span> <span m='749200'>your</span>
  <span m='749350'>set.</span> <span m='750260'>Maybe</span> <span m='752850'>this</span>
  <span m='753060'>bit</span> <span m='753280'>string--</span> <span m='754760'>oh,</span>
  <span m='754960'>I've</span> <span m='755080'>got</span> <span m='755230'>to</span>
  <span m='755320'>make</span> <span m='755470'>these</span> <span m='755650'>the</span>
  <span m='755740'>same</span> <span m='755980'>height</span> <span m='756310'>which
  is</span> <span m='756565'>a little</span> <span m='756820'>challenging.</span>
  <span m='763780'>So</span> <span m='763930'>maybe</span> <span m='764170'>those</span>
  <span m='764410'>are</span> <span m='764500'>the</span> <span m='764620'>three.</span>
  <span m='765250'>Suppose</span> <span m='765550'>you</span> <span m='765640'>just</span>
  <span m='765820'>have</span> <span m='765970'>these</span> <span m='766300'>three</span>
  <span m='767180'>bit</span> <span m='767380'>strings,</span> <span m='767890'>w</span>
  <span m='768190'>bit</span> <span m='768400'>strings</span> <span m='768760'>in</span>
  <span m='768850'>your</span> <span m='769000'>set.</span> <span m='769300'>So</span>
  <span m='769480'>this</span> <span m='769660'>is</span> <span m='769780'>a</span>
  <span m='769840'>tree</span> <span m='770760'>of</span> <span m='771260'>height</span>
  <span m='771630'>w.</span> <span m='772900'>Because</span> <span m='773110'>each</span>
  <span m='773830'>of</span> <span m='774070'>the</span> <span m='774220'>keys</span>
  <span m='774550'>has</span> <span m='774820'>w</span> <span m='775150'>bits,</span>
  <span m='776280'>so maybe</span> <span m='776560'>k is</span> <span m='776880'>3.</span>
  <span m='778250'>And those</span> <span m='778330'>are</span> <span m='778400'>your</span>
  <span m='778510'>three</span> <span m='778720'>keys.</span> </p><p><span m='780120'>OK.</span>
  <span m='780280'>The</span> <span m='780400'>idea</span> <span m='780730'>is,</span>
  <span m='781630'>look</span> <span m='781840'>at</span> <span m='781900'>the</span>
  <span m='782020'>branching</span> <span m='782470'>nodes.</span> <span m='783730'>Where's</span>
  <span m='784120'>a</span> <span m='784180'>color?</span> <span m='786960'>So,</span>
  <span m='787140'>you've</span> <span m='787270'>got</span> <span m='787450'>a</span>
  <span m='787510'>branching</span> <span m='787910'>node</span> <span m='788110'>here</span>
  <span m='789400'>and</span> <span m='789700'>a</span> <span m='789790'>branching</span>
  <span m='790210'>node</span> <span m='790420'>here.</span> <span m='791860'>Because</span>
  <span m='792090'>there's</span> <span m='792850'>three</span> <span m='793660'>leaves,</span>
  <span m='794050'>there's</span> <span m='794170'>only</span> <span m='794350'>going</span>
  <span m='794500'>to</span> <span m='794560'>be</span> <span m='794650'>two</span>
  <span m='794860'>branching</span> <span m='795280'>nodes.</span> <span m='796730'>So</span>
  <span m='796810'>the</span> <span m='796930'>idea</span> <span m='797140'>is,</span>
  <span m='797390'>well</span> <span m='797590'>I</span> <span m='797770'>really</span>
  <span m='798220'>only</span> <span m='798490'>care</span> <span m='798790'>about</span>
  <span m='800410'>these</span> <span m='800680'>two</span> <span m='800890'>bits.</span>
  <span m='801280'>Or</span> <span m='801420'>it</span> <span m='801520'>would</span>
  <span m='801610'>be</span> <span m='801730'>enough</span> <span m='802150'>to</span>
  <span m='802270'>think</span> <span m='802480'>about</span> <span m='802810'>these</span>
  <span m='803020'>two</span> <span m='803200'>bits.</span> </p><p><span m='806170'>OK.</span>
  <span m='806560'>Well,</span> <span m='806870'>we'll</span> <span m='806980'>look</span>
  <span m='807190'>at</span> <span m='807280'>this</span> <span m='807430'>more</span>
  <span m='808330'>formally</span> <span m='808690'>in</span> <span m='808780'>a</span>
  <span m='808840'>moment.</span> <span m='809200'>But</span> <span m='809650'>by</span>
  <span m='810250'>storing</span> <span m='810640'>this</span> <span m='810850'>bit,</span>
  <span m='811420'>I</span> <span m='811570'>know</span> <span m='811810'>whether</span>
  <span m='812350'>the</span> <span m='812560'>key</span> <span m='812800'>is</span>
  <span m='813130'>over</span> <span m='813400'>here</span> <span m='813520'>on</span>
  <span m='813610'>the</span> <span m='813700'>left</span> <span m='814350'>or</span>
  <span m='814620'>over here on</span> <span m='814870'>the</span> <span m='814960'>right.</span>
  <span m='815500'>And</span> <span m='815590'>then</span> <span m='815710'>by</span>
  <span m='815800'>storing</span> <span m='816100'>this</span> <span m='816220'>bit,</span>
  <span m='816400'>I</span> <span m='816460'>don't</span> <span m='816610'>really</span>
  <span m='816790'>care</span> <span m='817060'>about</span> <span m='817330'>it</span>
  <span m='817420'>for</span> <span m='817600'>this</span> <span m='817810'>word.</span>
  <span m='818440'>But</span> <span m='818680'>it</span> <span m='818830'>will</span>
  <span m='818950'>distinguish</span> <span m='819550'>these</span> <span m='819790'>two</span>
  <span m='820000'>words.</span> <span m='820930'>So</span> <span m='821050'>if</span>
  <span m='821140'>you</span> <span m='821230'>just</span> <span m='821530'>look</span>
  <span m='821830'>at</span> <span m='822490'>the</span> <span m='822610'>bits</span>
  <span m='822940'>that</span> <span m='823060'>contain</span> <span m='823600'>branching</span>
  <span m='824050'>nodes</span> <span m='824380'>in</span> <span m='824500'>this</span>
  <span m='825880'>tri-view,</span> <span m='827500'>then</span> <span m='829270'>it's</span>
  <span m='829540'>enough</span> <span m='829960'>to</span> <span m='830380'>distinguish</span>
  <span m='831100'>all</span> <span m='831370'>of</span> <span m='831550'>the</span>
  <span m='831880'>xi's.</span> <span m='833080'>So</span> <span m='833200'>this</span>
  <span m='833410'>is</span> <span m='833950'>x0,</span> <span m='835810'>x1,</span>
  <span m='837460'>x2.</span> </p><p><span m='840550'>OK.</span> <span m='841220'>Let</span>
  <span m='841340'>me</span> <span m='841610'>formalize</span> <span m='842120'>that</span>
  <span m='842300'>a</span> <span m='842330'>little</span> <span m='842540'>bit.</span>
  <span m='844430'>So</span> <span m='844970'>we</span> <span m='845150'>have</span>
  <span m='846750'>k</span> <span m='847220'>minus</span> <span m='847640'>1</span>
  <span m='848750'>branching</span> <span m='849260'>nodes</span> <span m='853950'>in</span>
  <span m='854540'>this</span> <span m='855590'>height</span> <span m='855890'>w</span>
  <span m='856280'>tree</span> <span m='862310'>of</span> <span m='862760'>the</span>
  <span m='863360'>k</span> <span m='864990'>keys.</span> <span m='867500'>Because</span>
  <span m='867710'>there's</span> <span m='867830'>k</span> <span m='868040'>leaves,</span>
  <span m='868400'>there's</span> <span m='868510'>going</span> <span m='868600'>to</span>
  <span m='868730'>be</span> <span m='868820'>k</span> <span m='869000'>minus</span>
  <span m='869270'>1</span> <span m='869420'>branching</span> <span m='869780'>nodes,</span>
  <span m='871240'>because</span> <span m='871490'>the</span> <span m='871610'>k</span>
  <span m='872210'>leaves</span> <span m='872480'>are</span> <span m='872600'>distinct.</span>
  <span m='874310'>So</span> <span m='874460'>this</span> <span m='874670'>means</span>
  <span m='874910'>there are</span> <span m='875090'>at</span> <span m='875150'>most,</span>
  <span m='875760'>k</span> <span m='875960'>minus</span> <span m='876350'>1</span>
  <span m='876590'>levels</span> <span m='880070'>containing</span> <span m='881890'>a</span>
  <span m='881930'>branching</span> <span m='882350'>node.</span> <span m='882590'>It
  might</span> <span m='882770'>be</span> <span m='882890'>fewer.</span> </p><p><span
  m='893410'>Maybe</span> <span m='893830'>it's</span> <span m='894010'>nice</span>
  <span m='894250'>to</span> <span m='894670'>add</span> <span m='894920'>in</span>
  <span m='895030'>another</span> <span m='895360'>key</span> <span m='895690'>over</span>
  <span m='895900'>here</span> <span m='896080'>on</span> <span m='896170'>the</span>
  <span m='896230'>left.</span> <span m='897030'>I mean</span> <span m='897120'>if</span>
  <span m='897280'>I</span> <span m='897310'>was</span> <span m='897430'>lucky,</span>
  <span m='898240'>there'd</span> <span m='898360'>be</span> <span m='898480'>another</span>
  <span m='898930'>key</span> <span m='899260'>over</span> <span m='899500'>here,</span>
  <span m='899800'>and</span> <span m='899890'>then</span> <span m='900010'>I'd</span>
  <span m='900120'>be</span> <span m='900280'>using</span> <span m='900550'>this</span>
  <span m='900730'>bit</span> <span m='901000'>and</span> <span m='901120'>getting</span>
  <span m='901540'>two</span> <span m='901720'>for</span> <span m='901810'>the</span>
  <span m='901930'>price</span> <span m='902200'>of</span> <span m='902290'>one.</span>
  <span m='903100'>If</span> <span m='903220'>I'm</span> <span m='903340'>less</span>
  <span m='903550'>lucky,</span> <span m='904360'>it</span> <span m='904450'>will</span>
  <span m='904540'>be</span> <span m='904720'>more</span> <span m='904960'>like</span>
  <span m='905200'>this.</span> <span m='906731'>So</span> <span m='907130'>here's</span>
  <span m='907530'>another</span> <span m='908700'>x</span> <span m='909370'>value.</span>
  <span m='911230'>And</span> <span m='911380'>in</span> <span m='911470'>this</span>
  <span m='911620'>case,</span> <span m='912320'>I</span> <span m='912490'>care</span>
  <span m='912730'>about</span> <span m='912970'>this</span> <span m='913150'>branching</span>
  <span m='913600'>node.</span> <span m='913720'>So</span> <span m='913840'>I</span>
  <span m='913900'>care</span> <span m='914110'>about</span> <span m='914350'>another</span>
  <span m='914650'>bit</span> <span m='915460'>here.</span> </p><p><span m='917670'>OK.</span>
  <span m='917880'>But</span> <span m='918010'>if</span> <span m='918130'>I</span>
  <span m='918220'>have</span> <span m='918430'>four</span> <span m='918700'>keys,</span>
  <span m='919150'>it</span> <span m='919230'>will</span> <span m='919290'>be</span>
  <span m='919390'>at</span> <span m='919450'>most</span> <span m='919690'>three</span>
  <span m='919960'>bits</span> <span m='922390'>corresponding</span> <span m='922990'>to</span>
  <span m='923080'>these</span> <span m='923290'>levels.</span> <span m='924680'>So</span>
  <span m='925130'>call</span> <span m='925360'>these--</span> <span m='925765'>these</span>
  <span m='926170'>levels</span> <span m='926530'>correspond</span> <span m='926980'>to</span>
  <span m='927070'>bits.</span> <span m='927640'>This</span> <span m='927760'>is</span>
  <span m='927820'>the</span> <span m='927940'>first</span> <span m='928180'>bit,</span>
  <span m='928390'>second</span> <span m='928720'>bit,</span> <span m='928960'>third</span>
  <span m='929170'>bit,</span> <span m='929620'>and so</span> <span m='929740'>on.</span>
  <span m='930880'>This</span> <span m='931060'>is</span> <span m='931150'>the</span>
  <span m='931210'>most</span> <span m='931420'>significant</span> <span m='931900'>bit,</span>
  <span m='932670'>next,</span> <span m='933180'>and</span> <span m='933500'>then</span>
  <span m='933640'>the</span> <span m='933730'>least</span> <span m='933910'>significant</span>
  <span m='934390'>is</span> <span m='934510'>at</span> <span m='934630'>the</span>
  <span m='934720'>bottom.</span> <span m='937310'>So</span> <span m='939535'>these</span>
  <span m='939940'>levels</span> <span m='941650'>correspond</span> <span m='942370'>to</span>
  <span m='943570'>important</span> <span m='944320'>bits.</span> <span m='946720'>That's</span>
  <span m='946930'>the</span> <span m='946990'>definition.</span> <span m='950470'>And</span>
  <span m='950680'>we're</span> <span m='950770'>going</span> <span m='950890'>to</span>
  <span m='950950'>give</span> <span m='951100'>these</span> <span m='951250'>bits</span>
  <span m='951480'>a</span> <span m='951520'>name,</span> <span m='952330'>b0,</span>
  <span m='953715'>b1,</span> <span m='955500'>up to</span> <span m='955810'>br</span>
  <span m='956710'>minus</span> <span m='957130'>1.</span> <span m='957700'>Those
  are</span> <span m='957790'>bit</span> <span m='958060'>indices</span> <span m='959560'>saying</span>
  <span m='959920'>which</span> <span m='960190'>bits</span> <span m='960460'>we</span>
  <span m='960550'>care</span> <span m='960760'>about.</span> </p><p><span m='962320'>And</span>
  <span m='963220'>we</span> <span m='963340'>know</span> <span m='963520'>that</span>
  <span m='963670'>r</span> <span m='964030'>is</span> <span m='964240'>less</span>
  <span m='964510'>than</span> <span m='964690'>k,</span> <span m='965680'>and</span>
  <span m='965800'>k</span> <span m='966250'>is</span> <span m='966500'>order</span>
  <span m='966880'>w</span> <span m='967360'>to</span> <span m='967520'>the</span>
  <span m='967630'>1/5.</span> <span m='969040'>So</span> <span m='969280'>there</span>
  <span m='969450'>are</span> <span m='969520'>only</span> <span m='969790'>w</span>
  <span m='970080'>to</span> <span m='970260'>the</span> <span m='970360'>1/5</span>
  <span m='970840'>important</span> <span m='971260'>bits</span> <span m='973560'>overall</span>
  <span m='974870'>among</span> <span m='975220'>these</span> <span m='975430'>k</span>
  <span m='975745'>keys.</span> <span m='977050'>So</span> <span m='977200'>the</span>
  <span m='977350'>idea</span> <span m='977650'>is</span> <span m='977980'>don't</span>
  <span m='978250'>store</span> <span m='978670'>all</span> <span m='978790'>w</span>
  <span m='979150'>bits</span> <span m='979420'>for</span> <span m='979600'>all</span>
  <span m='979720'>the</span> <span m='979810'>keys.</span> <span m='980170'>I</span>
  <span m='980260'>mean</span> <span m='980410'>you</span> <span m='980500'>have</span>
  <span m='980590'>to</span> <span m='980680'>store</span> <span m='980920'>them.</span>
  <span m='981590'>But</span> <span m='981640'>don't</span> <span m='981790'>look</span>
  <span m='982000'>at</span> <span m='982150'>them.</span> <span m='982780'>Just</span>
  <span m='983080'>look</span> <span m='983350'>at</span> <span m='983680'>these</span>
  <span m='983920'>important</span> <span m='984340'>bits</span> <span m='985360'>for</span>
  <span m='985750'>the</span> <span m='985870'>keys.</span> <span m='986680'>And</span>
  <span m='986830'>then</span> <span m='987610'>life</span> <span m='987850'>is</span>
  <span m='987970'>good.</span> <span m='988180'>Because</span> <span m='988480'>there's</span>
  <span m='988630'>only</span> <span m='988840'>w</span> <span m='989120'>to</span>
  <span m='989300'>the</span> <span m='989410'>1/5</span> <span m='990490'>bits</span>
  <span m='990850'>per</span> <span m='991240'>key.</span> <span m='991720'>There's</span>
  <span m='991870'>only</span> <span m='992080'>w to</span> <span m='992490'>the</span>
  <span m='992560'>1/5</span> <span m='993070'>keys.</span> <span m='994250'>And</span>
  <span m='994420'>so</span> <span m='994660'>the</span> <span m='994810'>total</span>
  <span m='995200'>number</span> <span m='995560'>of</span> <span m='995680'>important</span>
  <span m='996070'>bits</span> <span m='1001500'>among</span> <span m='1001860'>all</span>
  <span m='1002100'>k</span> <span m='1002560'>keys</span> <span m='1005280'>is</span>
  <span m='1005520'>small.</span> <span m='1006310'>It's</span> <span m='1006450'>only</span>
  <span m='1007320'>w</span> <span m='1007830'>to</span> <span m='1007950'>the</span>
  <span m='1008100'>2/5,</span> <span m='1008860'>which</span> <span m='1008940'>is</span>
  <span m='1009030'>less</span> <span m='1009270'>than</span> <span m='1009430'>w.</span>
  <span m='1009810'>So</span> <span m='1009970'>it</span> <span m='1010020'>fits</span>
  <span m='1010290'>in</span> <span m='1010380'>a</span> <span m='1010440'>single</span>
  <span m='1010830'>word,</span> <span m='1011130'>and</span> <span m='1011220'>we</span>
  <span m='1011340'>can</span> <span m='1011520'>look</span> <span m='1011670'>at</span>
  <span m='1011760'>this</span> <span m='1012000'>in</span> <span m='1012120'>constant</span>
  <span m='1012540'>time.</span> </p><p><span m='1015490'>So</span> <span m='1015690'>that</span>
  <span m='1015900'>seems</span> <span m='1016350'>like</span> <span m='1016590'>a</span>
  <span m='1016620'>good</span> <span m='1016770'>thing.</span> <span m='1020170'>Let</span>
  <span m='1020190'>me</span> <span m='1020340'>tell</span> <span m='1020520'>you</span>
  <span m='1020670'>what</span> <span m='1020850'>properties</span> <span m='1022440'>this</span>
  <span m='1022650'>has.</span> <span m='1025050'>Let</span> <span m='1025140'>me</span>
  <span m='1025260'>also</span> <span m='1025530'>define</span> <span m='1026790'>the</span>
  <span m='1026940'>notion</span> <span m='1027390'>of</span> <span m='1027690'>a</span>
  <span m='1027869'>perfect</span> <span m='1028319'>sketch</span> <span m='1033060'>of</span>
  <span m='1033410'>a</span> <span m='1034200'>word.</span> <span m='1034910'>x</span>
  <span m='1036430'>is</span> <span m='1036569'>going</span> <span m='1036839'>to</span>
  <span m='1036990'>be</span> <span m='1038280'>what</span> <span m='1038460'>you</span>
  <span m='1038609'>get</span> <span m='1040980'>when</span> <span m='1041160'>you</span>
  <span m='1041280'>extract</span> <span m='1042750'>bits</span> <span m='1043380'>b0</span>
  <span m='1044940'>to</span> <span m='1045150'>br</span> <span m='1045720'>minus</span>
  <span m='1046079'>1</span> <span m='1047910'>from</span> <span m='1048180'>x.</span>
  <span m='1050130'>So</span> <span m='1050310'>in</span> <span m='1050400'>other</span>
  <span m='1050580'>words,</span> <span m='1051430'>this</span> <span m='1051570'>is</span>
  <span m='1051720'>a</span> <span m='1053070'>bit</span> <span m='1053310'>string,</span>
  <span m='1054800'>an</span> <span m='1054960'>r-bit</span> <span m='1055410'>string</span>
  <span m='1058920'>who's</span> <span m='1060760'>i-th</span> <span m='1061020'>bit</span>
  <span m='1063810'>equals</span> <span m='1064540'>bit</span> <span m='1065680'>bi</span>
  <span m='1067012'>of</span> <span m='1067478'>x.</span> <span m='1069810'>So</span>
  <span m='1070020'>you've</span> <span m='1070200'>got</span> <span m='1070925'>a</span>
  <span m='1071290'>bit</span> <span m='1071460'>string</span> <span m='1071760'>which</span>
  <span m='1071910'>is</span> <span m='1072060'>x.</span> <span m='1072570'>You</span>
  <span m='1072690'>say,</span> <span m='1073020'>oh,</span> <span m='1073200'>the</span>
  <span m='1073290'>important</span> <span m='1073710'>ones</span> <span m='1073980'>are</span>
  <span m='1074100'>this</span> <span m='1074370'>one,</span> <span m='1074860'>this</span>
  <span m='1075030'>one,</span> <span m='1075910'>this</span> <span m='1075990'>one,</span>
  <span m='1076270'>and</span> <span m='1076320'>this</span> <span m='1076590'>one.</span>
  <span m='1077390'>Inside</span> <span m='1077740'>here</span> <span m='1077940'>is</span>
  <span m='1078060'>either</span> <span m='1078330'>a 0</span> <span m='1078720'>or
  a</span> <span m='1078960'>1.</span> <span m='1080730'>And there's</span> <span
  m='1080850'>other</span> <span m='1081090'>bits</span> <span m='1081425'>which</span>
  <span m='1081760'>we</span> <span m='1081860'>don't</span> <span m='1081960'>care</span>
  <span m='1082140'>about,</span> <span m='1083040'>because</span> <span m='1083190'>they're</span>
  <span m='1083280'>not</span> <span m='1083460'>important.</span> <span m='1086630'>And</span>
  <span m='1086790'>we</span> <span m='1086940'>just</span> <span m='1087120'>compress</span>
  <span m='1087690'>this</span> <span m='1088380'>to</span> <span m='1088680'>a</span>
  <span m='1089800'>4-bit</span> <span m='1090360'>string.</span> <span m='1094180'>0110.</span>
  <span m='1096590'>OK.</span> <span m='1096780'>This</span> <span m='1097020'>is</span>
  <span m='1097180'>sketch</span> <span m='1097650'>of</span> <span m='1097970'>x.</span>
  </p><p><span m='1101790'>And</span> <span m='1102120'>to</span> <span m='1102300'>be</span>
  <span m='1102660'>a</span> <span m='1102690'>little</span> <span m='1102960'>bit</span>
  <span m='1103110'>more</span> <span m='1103290'>explicit</span> <span m='1103830'>about</span>
  <span m='1104040'>how</span> <span m='1104150'>I'm</span> <span m='1104250'>labeling</span>
  <span m='1104610'>things,</span> <span m='1104880'>this</span> <span m='1105110'>is</span>
  <span m='1105320'>b0.</span> <span m='1106920'>This</span> <span m='1107070'>is</span>
  <span m='1107190'>b1,</span> <span m='1108320'>b2,</span> <span m='1110040'>and</span>
  <span m='1110450'>b3.</span> <span m='1114240'>Because</span> <span m='1114510'>you</span>
  <span m='1114660'>number</span> <span m='1115020'>bits--</span> <span m='1116100'>I</span>
  <span m='1116190'>think</span> <span m='1116580'>this</span> <span m='1116760'>is</span>
  <span m='1116880'>right,</span> <span m='1117160'>we'll</span> <span m='1117250'>see</span>
  <span m='1117950'>later--</span> <span m='1119160'>we're</span> <span m='1119590'>going</span>
  <span m='1119730'>to</span> <span m='1119790'>number</span> <span m='1120060'>bits</span>
  <span m='1120240'>from</span> <span m='1120420'>the</span> <span m='1120510'>right-hand</span>
  <span m='1120840'>side.</span> <span m='1121020'>This</span> <span m='1121230'>is</span>
  <span m='1121330'>0-th</span> <span m='1121710'>bit,</span> <span m='1122820'>first</span>
  <span m='1123110'>bit,</span> <span m='1123450'>second,</span> <span m='1124060'>third,</span>
  <span m='1124360'>fourth;</span> <span m='1125090'>which</span> <span m='1125450'>is</span>
  <span m='1125640'>the</span> <span m='1125760'>opposite</span> <span m='1126210'>of</span>
  <span m='1126330'>this</span> <span m='1126480'>picture,</span> <span m='1126810'>unfortunately,</span>
  <span m='1127410'>sorry.</span> <span m='1128450'>This</span> <span m='1128640'>is</span>
  <span m='1128700'>a</span> <span m='1128740'>bit</span> <span m='1128970'>0,</span>
  <span m='1129570'>bit</span> <span m='1129770'>1,</span> <span m='1130140'>anyway.</span>
  <span m='1131670'>This</span> <span m='1131830'>will</span> <span m='1131940'>be</span>
  <span m='1132060'>convenient.</span> </p><p><span m='1140490'>So,</span> <span m='1140730'>that's</span>
  <span m='1140940'>perfect</span> <span m='1141300'>sketch.</span> <span m='1143490'>For</span>
  <span m='1143820'>now,</span> <span m='1144090'>I'm</span> <span m='1144180'>going</span>
  <span m='1144330'>to</span> <span m='1144390'>assume</span> <span m='1144690'>that</span>
  <span m='1144810'>we</span> <span m='1144930'>can</span> <span m='1145080'>compute</span>
  <span m='1145380'>this</span> <span m='1145590'>in</span> <span m='1145680'>constant</span>
  <span m='1146070'>time.</span> <span m='1147150'>This</span> <span m='1147810'>one</span>
  <span m='1148110'>answer</span> <span m='1148500'>is</span> <span m='1149230'>it's</span>
  <span m='1149430'>an</span> <span m='1149520'>AC0</span> <span m='1150060'>operation.</span>
  <span m='1152715'>That's</span> <span m='1153000'>not</span> <span m='1153150'>so</span>
  <span m='1153330'>obvious,</span> <span m='1153850'>but</span> <span m='1153900'>it's</span>
  <span m='1154050'>true.</span> <span m='1155200'>So</span> <span m='1155310'>on</span>
  <span m='1155400'>an</span> <span m='1155490'>AC0</span> <span m='1155970'>RAM,</span>
  <span m='1156360'>you</span> <span m='1156450'>can</span> <span m='1156570'>just</span>
  <span m='1156690'>say,</span> <span m='1156930'>oh,</span> <span m='1157080'>this</span>
  <span m='1157290'>is</span> <span m='1157380'>an</span> <span m='1157500'>operation.</span>
  <span m='1158190'>Right?</span> <span m='1158360'>It's</span> <span m='1158550'>given</span>
  <span m='1158820'>one</span> <span m='1159030'>word.</span> <span m='1160030'>And,</span>
  <span m='1161100'>well OK.</span> <span m='1161440'>It's</span> <span m='1161670'>given</span>
  <span m='1162140'>these</span> <span m='1162570'>description</span> <span m='1163050'>of</span>
  <span m='1163110'>bit</span> <span m='1163320'>numbers,</span> <span m='1163810'>but</span>
  <span m='1163830'>those</span> <span m='1164040'>will</span> <span m='1164130'>also</span>
  <span m='1164400'>fit</span> <span m='1164580'>in</span> <span m='1164670'>one</span>
  <span m='1164880'>word.</span> <span m='1165700'>And</span> <span m='1165720'>then</span>
  <span m='1167130'>does</span> <span m='1167310'>this</span> <span m='1167460'>bit</span>
  <span m='1167640'>extraction.</span> <span m='1169530'>We're</span> <span m='1169680'>going</span>
  <span m='1169760'>to</span> <span m='1169860'>see</span> <span m='1170070'>a</span>
  <span m='1170130'>reasonable</span> <span m='1170520'>way</span> <span m='1170640'>to</span>
  <span m='1170760'>do</span> <span m='1170910'>it.</span> <span m='1171130'>But</span>
  <span m='1171150'>for</span> <span m='1171300'>now,</span> <span m='1171600'>take</span>
  <span m='1171810'>that</span> <span m='1171960'>as</span> <span m='1172050'>an</span>
  <span m='1172140'>unreasonable</span> <span m='1172650'>way</span> <span m='1172830'>to</span>
  <span m='1172950'>do</span> <span m='1173100'>this.</span> </p><p><span m='1176010'>So</span>
  <span m='1178730'>perfect</span> <span m='1179120'>sketch</span> <span m='1179410'>is</span>
  <span m='1179600'>good,</span> <span m='1180260'>because</span> <span m='1184100'>it</span>
  <span m='1184250'>implies</span> <span m='1187365'>the</span> <span m='1187790'>following</span>
  <span m='1188330'>nice</span> <span m='1188570'>property.</span> <span m='1189470'>If</span>
  <span m='1189830'>you</span> <span m='1189920'>look</span> <span m='1190100'>at</span>
  <span m='1190190'>the</span> <span m='1190310'>sketch</span> <span m='1190670'>of</span>
  <span m='1190790'>x0</span> <span m='1192170'>that's</span> <span m='1192380'>going</span>
  <span m='1192500'>to</span> <span m='1192620'>be</span> <span m='1192740'>less</span>
  <span m='1193040'>than</span> <span m='1193400'>the</span> <span m='1193490'>sketch</span>
  <span m='1194510'>of</span> <span m='1194660'>x1,</span> <span m='1197570'>and</span>
  <span m='1197720'>so</span> <span m='1197990'>on,</span> <span m='1198320'>which</span>
  <span m='1198640'>is</span> <span m='1198980'>going</span> <span m='1199100'>to</span>
  <span m='1199190'>be</span> <span m='1199310'>less</span> <span m='1199610'>than</span>
  <span m='1199970'>the</span> <span m='1200210'>sketch</span> <span m='1201590'>of</span>
  <span m='1203230'>xk</span> <span m='1205150'>minus</span> <span m='1205510'>1.</span>
  <span m='1207438'>Sketch</span> <span m='1207920'>preserves</span> <span m='1208490'>order.</span>
  <span m='1209480'>We</span> <span m='1209570'>assume</span> <span m='1210050'>that--</span>
  <span m='1211370'>where</span> <span m='1211580'>do</span> <span m='1211700'>we</span>
  <span m='1211790'>have</span> <span m='1212000'>it?</span> <span m='1212630'>Over</span>
  <span m='1212840'>here,</span> <span m='1213240'>x0</span> <span m='1214320'>is</span>
  <span m='1214460'>less</span> <span m='1214600'>than</span> <span m='1214730'>x1,</span>
  <span m='1215210'>is</span> <span m='1215750'>less</span> <span m='1216020'>than</span>
  <span m='1216200'>xk</span> <span m='1216620'>minus</span> <span m='1216920'>1.</span>
  <span m='1218150'>And</span> <span m='1218900'>because</span> <span m='1219380'>we're</span>
  <span m='1220580'>keeping</span> <span m='1221090'>all</span> <span m='1221300'>the</span>
  <span m='1221420'>bits</span> <span m='1222260'>where</span> <span m='1222480'>are</span>
  <span m='1222530'>these</span> <span m='1222890'>xi's</span> <span m='1223340'>get</span>
  <span m='1223520'>distinguished,</span> <span m='1224660'>this</span> <span m='1224870'>one</span>
  <span m='1225020'>it</span> <span m='1225110'>doesn't</span> <span m='1225320'>matter</span>
  <span m='1225620'>whether</span> <span m='1225860'>we</span> <span m='1225980'>kept</span>
  <span m='1226760'>here,</span> <span m='1226970'>it</span> <span m='1227030'>doesn't</span>
  <span m='1227180'>matter</span> <span m='1227420'>whether</span> <span m='1227600'>we</span>
  <span m='1227690'>kept</span> <span m='1227900'>these</span> <span m='1228050'>guys.</span>
  <span m='1228290'>But</span> <span m='1228530'>in</span> <span m='1228650'>particular,</span>
  <span m='1229190'>we</span> <span m='1229310'>keep</span> <span m='1229520'>the</span>
  <span m='1229640'>bits</span> <span m='1229880'>that</span> <span m='1230000'>have</span>
  <span m='1230180'>all</span> <span m='1230270'>the</span> <span m='1230360'>branching</span>
  <span m='1230750'>nodes.</span> <span m='1231560'>That</span> <span m='1231710'>will</span>
  <span m='1231860'>preserve</span> <span m='1232250'>the</span> <span m='1232370'>order</span>
  <span m='1232640'>of</span> <span m='1232710'>the</span> <span m='1232840'>xi's.</span>
  </p><p><span m='1234170'>So</span> <span m='1234350'>we</span> <span m='1234440'>know</span>
  <span m='1234650'>that</span> <span m='1234860'>the</span> <span m='1234980'>order</span>
  <span m='1235580'>of</span> <span m='1235700'>the</span> <span m='1235820'>xi's</span>
  <span m='1236170'>is</span> <span m='1236270'>preserved</span> <span m='1236690'>under</span>
  <span m='1236870'>sketching.</span> <span m='1237890'>The</span> <span m='1238010'>trouble</span>
  <span m='1238490'>is</span> <span m='1238640'>the</span> <span m='1238730'>following.</span>
  <span m='1240700'>Suppose</span> <span m='1241640'>you</span> <span m='1241820'>want</span>
  <span m='1242060'>to</span> <span m='1242180'>do</span> <span m='1243350'>a</span>
  <span m='1243410'>search,</span> <span m='1245220'>a</span> <span m='1245390'>predecessor</span>
  <span m='1246020'>search.</span> <span m='1247240'>So,</span> <span m='1247420'>you're</span>
  <span m='1247580'>given</span> <span m='1248840'>some</span> <span m='1249140'>query</span>
  <span m='1249760'>q,</span> <span m='1252380'>and</span> <span m='1252530'>you</span>
  <span m='1252680'>want</span> <span m='1252830'>to</span> <span m='1252890'>know</span>
  <span m='1253100'>where</span> <span m='1253370'>does</span> <span m='1253550'>q</span>
  <span m='1253820'>fit</span> <span m='1254180'>among</span> <span m='1254510'>the</span>
  <span m='1254660'>xi's.</span> <span m='1255380'>Because</span> <span m='1255560'>that</span>
  <span m='1255710'>will</span> <span m='1255830'>tell</span> <span m='1256100'>you</span>
  <span m='1256790'>which</span> <span m='1257150'>child</span> <span m='1257630'>to</span>
  <span m='1257750'>visit</span> <span m='1258080'>from</span> <span m='1258320'>here.</span>
  <span m='1259880'>So,</span> <span m='1260180'>OK.</span> <span m='1260510'>You</span>
  <span m='1260660'>compute</span> <span m='1262160'>a</span> <span m='1262310'>sketch</span>
  <span m='1262670'>of</span> <span m='1262830'>q,</span> <span m='1265750'>seems</span>
  <span m='1266130'>reasonable,</span> <span m='1266540'>and</span> <span m='1266610'>move</span>
  <span m='1266900'>into</span> <span m='1267210'>sketch</span> <span m='1267590'>world.</span>
  </p><p><span m='1268910'>And</span> <span m='1269510'>now</span> <span m='1269930'>you</span>
  <span m='1270140'>try</span> <span m='1270410'>to</span> <span m='1270500'>find</span>
  <span m='1270770'>where</span> <span m='1270890'>sketch</span> <span m='1271190'>of</span>
  <span m='1271280'>q</span> <span m='1272030'>fits</span> <span m='1272300'>among</span>
  <span m='1272600'>these</span> <span m='1272810'>guys.</span> <span m='1273770'>So</span>
  <span m='1273890'>you</span> <span m='1274010'>can</span> <span m='1274160'>do</span>
  <span m='1274280'>that.</span> <span m='1274520'>And I</span> <span m='1274630'>claim</span>
  <span m='1274880'>you</span> <span m='1274970'>can</span> <span m='1275060'>do</span>
  <span m='1275150'>that</span> <span m='1275310'>in</span> <span m='1275810'>constant</span>
  <span m='1276170'>time.</span> <span m='1276490'>It's again,</span> <span m='1276700'>an</span>
  <span m='1276840'>AC0</span> <span m='1277280'>operation.</span> <span m='1278690'>But</span>
  <span m='1278870'>the</span> <span m='1278960'>nice</span> <span m='1279140'>thing</span>
  <span m='1279320'>is</span> <span m='1279470'>the</span> <span m='1279620'>sketches</span>
  <span m='1280070'>all</span> <span m='1280190'>fit</span> <span m='1280370'>in</span>
  <span m='1280460'>one</span> <span m='1280640'>word.</span> <span m='1282170'>Also</span>
  <span m='1282410'>this</span> <span m='1282710'>single</span> <span m='1283070'>sketch</span>
  <span m='1283340'>fits</span> <span m='1283550'>in</span> <span m='1283640'>one</span>
  <span m='1283820'>word,</span> <span m='1285240'>no</span> <span m='1285290'>big</span>
  <span m='1285500'>surprise</span> <span m='1285890'>there.</span> <span m='1287850'>So</span>
  <span m='1288320'>let's</span> <span m='1288470'>say</span> <span m='1288590'>you</span>
  <span m='1288740'>can</span> <span m='1288890'>find</span> <span m='1289130'>where</span>
  <span m='1289250'>sketch</span> <span m='1289520'>of</span> <span m='1289610'>q</span>
  <span m='1289790'>fits</span> <span m='1290060'>among</span> <span m='1290300'>these</span>
  <span m='1290450'>items</span> <span m='1290780'>in</span> <span m='1290870'>constant</span>
  <span m='1291175'>time.</span> <span m='1292100'>The</span> <span m='1292190'>trouble</span>
  <span m='1292520'>is</span> <span m='1292670'>were</span> <span m='1292930'>the</span>
  <span m='1293060'>sketch</span> <span m='1293630'>of</span> <span m='1293750'>q</span>
  <span m='1293990'>fits</span> <span m='1294950'>is</span> <span m='1295130'>not</span>
  <span m='1295460'>necessarily</span> <span m='1295970'>the</span> <span m='1296090'>same</span>
  <span m='1297230'>as</span> <span m='1297470'>where</span> <span m='1297740'>q</span>
  <span m='1298070'>fits</span> <span m='1298400'>among</span> <span m='1298670'>the</span>
  <span m='1298800'>xi's.</span> <span m='1300860'>Because</span> <span m='1301610'>q</span>
  <span m='1302060'>was</span> <span m='1302270'>not</span> <span m='1302660'>involved</span>
  <span m='1303290'>in</span> <span m='1303380'>the</span> <span m='1303470'>definition</span>
  <span m='1303980'>of</span> <span m='1304070'>sketch.</span> <span m='1304520'>q</span>
  <span m='1304700'>is</span> <span m='1304790'>an</span> <span m='1304880'>arbitrary</span>
  <span m='1305410'>query.</span> <span m='1305730'>They</span> <span m='1305870'>come</span>
  <span m='1306120'>online,</span> <span m='1307400'>I</span> <span m='1307460'>mean</span>
  <span m='1308000'>any</span> <span m='1308300'>word</span> <span m='1308570'>could</span>
  <span m='1308720'>be</span> <span m='1308840'>a</span> <span m='1308900'>query,</span>
  <span m='1309950'>not</span> <span m='1310130'>just</span> <span m='1310310'>the</span>
  <span m='1310440'>xi's.</span> </p><p><span m='1311180'>So</span> <span m='1311300'>you've</span>
  <span m='1311420'>set</span> <span m='1311720'>everything</span> <span m='1312140'>up</span>
  <span m='1312710'>to</span> <span m='1312830'>distinguish</span> <span m='1313280'>all</span>
  <span m='1313370'>the</span> <span m='1313540'>xi's.</span> <span m='1314420'>But</span>
  <span m='1314600'>q</span> <span m='1315140'>is</span> <span m='1315290'>going</span>
  <span m='1315480'>to</span> <span m='1315830'>fall</span> <span m='1316250'>off</span>
  <span m='1316460'>this</span> <span m='1316760'>tree</span> <span m='1317150'>at</span>
  <span m='1317240'>some</span> <span m='1317450'>point.</span> <span m='1318920'>And</span>
  <span m='1320180'>that</span> <span m='1320330'>kind</span> <span m='1320510'>of</span>
  <span m='1320600'>messes</span> <span m='1320900'>you</span> <span m='1321050'>up.</span>
  <span m='1321200'>Because</span> <span m='1321950'>if</span> <span m='1322310'>q</span>
  <span m='1322580'>fell</span> <span m='1322790'>off</span> <span m='1322970'>here,</span>
  <span m='1323150'>you</span> <span m='1323270'>don't</span> <span m='1323450'>have</span>
  <span m='1323720'>that</span> <span m='1323930'>bit.</span> <span m='1324140'>You</span>
  <span m='1324260'>won't</span> <span m='1324470'>notice</span> <span m='1325750'>the</span>
  <span m='1325850'>q</span> <span m='1326090'>fit</span> <span m='1326330'>there.</span>
  <span m='1327740'>So</span> <span m='1327920'>we</span> <span m='1328010'>have</span>
  <span m='1328100'>to</span> <span m='1328220'>do</span> <span m='1328340'>some</span>
  <span m='1328520'>work.</span> <span m='1330050'>And</span> <span m='1330410'>this</span>
  <span m='1330590'>is</span> <span m='1330740'>what</span> <span m='1330920'>I</span>
  <span m='1331010'>call</span> <span m='1332810'>de-sketchifying.</span> <span m='1339020'>And</span>
  <span m='1339180'>I</span> <span m='1339810'>like</span> <span m='1340070'>a</span>
  <span m='1340130'>big</span> <span m='1340490'>board.</span> </p><p></p><p><span
  m='1365541'>OK,</span> <span m='1366050'>let</span> <span m='1366170'>mean</span>
  <span m='1366340'>draw</span> <span m='1366760'>a</span> <span m='1368870'>some</span>
  <span m='1369270'>more</span> <span m='1369550'>methodical</span> <span m='1370270'>and</span>
  <span m='1370420'>smaller</span> <span m='1370930'>example.</span> <span m='1375376'>I
  need to</span> <span m='1375853'>make it</span> <span m='1376330'>the right</span>
  <span m='1376810'>number</span> <span m='1377110'>of</span> <span m='1377170'>levels.</span>
  <span m='1403789'>A little</span> <span m='1404330'>bigger</span> <span m='1404630'>than</span>
  <span m='1404780'>my</span> <span m='1404960'>usual</span> <span m='1405290'>tree,</span>
  <span m='1407540'>and</span> <span m='1408280'>I'll get</span> <span m='1408650'>my</span>
  <span m='1408890'>red,</span> <span m='1414110'>actually</span> <span m='1414380'>maybe</span>
  <span m='1414650'>use</span> <span m='1415370'>two</span> <span m='1415640'>colors.</span>
  </p><p><span m='1439370'>So</span> <span m='1439450'>here's</span> <span m='1439720'>a</span>
  <span m='1440470'>real</span> <span m='1440740'>example.</span> <span m='1442750'>Now</span>
  <span m='1442990'>it</span> <span m='1443080'>has</span> <span m='1444400'>four</span>
  <span m='1444670'>keys.</span> <span m='1445210'>And</span> <span m='1445390'>here</span>
  <span m='1445570'>I'm</span> <span m='1445680'>in</span> <span m='1445780'>the</span>
  <span m='1445870'>lucky</span> <span m='1446230'>case,</span> <span m='1446710'>where</span>
  <span m='1447640'>this</span> <span m='1447850'>is</span> <span m='1447940'>an</span>
  <span m='1448000'>important</span> <span m='1448500'>bit.</span> <span m='1451600'>And</span>
  <span m='1452530'>I</span> <span m='1452620'>get</span> <span m='1453130'>two</span>
  <span m='1453340'>for</span> <span m='1453460'>the</span> <span m='1453550'>price</span>
  <span m='1453820'>of</span> <span m='1453940'>one.</span> <span m='1454090'>I</span>
  <span m='1454180'>cared</span> <span m='1454390'>about</span> <span m='1454630'>this</span>
  <span m='1454780'>branching</span> <span m='1455200'>node,</span> <span m='1455860'>I</span>
  <span m='1455950'>cared</span> <span m='1456190'>about</span> <span m='1456400'>this</span>
  <span m='1456550'>branching</span> <span m='1456910'>node,</span> <span m='1458770'>and</span>
  <span m='1458980'>so</span> <span m='1459130'>I</span> <span m='1459190'>only</span>
  <span m='1459370'>have</span> <span m='1459490'>to</span> <span m='1459610'>door</span>
  <span m='1459880'>two</span> <span m='1460120'>bits</span> <span m='1460810'>in</span>
  <span m='1460990'>my</span> <span m='1461140'>sketch</span> <span m='1461710'>for</span>
  <span m='1461860'>these</span> <span m='1462100'>four</span> <span m='1462940'>nodes.</span>
  <span m='1464050'>In</span> <span m='1464310'>general,</span> <span m='1464590'>it
  might</span> <span m='1464770'>be</span> <span m='1464890'>three</span> <span m='1465310'>bits.</span>
  <span m='1465580'>But</span> <span m='1465670'>this</span> <span m='1465820'>will</span>
  <span m='1465910'>just</span> <span m='1466060'>make</span> <span m='1466270'>the</span>
  <span m='1466360'>point.</span> <span m='1467070'>So</span> <span m='1467170'>it's</span>
  <span m='1467770'>actually,</span> <span m='1468610'>life</span> <span m='1468940'>is</span>
  <span m='1469180'>in</span> <span m='1469300'>some</span> <span m='1469480'>ways</span>
  <span m='1469660'>harder</span> <span m='1470020'>in</span> <span m='1470110'>this</span>
  <span m='1470200'>situation.</span> </p><p><span m='1471940'>OK.</span> <span m='1472090'>So</span>
  <span m='1472240'>what</span> <span m='1472390'>are</span> <span m='1472480'>my</span>
  <span m='1472630'>bit</span> <span m='1472750'>strings</span> <span m='1473110'>here?</span>
  <span m='1473400'>Over</span> <span m='1473620'>here</span> <span m='1473800'>I've</span>
  <span m='1473890'>got</span> <span m='1474160'>0000,</span> <span m='1477016'>which</span>
  <span m='1477492'>corresponds</span> <span m='1477970'>to</span> <span m='1478150'>always</span>
  <span m='1478480'>going</span> <span m='1478690'>left.</span> <span m='1478960'>And</span>
  <span m='1479050'>I've</span> <span m='1479110'>got</span> <span m='1479290'>0010.</span>
  <span m='1484360'>Over</span> <span m='1484630'>here</span> <span m='1484810'>I've</span>
  <span m='1484930'>got</span> <span m='1485200'>1100</span> <span m='1488920'>and</span>
  <span m='1489190'>1111.</span> <span m='1492530'>We</span> <span m='1492760'>drew</span>
  <span m='1492970'>these</span> <span m='1493120'>pictures</span> <span m='1493510'>for</span>
  <span m='1493690'>van</span> <span m='1493920'>Emde</span> <span m='1494230'>Boas,</span>
  <span m='1494470'>right?</span> <span m='1494725'>The</span> <span m='1494980'>idea</span>
  <span m='1495550'>is</span> <span m='1496420'>we're</span> <span m='1496540'>going</span>
  <span m='1496660'>to</span> <span m='1496720'>use</span> <span m='1497080'>some</span>
  <span m='1497680'>of</span> <span m='1497800'>the</span> <span m='1497920'>similar</span>
  <span m='1498640'>perspectives</span> <span m='1499300'>at</span> <span m='1499360'>least.</span>
  <span m='1500550'>OK,</span> <span m='1500860'>but</span> <span m='1501070'>the</span>
  <span m='1501370'>important</span> <span m='1501790'>bits</span> <span m='1502060'>were</span>
  <span m='1502300'>the</span> <span m='1502420'>very</span> <span m='1502630'>first,</span>
  <span m='1503170'>the</span> <span m='1503290'>leftmost</span> <span m='1503770'>bit</span>
  <span m='1503980'>I</span> <span m='1504070'>should</span> <span m='1504250'>say.</span>
  <span m='1505150'>And</span> <span m='1505360'>then</span> <span m='1506920'>two</span>
  <span m='1507300'>bits</span> <span m='1507610'>after</span> <span m='1507970'>that,</span>
  <span m='1510200'>so</span> <span m='1512180'>these</span> <span m='1512420'>guys.</span>
  <span m='1518280'>And</span> <span m='1518480'>so</span> <span m='1518610'>the</span>
  <span m='1518730'>sketch</span> <span m='1519090'>here</span> <span m='1519300'>is</span>
  <span m='1519420'>11,</span> <span m='1520854'>10,</span> <span m='1522288'>01,</span>
  <span m='1524200'>and</span> <span m='1524680'>00.</span> <span m='1525240'>And</span>
  <span m='1525330'>you</span> <span m='1525450'>can</span> <span m='1525570'>see</span>
  <span m='1525720'>this</span> <span m='1525930'>is</span> <span m='1526080'>the</span>
  <span m='1526230'>minimal</span> <span m='1526710'>number</span> <span m='1526950'>of</span>
  <span m='1527010'>bits</span> <span m='1527280'>I</span> <span m='1527370'>need</span>
  <span m='1527910'>to</span> <span m='1528180'>keep</span> <span m='1528390'>them</span>
  <span m='1528540'>in</span> <span m='1528630'>order.</span> <span m='1529300'>But</span>
  <span m='1529380'>it</span> <span m='1529440'>does.</span> <span m='1529860'>It</span>
  <span m='1530230'>works.</span> <span m='1530820'>You</span> <span m='1530910'>can</span>
  <span m='1531060'>check.</span> <span m='1531300'>This</span> <span m='1531480'>works</span>
  <span m='1532320'>in</span> <span m='1532440'>general.</span> </p><p><span m='1534570'>OK.</span>
  <span m='1534930'>Now</span> <span m='1535230'>comes</span> <span m='1535530'>the</span>
  <span m='1535620'>query.</span> <span m='1536250'>I</span> <span m='1536310'>have</span>
  <span m='1536520'>a</span> <span m='1536580'>problematic</span> <span m='1537150'>query</span>
  <span m='1538100'>I'd</span> <span m='1538250'>like</span> <span m='1538410'>to</span>
  <span m='1538500'>draw.</span> <span m='1540420'>And</span> <span m='1540600'>it</span>
  <span m='1540750'>is</span> <span m='1541350'>0101,</span> <span m='1543270'>so</span>
  <span m='1543720'>0-1-0-1.</span> <span m='1545760'>So</span> <span m='1545910'>here's</span>
  <span m='1546150'>my</span> <span m='1546300'>query</span> <span m='1546660'>queue.</span>
  <span m='1548444'>Let</span> <span m='1548922'>me</span> <span m='1549400'>draw
  these</span> <span m='1549810'>as</span> <span m='1550280'>white.</span> <span m='1555350'>Query</span>
  <span m='1556520'>is</span> <span m='1556640'>0101.</span> <span m='1557120'>1</span>
  <span m='1558475'>If</span> <span m='1558740'>we</span> <span m='1558830'>take</span>
  <span m='1559070'>the</span> <span m='1559160'>sketch,</span> <span m='1560930'>we</span>
  <span m='1561110'>get</span> <span m='1561620'>00.</span> <span m='1564350'>Those</span>
  <span m='1564560'>are</span> <span m='1564650'>the</span> <span m='1565400'>important</span>
  <span m='1565790'>bits.</span> <span m='1567060'>So</span> <span m='1567110'>if</span>
  <span m='1567200'>I</span> <span m='1567290'>search</span> <span m='1567620'>for</span>
  <span m='1568160'>the</span> <span m='1568510'>query</span> <span m='1569160'>of</span>
  <span m='1569630'>00,</span> <span m='1571040'>I</span> <span m='1571190'>will</span>
  <span m='1571340'>find</span> <span m='1571670'>that</span> <span m='1571820'>it</span>
  <span m='1572060'>happens</span> <span m='1572450'>to</span> <span m='1572600'>match</span>
  <span m='1572990'>this</span> <span m='1573200'>key,</span> <span m='1573530'>or</span>
  <span m='1573650'>it</span> <span m='1573710'>matches</span> <span m='1574100'>the</span>
  <span m='1574190'>sketch</span> <span m='1574730'>of</span> <span m='1574910'>this</span>
  <span m='1575120'>key.</span> <span m='1576220'>But</span> <span m='1576380'>that</span>
  <span m='1576570'>key</span> <span m='1576830'>is</span> <span m='1576950'>neither</span>
  <span m='1577280'>the</span> <span m='1577400'>predecessor,</span> <span m='1578180'>nor</span>
  <span m='1578390'>the</span> <span m='1578690'>successor</span> <span m='1579740'>of</span>
  <span m='1579890'>that</span> <span m='1580070'>query.</span> <span m='1580880'>So</span>
  <span m='1581240'>this</span> <span m='1581330'>is</span> <span m='1581510'>bad</span>
  <span m='1581810'>news.</span> <span m='1582140'>I</span> <span m='1582230'>find</span>
  <span m='1582470'>the</span> <span m='1582560'>predecessor</span> <span m='1583070'>in</span>
  <span m='1583160'>sketch</span> <span m='1583490'>world,</span> <span m='1583940'>which</span>
  <span m='1584090'>is</span> <span m='1584150'>the</span> <span m='1584270'>red</span>
  <span m='1584480'>stuff,</span> <span m='1585500'>I</span> <span m='1585620'>get</span>
  <span m='1585920'>the</span> <span m='1586040'>wrong</span> <span m='1586310'>answer.</span>
  <span m='1586660'>In</span> <span m='1586760'>general,</span> <span m='1587160'>they</span>
  <span m='1587260'>could</span> <span m='1587270'>be</span> <span m='1587390'>very</span>
  <span m='1587810'>far</span> <span m='1588080'>away</span> <span m='1588260'>from</span>
  <span m='1588440'>each</span> <span m='1588590'>other.</span> <span m='1589910'>Here,</span>
  <span m='1590120'>I've</span> <span m='1590210'>got</span> <span m='1590420'>it</span>
  <span m='1590550'>1</span> <span m='1590890'>away,</span> <span m='1591130'>but</span>
  <span m='1592340'>that's as</span> <span m='1592640'>big an</span> <span m='1592990'>example</span>
  <span m='1593430'>as</span> <span m='1593570'>I</span> <span m='1593660'>can</span>
  <span m='1593780'>draw.</span> </p><p><span m='1597162'>So,</span> <span m='1597610'>how</span>
  <span m='1597940'>do</span> <span m='1598060'>we</span> <span m='1598150'>deal</span>
  <span m='1598420'>with</span> <span m='1598540'>this?</span> <span m='1612380'>This
  is</span> <span m='1612620'>the</span> <span m='1612990'>de-sketchification.</span>
  <span m='1615590'>So</span> <span m='1615740'>when</span> <span m='1615890'>I</span>
  <span m='1615980'>do</span> <span m='1616130'>this</span> <span m='1616310'>query,</span>
  <span m='1617090'>I</span> <span m='1617210'>end</span> <span m='1617420'>up</span>
  <span m='1617510'>finding</span> <span m='1617960'>this</span> <span m='1618170'>guy,</span>
  <span m='1619200'>x0.</span> <span m='1621180'>I</span> <span m='1621290'>claim</span>
  <span m='1621650'>that</span> <span m='1622010'>I</span> <span m='1622130'>can</span>
  <span m='1622280'>still</span> <span m='1622550'>use</span> <span m='1622910'>that</span>
  <span m='1623870'>for</span> <span m='1625100'>something</span> <span m='1625460'>interesting.</span>
  <span m='1627080'>OK,</span> <span m='1627260'>let's</span> <span m='1627470'>say</span>
  <span m='1632570'>we</span> <span m='1632720'>have</span> <span m='1633890'>a</span>
  <span m='1633950'>sketch</span> <span m='1634490'>of</span> <span m='1634790'>xi</span>
  <span m='1635510'>as</span> <span m='1635630'>the</span> <span m='1635750'>predecessor</span>
  <span m='1637010'>of</span> <span m='1637310'>the</span> <span m='1637430'>sketch</span>
  <span m='1638830'>of</span> <span m='1639260'>q.</span> <span m='1641240'>And</span>
  <span m='1641420'>so</span> <span m='1641690'>sketch</span> <span m='1642020'>of</span>
  <span m='1642140'>q</span> <span m='1642380'>is</span> <span m='1642440'>sandwiched</span>
  <span m='1642920'>between</span> <span m='1643340'>a</span> <span m='1643360'>sketch</span>
  <span m='1643640'>of</span> <span m='1643760'>xi</span> <span m='1644690'>and</span>
  <span m='1644840'>sketch</span> <span m='1645170'>of</span> <span m='1645260'>xi</span>
  <span m='1645620'>plus</span> <span m='1645860'>1.</span> </p><p><span m='1647090'>First</span>
  <span m='1647330'>of</span> <span m='1647450'>all,</span> <span m='1647540'>we're</span>
  <span m='1647810'>assuming</span> <span m='1648300'>that I</span> <span m='1648410'>can</span>
  <span m='1648590'>compute</span> <span m='1648920'>this</span> <span m='1649130'>in</span>
  <span m='1649250'>constant</span> <span m='1649550'>time,</span> <span m='1650000'>I</span>
  <span m='1650060'>can</span> <span m='1650210'>find</span> <span m='1650570'>where</span>
  <span m='1650690'>sketch</span> <span m='1650990'>of</span> <span m='1651080'>q</span>
  <span m='1651290'>fits</span> <span m='1651530'>among</span> <span m='1651740'>these</span>
  <span m='1651890'>guys.</span> <span m='1652160'>Because it</span> <span m='1652450'>just</span>
  <span m='1652670'>fits</span> <span m='1652910'>into</span> <span m='1653210'>words.</span>
  <span m='1654380'>And</span> <span m='1654590'>for</span> <span m='1654710'>now,</span>
  <span m='1654950'>let's just</span> <span m='1655100'>assume</span> <span m='1655400'>all</span>
  <span m='1655580'>operations</span> <span m='1656120'>on</span> <span m='1656210'>a</span>
  <span m='1656240'>constant</span> <span m='1656480'>number</span> <span m='1656720'>of</span>
  <span m='1656810'>words</span> <span m='1657050'>are at</span> <span m='1657140'>constant</span>
  <span m='1657450'>time.</span> <span m='1657710'>We</span> <span m='1657860'>will</span>
  <span m='1657980'>see</span> <span m='1658190'>how</span> <span m='1658280'>to</span>
  <span m='1658400'>do</span> <span m='1658520'>this.</span> <span m='1658880'>This
  is</span> <span m='1658970'>parallel</span> <span m='1659360'>comparison.</span>
  <span m='1661150'>So</span> <span m='1661350'>you</span> <span m='1661460'>figure</span>
  <span m='1661760'>out</span> <span m='1661980'>sketch</span> <span m='1662320'>of</span>
  <span m='1662420'>q</span> <span m='1662720'>fits</span> <span m='1663050'>here.</span>
  <span m='1664700'>I</span> <span m='1664820'>want</span> <span m='1665060'>to</span>
  <span m='1665240'>learn</span> <span m='1665510'>something</span> <span m='1665840'>about</span>
  <span m='1666140'>where</span> <span m='1666380'>q</span> <span m='1666740'>fits</span>
  <span m='1667310'>among</span> <span m='1667640'>the</span> <span m='1667790'>xi's.</span>
  <span m='1668300'>It's</span> <span m='1668450'>obviously,</span> <span m='1669470'>these</span>
  <span m='1669650'>may</span> <span m='1669830'>be</span> <span m='1669950'>the</span>
  <span m='1670040'>wrong</span> <span m='1670280'>answer.</span> <span m='1671130'>But</span>
  <span m='1671210'>I</span> <span m='1671270'>claim</span> <span m='1672530'>I</span>
  <span m='1672680'>can</span> <span m='1672860'>do</span> <span m='1672980'>something</span>
  <span m='1673340'>useful</span> <span m='1674120'>by</span> <span m='1674300'>looking</span>
  <span m='1674720'>at</span> <span m='1674990'>the</span> <span m='1675140'>longest</span>
  <span m='1676520'>common</span> <span m='1677690'>prefix</span> <span m='1679100'>of</span>
  <span m='1679280'>those</span> <span m='1679550'>words.</span> </p><p><span m='1688130'>So</span>
  <span m='1688400'>I</span> <span m='1688490'>want</span> <span m='1688640'>to</span>
  <span m='1688730'>compare</span> <span m='1690420'>q,</span> <span m='1691070'>not</span>
  <span m='1691340'>sketch</span> <span m='1691730'>of</span> <span m='1691850'>q</span>
  <span m='1692080'>but</span> <span m='1692210'>the</span> <span m='1692300'>real</span>
  <span m='1692600'>value</span> <span m='1692990'>q,</span> <span m='1694400'>and</span>
  <span m='1696260'>either</span> <span m='1698930'>xi</span> <span m='1700460'>or</span>
  <span m='1700820'>xi</span> <span m='1701060'>plus</span> <span m='1701340'>1.</span>
  <span m='1703340'>And</span> <span m='1704120'>what</span> <span m='1704330'>I</span>
  <span m='1704390'>want</span> <span m='1704600'>is</span> <span m='1704720'>the</span>
  <span m='1704810'>longest.</span> <span m='1705570'>So</span> <span m='1705650'>I</span>
  <span m='1705680'>look</span> <span m='1705890'>at</span> <span m='1705980'>the</span>
  <span m='1706070'>longest</span> <span m='1706580'>common</span> <span m='1706910'>prefix</span>
  <span m='1707300'>of</span> <span m='1707510'>q</span> <span m='1708230'>and</span>
  <span m='1708390'>xi.</span> <span m='1708890'>I</span> <span m='1709160'>look</span>
  <span m='1709330'>at</span> <span m='1709430'>longest</span> <span m='1709610'>common</span>
  <span m='1709910'>prefix</span> <span m='1710300'>of</span> <span m='1710420'>q</span>
  <span m='1710720'>and</span> <span m='1710840'>xi</span> <span m='1711150'>plus</span>
  <span m='1711450'>1.</span> <span m='1712040'>Whichever</span> <span m='1712430'>of</span>
  <span m='1712490'>those</span> <span m='1712730'>is</span> <span m='1712880'>the</span>
  <span m='1713090'>longest</span> <span m='1714720'>that's</span> <span m='1714950'>my</span>
  <span m='1715100'>longest</span> <span m='1715430'>common</span> <span m='1715700'>prefix.</span>
  <span m='1716150'>In</span> <span m='1716270'>the</span> <span m='1716360'>tree,</span>
  <span m='1716660'>it's the</span> <span m='1716810'>longest</span> <span m='1717200'>common</span>
  <span m='1717530'>ancestor,</span> <span m='1719150'>or</span> <span m='1720200'>lowest</span>
  <span m='1720530'>common</span> <span m='1720830'>ancestor.</span> </p><p><span
  m='1723860'>OK.</span> <span m='1724160'>So</span> <span m='1724310'>let's</span>
  <span m='1724490'>do</span> <span m='1724640'>it.</span> <span m='1726680'>We</span>
  <span m='1726860'>found</span> <span m='1727250'>that</span> <span m='1727520'>sketch</span>
  <span m='1727880'>of</span> <span m='1728000'>q</span> <span m='1728310'>fit</span>
  <span m='1728540'>between,</span> <span m='1729140'>I</span> <span m='1729200'>guess,</span>
  <span m='1729440'>these</span> <span m='1729680'>two</span> <span m='1729830'>guys,</span>
  <span m='1730940'>the</span> <span m='1731060'>way</span> <span m='1731180'>I've</span>
  <span m='1731300'>written</span> <span m='1731510'>it</span> <span m='1731600'>with</span>
  <span m='1731750'>the</span> <span m='1731840'>inequalities.</span> <span m='1732560'>It's</span>
  <span m='1732680'>between</span> <span m='1732935'>x0</span> <span m='1733550'>here</span>
  <span m='1734240'>and</span> <span m='1734360'>x1.</span> <span m='1736190'>So</span>
  <span m='1736340'>in</span> <span m='1736430'>this</span> <span m='1736580'>case,</span>
  <span m='1738920'>the</span> <span m='1739040'>lowest</span> <span m='1739460'>common</span>
  <span m='1739730'>ancestor</span> <span m='1740750'>of</span> <span m='1740960'>this</span>
  <span m='1741200'>node</span> <span m='1741620'>and</span> <span m='1741750'>q</span>
  <span m='1742220'>is</span> <span m='1742370'>going</span> <span m='1742520'>to</span>
  <span m='1742640'>be</span> <span m='1742790'>here.</span> <span m='1743810'>Also</span>
  <span m='1744110'>this</span> <span m='1744350'>node</span> <span m='1744700'>and
  q</span> <span m='1745160'>happens</span> <span m='1745550'>to</span> <span m='1745610'>also</span>
  <span m='1745910'>be</span> <span m='1746030'>here.</span> <span m='1746420'>So</span>
  <span m='1746630'>this</span> <span m='1746870'>is</span> <span m='1747560'>the</span>
  <span m='1747680'>lowest</span> <span m='1748070'>we</span> <span m='1748220'>can</span>
  <span m='1748400'>go.</span> <span m='1749900'>And</span> <span m='1750170'>what</span>
  <span m='1750350'>this</span> <span m='1750560'>means</span> <span m='1750920'>is</span>
  <span m='1751100'>that</span> <span m='1752660'>these</span> <span m='1753130'>guys,</span>
  <span m='1754810'>they</span> <span m='1755630'>share</span> <span m='1755990'>the</span>
  <span m='1756110'>bit</span> <span m='1756260'>string</span> <span m='1756530'>up</span>
  <span m='1756650'>to</span> <span m='1756740'>here.</span> <span m='1756950'>We</span>
  <span m='1757070'>were</span> <span m='1757220'>on</span> <span m='1757520'>the</span>
  <span m='1757610'>blue</span> <span m='1757970'>substructure</span> <span m='1759020'>up</span>
  <span m='1759200'>till</span> <span m='1759470'>here.</span> <span m='1760130'>This</span>
  <span m='1760460'>was</span> <span m='1760670'>the</span> <span m='1760790'>node</span>
  <span m='1761480'>where</span> <span m='1761630'>q</span> <span m='1761900'>diverged.</span>
  <span m='1762890'>We</span> <span m='1762980'>followed</span> <span m='1763340'>a</span>
  <span m='1763400'>pointer</span> <span m='1763730'>here</span> <span m='1764270'>along</span>
  <span m='1764690'>a</span> <span m='1764810'>non-blue</span> <span m='1765560'>edge.</span>
  <span m='1766880'>That's</span> <span m='1767090'>where</span> <span m='1767240'>we</span>
  <span m='1767360'>made</span> <span m='1767570'>a</span> <span m='1767630'>mistake.</span>
  </p><p><span m='1768180'>So</span> <span m='1768200'>this</span> <span m='1768410'>lets</span>
  <span m='1768650'>us</span> <span m='1768800'>find,</span> <span m='1769220'>in</span>
  <span m='1769310'>some</span> <span m='1769520'>sense,</span> <span m='1770330'>the</span>
  <span m='1770420'>first</span> <span m='1770690'>mistake,</span> <span m='1771230'>where</span>
  <span m='1771440'>we</span> <span m='1771590'>fell</span> <span m='1771890'>off</span>
  <span m='1772130'>the</span> <span m='1772250'>tree.</span> <span m='1773360'>So</span>
  <span m='1773480'>that's</span> <span m='1774170'>where</span> <span m='1774440'>we</span>
  <span m='1774560'>fell</span> <span m='1774740'>off</span> <span m='1774890'>the</span>
  <span m='1774980'>blue</span> <span m='1775190'>tree.</span> <span m='1775610'>That's</span>
  <span m='1775880'>useful</span> <span m='1776270'>information.</span> <span m='1778040'>Because</span>
  <span m='1778220'>now</span> <span m='1779180'>we</span> <span m='1779660'>know,</span>
  <span m='1779900'>well,</span> <span m='1780060'>we</span> <span m='1780260'>went</span>
  <span m='1780470'>to</span> <span m='1780590'>the</span> <span m='1780740'>right,</span>
  <span m='1781640'>whereas</span> <span m='1781880'>all</span> <span m='1782000'>the</span>
  <span m='1782120'>actual</span> <span m='1782510'>data</span> <span m='1782750'>is</span>
  <span m='1782900'>over</span> <span m='1783110'>here</span> <span m='1783260'>in</span>
  <span m='1783350'>the</span> <span m='1783440'>left</span> <span m='1783620'>subtree.</span>
  <span m='1784880'>There</span> <span m='1785090'>is</span> <span m='1785300'>no</span>
  <span m='1785570'>blue</span> <span m='1786020'>stuff</span> <span m='1786350'>in</span>
  <span m='1786440'>the</span> <span m='1786530'>right.</span> <span m='1787730'>So</span>
  <span m='1788000'>that</span> <span m='1788180'>tells</span> <span m='1788390'>us</span>
  <span m='1788510'>a</span> <span m='1788570'>lot.</span> <span m='1788810'>If</span>
  <span m='1788930'>we</span> <span m='1789020'>want</span> <span m='1789170'>to</span>
  <span m='1789260'>now</span> <span m='1789440'>find</span> <span m='1789620'>the</span>
  <span m='1789710'>predecessor</span> <span m='1790400'>of</span> <span m='1790520'>q,</span>
  <span m='1791530'>it's</span> <span m='1791690'>going</span> <span m='1791840'>to</span>
  <span m='1791900'>be</span> <span m='1792050'>whatever</span> <span m='1792440'>is</span>
  <span m='1792560'>the</span> <span m='1792680'>max</span> <span m='1793190'>in</span>
  <span m='1793310'>this</span> <span m='1793430'>subtree.</span> <span m='1795630'>So,</span>
  <span m='1795710'>I</span> <span m='1795770'>just</span> <span m='1795950'>need</span>
  <span m='1796100'>to</span> <span m='1796190'>be</span> <span m='1796280'>able</span>
  <span m='1796400'>to</span> <span m='1796490'>find</span> <span m='1796700'>the</span>
  <span m='1796790'>max</span> <span m='1797120'>over</span> <span m='1797330'>here.</span>
  </p><p><span m='1799080'>So</span> <span m='1799160'>this is</span> <span m='1799360'>the</span>
  <span m='1799490'>idea.</span> <span m='1800420'>Now</span> <span m='1800600'>there's</span>
  <span m='1800750'>two</span> <span m='1800930'>cases,</span> <span m='1801480'>depending</span>
  <span m='1801770'>on</span> <span m='1801860'>whether</span> <span m='1802070'>we</span>
  <span m='1802250'>were</span> <span m='1802760'>in</span> <span m='1802880'>the</span>
  <span m='1803000'>right</span> <span m='1803300'>or</span> <span m='1803420'>in</span>
  <span m='1803510'>the</span> <span m='1803600'>left</span> <span m='1804500'>from</span>
  <span m='1804680'>that</span> <span m='1804860'>node.</span> <span m='1810650'>So</span>
  <span m='1810950'>let</span> <span m='1811070'>me</span> <span m='1811230'>write</span>
  <span m='1812000'>this,</span> <span m='1813290'>find</span> <span m='1815180'>the</span>
  <span m='1815300'>node</span> <span m='1816680'>y</span> <span m='1818090'>where</span>
  <span m='1819620'>q</span> <span m='1821030'>fell</span> <span m='1821750'>off</span>
  <span m='1823190'>the</span> <span m='1823310'>blue</span> <span m='1823580'>tree.</span>
  <span m='1825680'>So</span> <span m='1825860'>this</span> <span m='1826070'>node</span>
  <span m='1826340'>y,</span> <span m='1826820'>we</span> <span m='1826970'>can</span>
  <span m='1827120'>think</span> <span m='1827360'>of</span> <span m='1827510'>as</span>
  <span m='1827660'>a</span> <span m='1827720'>bit</span> <span m='1827990'>number.</span>
  <span m='1829070'>Here</span> <span m='1829340'>the</span> <span m='1829840'>leftmost</span>
  <span m='1830510'>bit</span> <span m='1830960'>was</span> <span m='1831110'>still</span>
  <span m='1831410'>on,</span> <span m='1831820'>but</span> <span m='1831980'>then</span>
  <span m='1832250'>the</span> <span m='1832340'>next</span> <span m='1832640'>bit</span>
  <span m='1833210'>was</span> <span m='1833390'>off.</span> <span m='1834500'>And</span>
  <span m='1834650'>so</span> <span m='1834830'>we</span> <span m='1834970'>look</span>
  <span m='1835250'>at--</span> <span m='1836180'>I'll</span> <span m='1836330'>call</span>
  <span m='1836540'>that</span> <span m='1836750'>bit</span> <span m='1837050'>y</span>
  <span m='1837380'>plus</span> <span m='1837680'>1,</span> <span m='1838910'>or</span>
  <span m='1839000'>maybe</span> <span m='1839280'>size</span> <span m='1839660'>of</span>
  <span m='1839750'>y</span> <span m='1839940'>plus</span> <span m='1840240'>1.</span>
  <span m='1842180'>If</span> <span m='1842390'>that</span> <span m='1842630'>bit</span>
  <span m='1845360'>equals</span> <span m='1846910'>1,</span> <span m='1847590'>that's</span>
  <span m='1847700'>the</span> <span m='1847790'>picture</span> <span m='1848120'>we</span>
  <span m='1848270'>have.</span> <span m='1849760'>Then</span> <span m='1850250'>what</span>
  <span m='1850460'>I'm</span> <span m='1850550'>going</span> <span m='1850760'>to</span>
  <span m='1850880'>do</span> <span m='1851720'>is</span> <span m='1851930'>set</span>
  <span m='1852850'>a</span> <span m='1852920'>new</span> <span m='1853580'>quantity</span>
  <span m='1854240'>e,</span> <span m='1856190'>which</span> <span m='1856340'>is</span>
  <span m='1856460'>going</span> <span m='1856560'>to</span> <span m='1856670'>be--</span>
  <span m='1857190'>this is</span> <span m='1857330'>a new</span> <span m='1857510'>word.</span>
  <span m='1858560'>It's</span> <span m='1858650'>going</span> <span m='1858800'>to</span>
  <span m='1858890'>be</span> <span m='1859010'>the</span> <span m='1859100'>bit</span>
  <span m='1859250'>string</span> <span m='1859550'>y,</span> <span m='1860690'>followed</span>
  <span m='1861050'>by a</span> <span m='1861260'>0,</span> <span m='1862280'>followed</span>
  <span m='1862640'>by</span> <span m='1862790'>lots</span> <span m='1863060'>of</span>
  <span m='1863180'>1's.</span> </p><p><span m='1867160'>Whereas</span> <span m='1868880'>our
  bit</span> <span m='1869260'>string</span> <span m='1869650'>q</span> <span m='1871510'>had</span>
  <span m='1871690'>a</span> <span m='1871750'>1</span> <span m='1872110'>here,</span>
  <span m='1873220'>and</span> <span m='1873370'>fell</span> <span m='1873640'>off</span>
  <span m='1873880'>the</span> <span m='1874000'>tree.</span> <span m='1874960'>What</span>
  <span m='1875080'>we're</span> <span m='1875200'>instead</span> <span m='1875530'>going</span>
  <span m='1875740'>to</span> <span m='1875860'>do</span> <span m='1875950'>is</span>
  <span m='1876070'>identify</span> <span m='1877000'>this</span> <span m='1877270'>node,</span>
  <span m='1878470'>the</span> <span m='1878680'>rightmost</span> <span m='1879310'>node</span>
  <span m='1879670'>in</span> <span m='1879820'>this</span> <span m='1879950'>subtree.</span>
  <span m='1882190'>That's</span> <span m='1882400'>not</span> <span m='1882880'>necessarily</span>
  <span m='1883510'>an</span> <span m='1883600'>xi.</span> <span m='1884680'>But</span>
  <span m='1884860'>it's</span> <span m='1885010'>a</span> <span m='1885070'>thing.</span>
  <span m='1886330'>And</span> <span m='1886450'>then</span> <span m='1886660'>we're</span>
  <span m='1886810'>going</span> <span m='1887110'>to</span> <span m='1887260'>do,</span>
  <span m='1887860'>again,</span> <span m='1888460'>this</span> <span m='1889240'>search</span>
  <span m='1889690'>and</span> <span m='1889840'>sketch</span> <span m='1890230'>space,</span>
  <span m='1891410'>but</span> <span m='1891490'>now</span> <span m='1891760'>using</span>
  <span m='1892210'>e</span> <span m='1892630'>instead</span> <span m='1893020'>of</span>
  <span m='1893140'>q.</span> </p><p><span m='1895630'>If</span> <span m='1895780'>we</span>
  <span m='1895900'>do</span> <span m='1896110'>that,</span> <span m='1896950'>what</span>
  <span m='1897520'>is</span> <span m='1897670'>this</span> <span m='1898420'>node?</span>
  <span m='1898720'>Let's</span> <span m='1899200'>label</span> <span m='1899530'>it,</span>
  <span m='1899680'>0011.</span> <span m='1902440'>If</span> <span m='1903125'>you</span>
  <span m='1903460'>look</span> <span m='1903700'>at</span> <span m='1903850'>the</span>
  <span m='1904270'>sketch</span> <span m='1904660'>bits,</span> <span m='1904960'>this</span>
  <span m='1905100'>has</span> <span m='1905260'>a</span> <span m='1905320'>sketch</span>
  <span m='1905650'>of</span> <span m='1905740'>01.</span> <span m='1907240'>So</span>
  <span m='1907390'>if</span> <span m='1907480'>I</span> <span m='1907540'>did</span>
  <span m='1907720'>a</span> <span m='1907780'>search</span> <span m='1908110'>here,</span>
  <span m='1908320'>I</span> <span m='1908410'>would</span> <span m='1908530'>actually</span>
  <span m='1908860'>find</span> <span m='1909160'>that</span> <span m='1910570'>this</span>
  <span m='1910990'>is</span> <span m='1911080'>the</span> <span m='1911230'>answer,</span>
  <span m='1911530'>and</span> <span m='1911620'>that</span> <span m='1911770'>actually</span>
  <span m='1912100'>is</span> <span m='1912250'>a</span> <span m='1912310'>predecessor</span>
  <span m='1912880'>of</span> <span m='1912970'>q.</span> <span m='1913900'>In</span>
  <span m='1914020'>general,</span> <span m='1914540'>this</span> <span m='1914620'>is</span>
  <span m='1914710'>going</span> <span m='1914800'>to</span> <span m='1914920'>work</span>
  <span m='1915190'>well.</span> <span m='1916270'>Because</span> <span m='1917020'>essentially</span>
  <span m='1919930'>some</span> <span m='1920200'>of</span> <span m='1920290'>these</span>
  <span m='1920470'>bits</span> <span m='1920740'>are</span> <span m='1920800'>going</span>
  <span m='1920910'>to</span> <span m='1921010'>be</span> <span m='1921130'>sketch</span>
  <span m='1921460'>bits.</span> <span m='1921850'>This</span> <span m='1922060'>one</span>
  <span m='1922240'>was</span> <span m='1922390'>not,</span> <span m='1923560'>and</span>
  <span m='1923650'>we</span> <span m='1923740'>made</span> <span m='1923950'>a</span>
  <span m='1924010'>mistake</span> <span m='1924460'>there.</span> <span m='1925150'>We</span>
  <span m='1925300'>went</span> <span m='1925510'>right.</span> <span m='1925940'>We</span>
  <span m='1925960'>should</span> <span m='1926110'>have</span> <span m='1926200'>got</span>
  <span m='1926410'>left.</span> </p><p><span m='1927520'>These</span> <span m='1927730'>ones,</span>
  <span m='1928030'>some</span> <span m='1928240'>of</span> <span m='1928300'>them</span>
  <span m='1928420'>are</span> <span m='1928480'>going</span> <span m='1928600'>to</span>
  <span m='1928660'>be</span> <span m='1928750'>sketch</span> <span m='1929050'>bits.</span>
  <span m='1929230'>Some</span> <span m='1929410'>of</span> <span m='1929470'>them</span>
  <span m='1929620'>are</span> <span m='1929710'>not.</span> <span m='1930460'>But</span>
  <span m='1930610'>whichever</span> <span m='1930970'>ones</span> <span m='1931210'>get</span>
  <span m='1931390'>underlined,</span> <span m='1932260'>it's</span> <span m='1932440'>going</span>
  <span m='1932590'>to</span> <span m='1932650'>be</span> <span m='1932800'>a</span>
  <span m='1932890'>1,</span> <span m='1933190'>which</span> <span m='1933370'>means</span>
  <span m='1934900'>we're</span> <span m='1935050'>going</span> <span m='1935160'>to</span>
  <span m='1935470'>do</span> <span m='1935680'>the</span> <span m='1935800'>right</span>
  <span m='1936010'>thing.</span> <span m='1936760'>We</span> <span m='1936970'>want</span>
  <span m='1937330'>the</span> <span m='1937480'>very</span> <span m='1937840'>rightmost</span>
  <span m='1938470'>item</span> <span m='1939220'>in</span> <span m='1939370'>this</span>
  <span m='1939580'>tree.</span> <span m='1940370'>So</span> <span m='1940390'>if</span>
  <span m='1940480'>we</span> <span m='1940630'>always</span> <span m='1940990'>go</span>
  <span m='1941170'>right</span> <span m='1941440'>whenever</span> <span m='1941800'>there's</span>
  <span m='1941980'>a</span> <span m='1942040'>sketch</span> <span m='1942370'>bit,</span>
  <span m='1944050'>and</span> <span m='1944230'>then</span> <span m='1944410'>do</span>
  <span m='1944590'>a</span> <span m='1944890'>search</span> <span m='1945310'>in</span>
  <span m='1945490'>sketch</span> <span m='1945810'>space,</span> <span m='1946570'>we</span>
  <span m='1946720'>will</span> <span m='1946870'>find</span> <span m='1947140'>the</span>
  <span m='1947260'>rightmost</span> <span m='1947770'>item</span> <span m='1948340'>in</span>
  <span m='1948490'>this</span> <span m='1948700'>tree.</span> <span m='1950240'>So</span>
  <span m='1950320'>if</span> <span m='1950410'>we</span> <span m='1950500'>then</span>
  <span m='1950710'>do</span> <span m='1950890'>a</span> <span m='1950950'>search</span>
  <span m='1951250'>on</span> <span m='1951360'>e,</span> <span m='1952360'>we're</span>
  <span m='1952480'>always</span> <span m='1952660'>going</span> <span m='1952810'>to</span>
  <span m='1952900'>get</span> <span m='1953050'>the</span> <span m='1953170'>right</span>
  <span m='1953320'>answer.</span> </p><p><span m='1955100'>So</span> <span m='1955420'>in</span>
  <span m='1955600'>the</span> <span m='1955720'>end,</span> <span m='1956060'>we're</span>
  <span m='1956160'>going</span> <span m='1956260'>do</span> <span m='1956440'>two</span>
  <span m='1956860'>searches</span> <span m='1957310'>in</span> <span m='1957430'>sketch</span>
  <span m='1957730'>space,</span> <span m='1958090'>once</span> <span m='1958930'>with</span>
  <span m='1959110'>q</span> <span m='1959800'>to</span> <span m='1959890'>find</span>
  <span m='1960220'>this</span> <span m='1960400'>place</span> <span m='1960670'>where</span>
  <span m='1960790'>we</span> <span m='1960910'>fell</span> <span m='1961150'>off,</span>
  <span m='1961930'>then</span> <span m='1962110'>once</span> <span m='1962380'>with</span>
  <span m='1962590'>e</span> <span m='1966130'>where</span> <span m='1966310'>we</span>
  <span m='1966460'>actually</span> <span m='1966790'>find</span> <span m='1967000'>the</span>
  <span m='1967090'>right</span> <span m='1967270'>answer.</span> <span m='1971470'>And</span>
  <span m='1971710'>there's</span> <span m='1971960'>a</span> <span m='1972050'>symmetric</span>
  <span m='1972490'>case,</span> <span m='1972850'>which</span> <span m='1973060'>is</span>
  <span m='1973300'>if</span> <span m='1973690'>we</span> <span m='1973840'>went</span>
  <span m='1974020'>left</span> <span m='1974380'>and</span> <span m='1974470'>we</span>
  <span m='1974560'>should</span> <span m='1974740'>have</span> <span m='1974830'>gone</span>
  <span m='1975070'>right,</span> <span m='1975430'>then</span> <span m='1975580'>we</span>
  <span m='1975940'>go</span> <span m='1976240'>right,</span> <span m='1976930'>and</span>
  <span m='1977020'>then</span> <span m='1977140'>we</span> <span m='1977230'>put</span>
  <span m='1977380'>a</span> <span m='1977440'>lot</span> <span m='1977590'>of</span>
  <span m='1977650'>0's.</span> <span m='1978190'>Because</span> <span m='1978370'>then</span>
  <span m='1978550'>we</span> <span m='1978670'>want</span> <span m='1978820'>to</span>
  <span m='1978880'>find</span> <span m='1979150'>the</span> <span m='1979240'>min</span>
  <span m='1979780'>in</span> <span m='1979960'>that</span> <span m='1980140'>tree.</span>
  </p><p><span m='1990070'>So,</span> <span m='1991060'>back</span> <span m='1991300'>to</span>
  <span m='1991420'>search,</span> <span m='1992290'>we</span> <span m='1992420'>compute</span>
  <span m='1992720'>sketch</span> <span m='1993130'>of q.</span> <span m='1994120'>We</span>
  <span m='1994300'>find</span> <span m='1994840'>it</span> <span m='1996700'>among</span>
  <span m='1998740'>the</span> <span m='1998860'>sketch</span> <span m='1999250'>of</span>
  <span m='1999310'>the</span> <span m='1999460'>xi's.</span> <span m='2004050'>This</span>
  <span m='2004260'>gives</span> <span m='2004560'>us</span> <span m='2004830'>this</span>
  <span m='2005140'>y.</span> <span m='2007120'>So</span> <span m='2007230'>we</span>
  <span m='2007320'>find</span> <span m='2008500'>the</span> <span m='2008990'>longest</span>
  <span m='2009450'>common</span> <span m='2009870'>prefix,</span> <span m='2011690'>y</span>
  <span m='2012300'>equals</span> <span m='2012420'>longest</span> <span m='2012810'>common</span>
  <span m='2013170'>prefix</span> <span m='2014305'>of</span> <span m='2014780'>q</span>
  <span m='2015430'>and</span> <span m='2016880'>xi</span> <span m='2017520'>or</span>
  <span m='2017700'>xi</span> <span m='2018270'>plus</span> <span m='2018590'>1.</span>
  <span m='2021240'>Then</span> <span m='2021480'>we</span> <span m='2021750'>compute</span>
  <span m='2024880'>e,</span> <span m='2026310'>and</span> <span m='2026460'>then</span>
  <span m='2026610'>we</span> <span m='2026730'>find</span> <span m='2028370'>sketch</span>
  <span m='2028790'>of e</span> <span m='2031370'>among</span> <span m='2035010'>sketch</span>
  <span m='2035400'>of</span> <span m='2035590'>xi's.</span> <span m='2039480'>And</span>
  <span m='2039600'>the</span> <span m='2039690'>claim</span> <span m='2040020'>is</span>
  <span m='2040290'>that</span> <span m='2040470'>the</span> <span m='2040680'>predecessor</span>
  <span m='2043290'>and</span> <span m='2043440'>successor</span> <span m='2045700'>of</span>
  <span m='2045900'>sketch of</span> <span m='2046400'>e</span> <span m='2049469'>among</span>
  <span m='2049860'>sketch</span> <span m='2050159'>of</span> <span m='2050280'>xi's</span>
  <span m='2051030'>equals</span> <span m='2052110'>the</span> <span m='2052199'>predecessor</span>
  <span m='2053250'>and</span> <span m='2053400'>successor</span> <span m='2056670'>of</span>
  <span m='2060680'>q,</span> <span m='2061670'>our</span> <span m='2062460'>actual</span>
  <span m='2062790'>query,</span> <span m='2063989'>among</span> <span m='2065489'>the</span>
  <span m='2065690'>xi's.</span> </p><p><span m='2078810'>So</span> <span m='2078960'>this
  is</span> <span m='2079199'>a claim.</span> <span m='2079460'>It</span> <span m='2079590'>needs</span>
  <span m='2079800'>proof.</span> <span m='2080340'>But</span> <span m='2080489'>it's</span>
  <span m='2080699'>what</span> <span m='2080850'>I've</span> <span m='2080969'>been</span>
  <span m='2081120'>arguing</span> <span m='2082250'>that</span> <span m='2082530'>e</span>
  <span m='2083400'>gives</span> <span m='2083639'>us</span> <span m='2083790'>the</span>
  <span m='2083909'>right</span> <span m='2084090'>structure.</span> <span m='2084780'>It</span>
  <span m='2084929'>fixes</span> <span m='2085409'>all</span> <span m='2085530'>the</span>
  <span m='2085620'>sketch</span> <span m='2085949'>bits</span> <span m='2086190'>that</span>
  <span m='2086340'>are</span> <span m='2086429'>potentially</span> <span m='2086969'>wrong.</span>
  <span m='2087840'>We</span> <span m='2087960'>found</span> <span m='2088199'>the</span>
  <span m='2088290'>first</span> <span m='2088650'>sketch</span> <span m='2088980'>bit</span>
  <span m='2089159'>that</span> <span m='2089280'>was</span> <span m='2089429'>wrong.</span>
  <span m='2090480'>We</span> <span m='2090600'>fixed</span> <span m='2090900'>that</span>
  <span m='2091120'>one.</span> <span m='2092130'>And</span> <span m='2092219'>then</span>
  <span m='2092340'>the</span> <span m='2092429'>remainder,</span> <span m='2092909'>as</span>
  <span m='2093030'>long</span> <span m='2093210'>as</span> <span m='2093300'>we</span>
  <span m='2093389'>go</span> <span m='2093570'>all</span> <span m='2093750'>the</span>
  <span m='2093840'>way</span> <span m='2093929'>to</span> <span m='2094020'>the</span>
  <span m='2094139'>right,</span> <span m='2095070'>we'll</span> <span m='2095310'>find
  the</span> <span m='2095400'>max,</span> <span m='2096510'>or</span> <span m='2096780'>in</span>
  <span m='2096870'>the</span> <span m='2096960'>other</span> <span m='2097110'>case</span>
  <span m='2098070'>we</span> <span m='2098280'>want</span> <span m='2098940'>to</span>
  <span m='2099000'>go</span> <span m='2099090'>all</span> <span m='2099240'>the</span>
  <span m='2099330'>way</span> <span m='2099450'>to</span> <span m='2099530'>the</span>
  <span m='2099600'>left</span> <span m='2099840'>because</span> <span m='2100020'>we</span>
  <span m='2100080'>want</span> <span m='2100260'>to</span> <span m='2100320'>find</span>
  <span m='2100530'>the</span> <span m='2100650'>min.</span> <span m='2101970'>So</span>
  <span m='2102150'>that's</span> <span m='2102990'>this</span> <span m='2103200'>claim.</span>
  </p><p><span m='2104060'>We</span> <span m='2104250'>find</span> <span m='2104490'>the</span>
  <span m='2104550'>predecessor</span> <span m='2104880'>of</span> <span m='2105210'>sketch</span>
  <span m='2105700'>of</span> <span m='2105910'>e.</span> <span m='2106340'>Run the</span>
  <span m='2106780'>sketch</span> <span m='2107050'>of</span> <span m='2107090'>the</span>
  <span m='2107230'>xi's,</span> <span m='2107550'>which</span> <span m='2107700'>is</span>
  <span m='2107760'>just</span> <span m='2107940'>this</span> <span m='2108150'>thing</span>
  <span m='2108590'>again.</span> <span m='2110530'>So</span> <span m='2110670'>again,</span>
  <span m='2111070'>we</span> <span m='2111170'>can</span> <span m='2111180'>do</span>
  <span m='2111270'>it</span> <span m='2111330'>in</span> <span m='2111420'>constant</span>
  <span m='2111780'>time.</span> <span m='2112650'>Then</span> <span m='2112920'>we</span>
  <span m='2113070'>find--</span> <span m='2114390'>I</span> <span m='2114480'>mean</span>
  <span m='2114640'>I</span> <span m='2114660'>have</span> <span m='2114750'>to</span>
  <span m='2114870'>be</span> <span m='2114990'>a</span> <span m='2115050'>little</span>
  <span m='2115320'>bit</span> <span m='2115650'>more</span> <span m='2115890'>precise</span>
  <span m='2116430'>here.</span> <span m='2117150'>Of</span> <span m='2117240'>course,</span>
  <span m='2117570'>we</span> <span m='2117690'>find</span> <span m='2117930'>the</span>
  <span m='2118020'>predecessor and</span> <span m='2118520'>successor,</span> <span
  m='2118980'>we</span> <span m='2119070'>get</span> <span m='2119160'>a</span> <span
  m='2119220'>sketch</span> <span m='2119550'>of</span> <span m='2119660'>the</span>
  <span m='2119720'>xi.</span> <span m='2120090'>We</span> <span m='2120210'>have</span>
  <span m='2120360'>to</span> <span m='2120510'>undo</span> <span m='2120870'>that</span>
  <span m='2121080'>sketch</span> <span m='2121410'>operation.</span> <span m='2122160'>Really</span>
  <span m='2122370'>the</span> <span m='2122460'>way</span> <span m='2122580'>to</span>
  <span m='2122670'>think</span> <span m='2122850'>of</span> <span m='2122940'>it</span>
  <span m='2123060'>is</span> <span m='2123930'>predecessor</span> <span m='2124470'>and</span>
  <span m='2124560'>successor</span> <span m='2124830'>are</span> <span m='2125100'>really</span>
  <span m='2125340'>returning</span> <span m='2125760'>a</span> <span m='2125820'>rank.</span>
  <span m='2127530'>I</span> <span m='2127620'>want</span> <span m='2127830'>to</span>
  <span m='2127890'>know</span> <span m='2128010'>the</span> <span m='2128190'>i</span>
  <span m='2128760'>that</span> <span m='2128880'>matters.</span> <span m='2129510'>So
  if</span> <span m='2129660'>it</span> <span m='2129750'>fits</span> <span m='2129990'>between</span>
  <span m='2131460'>sketch</span> <span m='2132270'>of</span> <span m='2133330'>xi</span>
  <span m='2133940'>and</span> <span m='2134130'>sketch</span> <span m='2134430'>of</span>
  <span m='2134640'>xi</span> <span m='2135000'>plus</span> <span m='2135300'>1,</span>
  <span m='2136155'>if</span> <span m='2136530'>sketch</span> <span m='2136860'>of</span>
  <span m='2136980'>e</span> <span m='2137220'>fits</span> <span m='2137490'>between</span>
  <span m='2137850'>those,</span> <span m='2138180'>then</span> <span m='2138360'>I</span>
  <span m='2138450'>know</span> <span m='2138720'>that</span> <span m='2139260'>q</span>
  <span m='2140070'>will</span> <span m='2140220'>fit</span> <span m='2140430'>between</span>
  <span m='2141000'>xi</span> <span m='2141600'>and</span> <span m='2141810'>xi</span>
  <span m='2142110'>plus</span> <span m='2142350'>1,</span> <span m='2143730'>in</span>
  <span m='2143790'>terms</span> <span m='2144000'>of</span> <span m='2144060'>that</span>
  <span m='2144240'>rank,</span> <span m='2144660'>i,</span> <span m='2147090'>the</span>
  <span m='2147240'>index</span> <span m='2147750'>in</span> <span m='2147900'>the</span>
  <span m='2148050'>array.</span> </p><p><span m='2151134'>So,</span> <span m='2151610'>that</span>
  <span m='2151730'>makes</span> <span m='2151910'>sense.</span> <span m='2153170'>This</span>
  <span m='2153380'>is</span> <span m='2157054'>the</span> <span m='2157510'>end</span>
  <span m='2157720'>of</span> <span m='2157870'>the--</span> <span m='2159970'>what's</span>
  <span m='2160150'>the</span> <span m='2160210'>right</span> <span m='2160390'>way</span>
  <span m='2160510'>to</span> <span m='2160600'>put</span> <span m='2160780'>it?</span>
  <span m='2161410'>This</span> <span m='2161590'>is</span> <span m='2161680'>the</span>
  <span m='2161800'>big</span> <span m='2161950'>picture</span> <span m='2162290'>of</span>
  <span m='2162340'>fusion</span> <span m='2162670'>trees.</span> <span m='2164330'>At</span>
  <span m='2164500'>this</span> <span m='2164680'>point</span> <span m='2166200'>you</span>
  <span m='2166340'>should</span> <span m='2167110'>believe</span> <span m='2167620'>that</span>
  <span m='2167770'>everything</span> <span m='2168190'>works.</span> <span m='2169070'>And</span>
  <span m='2169540'>overall,</span> <span m='2169960'>what</span> <span m='2170110'>are</span>
  <span m='2170170'>we</span> <span m='2170290'>doing?</span> <span m='2170590'>We're</span>
  <span m='2170660'>building</span> <span m='2171100'>a</span> <span m='2171370'>w</span>
  <span m='2171690'>to</span> <span m='2171820'>the</span> <span m='2171940'>1/5</span>
  <span m='2172840'>tree.</span> <span m='2173200'>It's</span> <span m='2173320'>not</span>
  <span m='2173500'>yet</span> <span m='2173620'>clear</span> <span m='2173860'>why</span>
  <span m='2174070'>w</span> <span m='2174320'>to</span> <span m='2174450'>the</span>
  <span m='2174560'>1/5.</span> <span m='2176610'>And</span> <span m='2176940'>so</span>
  <span m='2177070'>we</span> <span m='2177160'>have</span> <span m='2177280'>to</span>
  <span m='2177340'>implement</span> <span m='2177760'>these</span> <span m='2177940'>nodes</span>
  <span m='2178290'>that</span> <span m='2178420'>only</span> <span m='2178630'>have</span>
  <span m='2178780'>w</span> <span m='2179040'>to</span> <span m='2179170'>the</span>
  <span m='2179260'>1/5</span> <span m='2179650'>keys.</span> <span m='2180460'>So</span>
  <span m='2180580'>we're</span> <span m='2180640'>looking</span> <span m='2180850'>at</span>
  <span m='2180970'>a</span> <span m='2181000'>single</span> <span m='2181330'>node.</span>
  <span m='2181530'>And</span> <span m='2181630'>say,</span> <span m='2181810'>hey</span>
  <span m='2182020'>look,</span> <span m='2182720'>there's</span> <span m='2182770'>a</span>
  <span m='2182800'>bunch</span> <span m='2183040'>of</span> <span m='2183100'>keys.</span>
  <span m='2183610'>Let's</span> <span m='2183670'>just</span> <span m='2183880'>look</span>
  <span m='2184060'>at</span> <span m='2184120'>the</span> <span m='2184210'>important</span>
  <span m='2184600'>bits.</span> <span m='2185380'>That</span> <span m='2185560'>defines</span>
  <span m='2185890'>the</span> <span m='2185980'>sketch</span> <span m='2186340'>operation.</span>
  </p><p><span m='2187630'>Now</span> <span m='2187900'>if we</span> <span m='2187960'>want</span>
  <span m='2188140'>to</span> <span m='2188200'>do</span> <span m='2188290'>a</span>
  <span m='2188350'>search,</span> <span m='2189370'>we</span> <span m='2189520'>do</span>
  <span m='2189670'>this</span> <span m='2190390'>double</span> <span m='2190840'>search.</span>
  <span m='2191170'>We</span> <span m='2191650'>compute</span> <span m='2191950'>the</span>
  <span m='2192040'>sketch,</span> <span m='2192400'>find</span> <span m='2192880'>the</span>
  <span m='2192970'>sketch</span> <span m='2193310'>among</span> <span m='2193540'>the</span>
  <span m='2193600'>sketches,</span> <span m='2195370'>find</span> <span m='2195760'>our</span>
  <span m='2195820'>mistake,</span> <span m='2196990'>compute</span> <span m='2197600'>our</span>
  <span m='2197770'>proper</span> <span m='2198250'>query,</span> <span m='2199270'>compute</span>
  <span m='2199510'>the</span> <span m='2199600'>sketch</span> <span m='2199900'>of</span>
  <span m='2199990'>that,</span> <span m='2200440'>find</span> <span m='2200710'>that</span>
  <span m='2200890'>sketch</span> <span m='2201250'>among</span> <span m='2201490'>the</span>
  <span m='2201550'>sketches,</span> <span m='2202690'>and</span> <span m='2202840'>then</span>
  <span m='2203020'>that</span> <span m='2203260'>index</span> <span m='2204190'>in</span>
  <span m='2204340'>the</span> <span m='2204460'>array</span> <span m='2204700'>of</span>
  <span m='2204760'>sketches</span> <span m='2205240'>will</span> <span m='2205450'>be</span>
  <span m='2206080'>the</span> <span m='2206170'>correct</span> <span m='2206620'>index</span>
  <span m='2207070'>of</span> <span m='2207280'>our</span> <span m='2207370'>actual</span>
  <span m='2207790'>query</span> <span m='2208090'>q</span> <span m='2208960'>among</span>
  <span m='2209290'>the</span> <span m='2209430'>xi's.</span> </p><p><span m='2211910'>Now,</span>
  <span m='2212190'>there</span> <span m='2212310'>are</span> <span m='2212360'>several</span>
  <span m='2212710'>things</span> <span m='2213130'>left</span> <span m='2213370'>to</span>
  <span m='2213520'>be</span> <span m='2213640'>done</span> <span m='2213940'>in</span>
  <span m='2214060'>a</span> <span m='2214120'>reasonable</span> <span m='2214570'>way.</span>
  <span m='2215200'>One</span> <span m='2215470'>is</span> <span m='2215770'>how</span>
  <span m='2215980'>do</span> <span m='2216070'>we</span> <span m='2216190'>compute</span>
  <span m='2216550'>sketches.</span> <span m='2218530'>How</span> <span m='2218590'>do</span>
  <span m='2218710'>we</span> <span m='2218800'>do</span> <span m='2219280'>this</span>
  <span m='2219430'>kind</span> <span m='2219580'>of</span> <span m='2219670'>operation</span>
  <span m='2220210'>of</span> <span m='2221050'>taking</span> <span m='2221350'>the</span>
  <span m='2221440'>bits</span> <span m='2221620'>we</span> <span m='2221740'>care</span>
  <span m='2221950'>about</span> <span m='2222220'>and</span> <span m='2222290'>bringing</span>
  <span m='2222640'>them</span> <span m='2223210'>all</span> <span m='2223360'>next</span>
  <span m='2223630'>to</span> <span m='2223720'>each</span> <span m='2223870'>other?</span>
  <span m='2226220'>Second</span> <span m='2226540'>thing</span> <span m='2226780'>is,</span>
  <span m='2226990'>how</span> <span m='2227170'>do</span> <span m='2227290'>we</span>
  <span m='2227410'>do</span> <span m='2227590'>this</span> <span m='2227830'>find?</span>
  <span m='2228250'>This</span> <span m='2228520'>parallel</span> <span m='2228910'>comparison.</span>
  <span m='2230260'>So it's</span> <span m='2230440'>basically</span> <span m='2230770'>all</span>
  <span m='2230890'>the</span> <span m='2230980'>bullets</span> <span m='2231710'>up</span>
  <span m='2231980'>here.</span> <span m='2232990'>We</span> <span m='2233110'>have</span>
  <span m='2233860'>how</span> <span m='2234040'>do</span> <span m='2234130'>we</span>
  <span m='2234220'>do</span> <span m='2234370'>a</span> <span m='2234400'>sketch,</span>
  <span m='2235810'>how</span> <span m='2235960'>do</span> <span m='2236050'>we</span>
  <span m='2236110'>do</span> <span m='2236230'>parallel</span> <span m='2236590'>comparison</span>
  <span m='2237280'>to</span> <span m='2237400'>find</span> <span m='2237790'>where</span>
  <span m='2238150'>one</span> <span m='2238390'>sketch</span> <span m='2238750'>fits</span>
  <span m='2239020'>among</span> <span m='2239320'>many</span> <span m='2239590'>sketches,</span>
  <span m='2241180'>and</span> <span m='2241450'>there's</span> <span m='2241630'>also</span>
  <span m='2241880'>a</span> <span m='2241930'>most</span> <span m='2242170'>significant</span>
  <span m='2242710'>set</span> <span m='2242980'>bit.</span> <span m='2243220'>Where</span>
  <span m='2243370'>did</span> <span m='2243550'>we</span> <span m='2243670'>do</span>
  <span m='2243820'>that?</span> <span m='2244900'>In</span> <span m='2245110'>computing</span>
  <span m='2245740'>the</span> <span m='2245860'>longest</span> <span m='2246340'>common</span>
  <span m='2246730'>prefix.</span> </p><p><span m='2248350'>So</span> <span m='2248500'>if</span>
  <span m='2248580'>you</span> <span m='2248740'>have</span> <span m='2248980'>two</span>
  <span m='2249130'>bit</span> <span m='2249340'>strings</span> <span m='2249730'>and
  you</span> <span m='2249850'>want</span> <span m='2250030'>to</span> <span m='2250090'>know</span>
  <span m='2250660'>where</span> <span m='2250900'>did</span> <span m='2251020'>they</span>
  <span m='2251170'>first</span> <span m='2251530'>differ,</span> <span m='2252970'>the</span>
  <span m='2253060'>natural</span> <span m='2253390'>way</span> <span m='2253480'>to</span>
  <span m='2253600'>do</span> <span m='2253720'>that</span> <span m='2253790'>is</span>
  <span m='2253960'>compute</span> <span m='2254320'>the</span> <span m='2254470'>XOR,</span>
  <span m='2255730'>which</span> <span m='2256000'>gives</span> <span m='2256150'>you</span>
  <span m='2256240'>all</span> <span m='2256330'>the</span> <span m='2256450'>differing</span>
  <span m='2256840'>bits.</span> <span m='2257170'>And</span> <span m='2257320'>then</span>
  <span m='2257440'>find</span> <span m='2257650'>the</span> <span m='2257770'>first</span>
  <span m='2258130'>one</span> <span m='2258370'>bit</span> <span m='2258670'>from</span>
  <span m='2258910'>the</span> <span m='2259000'>left.</span> <span m='2260230'>So</span>
  <span m='2260380'>this</span> <span m='2260650'>is</span> <span m='2260800'>really</span>
  <span m='2262210'>most</span> <span m='2262450'>significant</span> <span m='2263080'>set</span>
  <span m='2263380'>bit.</span> <span m='2268630'>So,</span> <span m='2268780'>we</span>
  <span m='2268870'>need</span> <span m='2269080'>that</span> <span m='2269290'>operation.</span>
  <span m='2274760'>So,</span> <span m='2275130'>we</span> <span m='2275250'>have</span>
  <span m='2275400'>our</span> <span m='2275490'>work</span> <span m='2275670'>cut</span>
  <span m='2275850'>out</span> <span m='2276000'>for</span> <span m='2276210'>us.</span>
  <span m='2276610'>But</span> <span m='2277140'>the</span> <span m='2277290'>overall</span>
  <span m='2277620'>picture</span> <span m='2278000'>of</span> <span m='2278100'>fusion</span>
  <span m='2278330'>trees</span> <span m='2278580'>should</span> <span m='2278790'>now</span>
  <span m='2278970'>be</span> <span m='2279120'>clear.</span> <span m='2280740'>It</span>
  <span m='2280860'>just</span> <span m='2281040'>remains</span> <span m='2281460'>to</span>
  <span m='2281580'>do</span> <span m='2281850'>these</span> <span m='2282120'>three</span>
  <span m='2282360'>things.</span> <span m='2283090'>And</span> <span m='2283140'>this</span>
  <span m='2283350'>is</span> <span m='2283470'>where</span> <span m='2284720'>the</span>
  <span m='2285030'>engineering</span> <span m='2285660'>comes</span> <span m='2285960'>in,</span>
  <span m='2286090'>I</span> <span m='2286170'>would</span> <span m='2286290'>say.</span>
  <span m='2289010'>Any</span> <span m='2289190'>questions</span> <span m='2289640'>about</span>
  <span m='2289940'>the</span> <span m='2291050'>big</span> <span m='2291230'>picture?</span>
  </p><p><span m='2310980'>So,</span> <span m='2311630'>the</span> <span m='2311750'>first</span>
  <span m='2311960'>thing</span> <span m='2312140'>I'm</span> <span m='2312200'>going</span>
  <span m='2312320'>to</span> <span m='2312410'>do</span> <span m='2312590'>is</span>
  <span m='2312710'>sketch.</span> <span m='2314840'>And</span> <span m='2315320'>as</span>
  <span m='2315560'>I've</span> <span m='2316220'>hinted</span> <span m='2316450'>at</span>
  <span m='2316670'>in</span> <span m='2316790'>the</span> <span m='2316880'>outline</span>
  <span m='2317240'>here,</span> <span m='2317360'>we're</span> <span m='2317480'>not</span>
  <span m='2317630'>going</span> <span m='2317750'>to</span> <span m='2317840'>do</span>
  <span m='2317960'>a</span> <span m='2317990'>perfect</span> <span m='2318380'>sketch.</span>
  <span m='2318740'>We're</span> <span m='2318830'>going</span> <span m='2318950'>to</span>
  <span m='2319070'>do</span> <span m='2319220'>an</span> <span m='2319310'>approximate</span>
  <span m='2319880'>sketch.</span> <span m='2323810'>This</span> <span m='2323990'>will</span>
  <span m='2324110'>probably</span> <span m='2324470'>be</span> <span m='2324650'>the</span>
  <span m='2324770'>most</span> <span m='2325070'>work</span> <span m='2325790'>among</span>
  <span m='2326090'>any</span> <span m='2326240'>of</span> <span m='2326300'>these</span>
  <span m='2326480'>operations.</span> <span m='2327090'>Parallel</span> <span m='2327380'>comparison</span>
  <span m='2327860'>is</span> <span m='2327920'>actually</span> <span m='2328250'>quite</span>
  <span m='2328520'>easy.</span> <span m='2331430'>Sketching</span> <span m='2332030'>is,</span>
  <span m='2332550'>I</span> <span m='2332650'>think,</span> <span m='2332820'>the</span>
  <span m='2332920'>biggest</span> <span m='2333140'>insight</span> <span m='2334100'>in</span>
  <span m='2334240'>Fusion</span> <span m='2334580'>trees.</span> <span m='2337340'>So,</span>
  <span m='2339170'>perfect</span> <span m='2339530'>sketch</span> <span m='2340460'>takes</span>
  <span m='2340790'>just</span> <span m='2341120'>the</span> <span m='2341240'>bits</span>
  <span m='2341450'>you</span> <span m='2341540'>care</span> <span m='2341750'>about</span>
  <span m='2342920'>that</span> <span m='2343070'>we</span> <span m='2343190'>need.</span>
  <span m='2343400'>We</span> <span m='2343520'>only</span> <span m='2343760'>want</span>
  <span m='2343910'>to</span> <span m='2343970'>look</span> <span m='2344150'>at</span>
  <span m='2344240'>the</span> <span m='2344360'>bits</span> <span m='2344570'>we</span>
  <span m='2344690'>care</span> <span m='2344870'>about.</span> </p><p><span m='2345050'>But</span>
  <span m='2345170'>it's</span> <span m='2345290'>easy</span> <span m='2345530'>to</span>
  <span m='2345620'>look</span> <span m='2345800'>at</span> <span m='2345860'>the</span>
  <span m='2345980'>bits</span> <span m='2346160'>we</span> <span m='2346250'>care</span>
  <span m='2346430'>about.</span> <span m='2346660'>We</span> <span m='2346790'>can</span>
  <span m='2346970'>apply</span> <span m='2347300'>a</span> <span m='2347360'>mask,</span>
  <span m='2348320'>and</span> <span m='2348440'>just</span> <span m='2348650'>AND</span>
  <span m='2348980'>out</span> <span m='2349280'>the</span> <span m='2349370'>bits</span>
  <span m='2349610'>we</span> <span m='2349700'>care</span> <span m='2349880'>about.</span>
  <span m='2350090'>Everything</span> <span m='2350450'>else</span> <span m='2350630'>we</span>
  <span m='2350720'>can</span> <span m='2350870'>zero</span> <span m='2351180'>out.</span>
  <span m='2352040'>So</span> <span m='2352160'>that's</span> <span m='2352310'>easy.</span>
  <span m='2352670'>The</span> <span m='2352790'>hard</span> <span m='2353000'>part</span>
  <span m='2353210'>is</span> <span m='2353330'>compression,</span> <span m='2354530'>taking</span>
  <span m='2354830'>these</span> <span m='2355040'>four</span> <span m='2355280'>bits</span>
  <span m='2356480'>and</span> <span m='2356780'>making</span> <span m='2357170'>them</span>
  <span m='2357290'>four</span> <span m='2357650'>consecutive</span> <span m='2358220'>bits.</span>
  <span m='2358950'>But</span> <span m='2359260'>they</span> <span m='2359390'>don't</span>
  <span m='2359690'>really</span> <span m='2360080'>need</span> <span m='2360230'>to</span>
  <span m='2360320'>be</span> <span m='2360470'>consecutive.</span> <span m='2361370'>If</span>
  <span m='2361550'>I</span> <span m='2362480'>added</span> <span m='2362810'>in</span>
  <span m='2363530'>some</span> <span m='2363800'>0's</span> <span m='2364340'>here</span>
  <span m='2365930'>in</span> <span m='2366080'>a</span> <span m='2366170'>consistent</span>
  <span m='2366710'>pattern</span> <span m='2368810'>that</span> <span m='2368990'>would</span>
  <span m='2369110'>still</span> <span m='2369410'>work.</span> <span m='2369770'>I'd</span>
  <span m='2369890'>still</span> <span m='2370100'>preserve</span> <span m='2370490'>the</span>
  <span m='2370610'>order</span> <span m='2370880'>among</span> <span m='2371090'>the</span>
  <span m='2371180'>sketches.</span> <span m='2371630'>And</span> <span m='2371750'>that's</span>
  <span m='2371930'>all</span> <span m='2372050'>I</span> <span m='2372140'>care</span>
  <span m='2372350'>about.</span> <span m='2373350'>And</span> <span m='2373370'>this</span>
  <span m='2373580'>is</span> <span m='2373670'>where</span> <span m='2373820'>I'm</span>
  <span m='2373880'>going</span> <span m='2374030'>to</span> <span m='2374120'>use</span>
  <span m='2374360'>the</span> <span m='2374480'>slop</span> <span m='2374900'>I</span>
  <span m='2375020'>have.</span> <span m='2375350'>Because</span> <span m='2375530'>right</span>
  <span m='2375710'>now</span> <span m='2375890'>I</span> <span m='2375950'>have</span>
  <span m='2376700'>w</span> <span m='2377060'>to</span> <span m='2377200'>the</span>
  <span m='2377330'>1/5</span> <span m='2377990'>keys.</span> <span m='2379260'>If</span>
  <span m='2379310'>I</span> <span m='2379370'>did</span> <span m='2379550'>perfect</span>
  <span m='2379940'>sketch,</span> <span m='2380480'>the</span> <span m='2380570'>total</span>
  <span m='2380900'>number</span> <span m='2381140'>of</span> <span m='2381200'>bits</span>
  <span m='2381410'>would</span> <span m='2381530'>only</span> <span m='2381710'>be</span>
  <span m='2381830'>w</span> <span m='2382130'>to</span> <span m='2382250'>the</span>
  <span m='2382370'>2/5.</span> <span m='2382970'>But</span> <span m='2383090'>I</span>
  <span m='2383180'>can</span> <span m='2383330'>go</span> <span m='2383420'>up</span>
  <span m='2383540'>to</span> <span m='2383630'>w.</span> </p><p><span m='2385010'>So</span>
  <span m='2385220'>what</span> <span m='2385370'>I'm</span> <span m='2385430'>going</span>
  <span m='2385550'>to</span> <span m='2385640'>do</span> <span m='2385970'>is</span>
  <span m='2388550'>basically</span> <span m='2391010'>spread</span> <span m='2391460'>out</span>
  <span m='2391760'>the</span> <span m='2391850'>bits,</span> <span m='2393230'>the</span>
  <span m='2393320'>important</span> <span m='2393680'>bits,</span> <span m='2402170'>in</span>
  <span m='2402350'>a</span> <span m='2402470'>predictable</span> <span m='2403040'>pattern</span>
  <span m='2411140'>of</span> <span m='2411530'>length</span> <span m='2414390'>w</span>
  <span m='2414820'>to</span> <span m='2414980'>the</span> <span m='2415070'>4/5.</span>
  <span m='2419690'>Predictable</span> <span m='2420240'>just</span> <span m='2420410'>means</span>
  <span m='2420640'>it</span> <span m='2420710'>doesn't</span> <span m='2420950'>depend</span>
  <span m='2421310'>on</span> <span m='2421400'>what</span> <span m='2421580'>x</span>
  <span m='2421850'>is.</span> <span m='2422450'>So</span> <span m='2423250'>when</span>
  <span m='2423460'>there</span> <span m='2423620'>are</span> <span m='2423680'>extra</span>
  <span m='2424040'>0's</span> <span m='2424490'>here,</span> <span m='2425990'>you</span>
  <span m='2426110'>know</span> <span m='2426260'>that's</span> <span m='2426470'>fine.</span>
  <span m='2428120'>But</span> <span m='2429320'>there's</span> <span m='2429500'>always</span>
  <span m='2429710'>going</span> <span m='2429860'>to</span> <span m='2429920'>be</span>
  <span m='2429980'>two 0's</span> <span m='2430460'>here,</span> <span m='2430670'>one</span>
  <span m='2430880'>0 here,</span> <span m='2431220'>three</span> <span m='2431560'>0's</span>
  <span m='2431900'>here,</span> <span m='2432110'>no</span> <span m='2432230'>matter</span>
  <span m='2432470'>what</span> <span m='2432680'>x</span> <span m='2433100'>was.</span>
  <span m='2434300'>As long</span> <span m='2434540'>as</span> <span m='2434630'>it's</span>
  <span m='2434750'>predictable,</span> <span m='2435300'>I'm</span> <span m='2435380'>going</span>
  <span m='2435530'>to</span> <span m='2435590'>preserve</span> <span m='2435950'>order.</span>
  <span m='2437100'>And</span> <span m='2437240'>as</span> <span m='2437360'>long</span>
  <span m='2437540'>as</span> <span m='2437620'>it's</span> <span m='2437750'>length</span>
  <span m='2438040'>order</span> <span m='2438300'>w</span> <span m='2438560'>to</span>
  <span m='2438730'>the</span> <span m='2438860'>4/5,</span> <span m='2439960'>if
  I</span> <span m='2440090'>take</span> <span m='2440270'>w</span> <span m='2440540'>to</span>
  <span m='2440660'>the</span> <span m='2440750'>1/5</span> <span m='2441170'>of</span>
  <span m='2441230'>them,</span> <span m='2442070'>that</span> <span m='2442190'>will</span>
  <span m='2442310'>still</span> <span m='2442520'>fit</span> <span m='2442790'>in</span>
  <span m='2442970'>a</span> <span m='2443030'>constant</span> <span m='2443360'>number</span>
  <span m='2443570'>of</span> <span m='2443630'>words.</span> <span m='2444050'>Because
  it</span> <span m='2444340'>will</span> <span m='2444500'>be</span> <span m='2444650'>order</span>
  <span m='2444920'>w</span> <span m='2445250'>bits</span> <span m='2445490'>total.</span>
  <span m='2447390'>So</span> <span m='2447560'>that's</span> <span m='2447860'>what</span>
  <span m='2448010'>I</span> <span m='2448070'>can</span> <span m='2448220'>afford.</span>
  <span m='2449020'>And</span> <span m='2449340'>now</span> <span m='2449570'>I'm</span>
  <span m='2449660'>going</span> <span m='2449870'>to</span> <span m='2449960'>do</span>
  <span m='2450110'>it.</span> </p><p><span m='2452480'>So</span> <span m='2452900'>here's</span>
  <span m='2453140'>how.</span> <span m='2455900'>First</span> <span m='2456140'>thing,</span>
  <span m='2456570'>as</span> <span m='2456740'>I</span> <span m='2456800'>said,</span>
  <span m='2457170'>is</span> <span m='2457270'>we're</span> <span m='2457370'>going</span>
  <span m='2457470'>to</span> <span m='2457570'>mask</span> <span m='2458630'>the</span>
  <span m='2458720'>important</span> <span m='2459200'>bits.</span> <span m='2464600'>I</span>
  <span m='2464720'>just</span> <span m='2464930'>want</span> <span m='2465140'>the</span>
  <span m='2465200'>important</span> <span m='2465560'>bits.</span> <span m='2465800'>I</span>
  <span m='2465860'>should</span> <span m='2466040'>throw</span> <span m='2466220'>away</span>
  <span m='2466430'>all</span> <span m='2466550'>the</span> <span m='2466700'>others.</span>
  <span m='2467660'>And</span> <span m='2467810'>so</span> <span m='2467990'>this</span>
  <span m='2468200'>is</span> <span m='2468320'>going</span> <span m='2468590'>to</span>
  <span m='2468710'>be</span> <span m='2470210'>x</span> <span m='2470450'>prime</span>
  <span m='2473390'>equals</span> <span m='2473780'>x</span> <span m='2475220'>bit-wise</span>
  <span m='2475790'>AND.</span> <span m='2485590'>And</span> <span m='2485750'>here's</span>
  <span m='2485960'>where</span> <span m='2486070'>I'm</span> <span m='2486130'>going</span>
  <span m='2486240'>to</span> <span m='2486350'>use</span> <span m='2486530'>the</span>
  <span m='2486620'>notation</span> <span m='2487190'>that</span> <span m='2487340'>the</span>
  <span m='2487430'>bits</span> <span m='2487670'>count</span> <span m='2487940'>from</span>
  <span m='2488090'>the</span> <span m='2488180'>right.</span> <span m='2489080'>I</span>
  <span m='2489170'>want</span> <span m='2490190'>the</span> <span m='2490280'>bi-th</span>
  <span m='2490730'>bit</span> <span m='2491210'>to</span> <span m='2491360'>correspond</span>
  <span m='2491900'>to</span> <span m='2492080'>the</span> <span m='2492200'>value</span>
  <span m='2492680'>2</span> <span m='2492920'>to</span> <span m='2493010'>the</span>
  <span m='2493130'>bi.</span> <span m='2494510'>This</span> <span m='2494990'>thing</span>
  <span m='2496250'>is</span> <span m='2496460'>just</span> <span m='2496640'>a</span>
  <span m='2496700'>bit</span> <span m='2496880'>string.</span> <span m='2497730'>It</span>
  <span m='2498440'>has</span> <span m='2498650'>1's</span> <span m='2499760'>wherever</span>
  <span m='2500210'>the</span> <span m='2500330'>important</span> <span m='2500750'>bits</span>
  <span m='2501020'>are.</span> <span m='2501920'>So</span> <span m='2502020'>if</span>
  <span m='2502100'>this</span> <span m='2502310'>is</span> <span m='2502830'>the</span>
  <span m='2503160'>b0,</span> <span m='2504820'>b1,</span> <span m='2506810'>b2,</span>
  <span m='2507530'>and</span> <span m='2507850'>b3;</span> <span m='2509180'>I</span>
  <span m='2509270'>just</span> <span m='2509450'>want</span> <span m='2509660'>this</span>
  <span m='2509840'>bit</span> <span m='2510050'>string.</span> <span m='2512000'>I</span>
  <span m='2512090'>mean,</span> <span m='2512280'>you</span> <span m='2512380'>can</span>
  <span m='2512480'>think</span> <span m='2512510'>of</span> <span m='2512570'>this</span>
  <span m='2512750'>as</span> <span m='2512870'>1</span> <span m='2513170'>shifted</span>
  <span m='2513560'>left</span> <span m='2513770'>bi</span> <span m='2514100'>times.</span>
  <span m='2515360'>So</span> <span m='2515510'>I</span> <span m='2515600'>get</span>
  <span m='2515810'>1's</span> <span m='2516170'>in</span> <span m='2516260'>exactly</span>
  <span m='2516680'>the</span> <span m='2516800'>positions</span> <span m='2517250'>I</span>
  <span m='2517340'>care</span> <span m='2517550'>about.</span> <span m='2517950'>And</span>
  <span m='2518050'>if</span> <span m='2518060'>I</span> <span m='2518120'>bit-wise</span>
  <span m='2518540'>AND</span> <span m='2518720'>that</span> <span m='2518870'>with</span>
  <span m='2519020'>x</span> <span m='2519290'>it</span> <span m='2519530'>zeros</span>
  <span m='2519890'>out</span> <span m='2520010'>all</span> <span m='2520130'>the</span>
  <span m='2520250'>other</span> <span m='2520400'>bits.</span> <span m='2521130'>This</span>
  <span m='2521210'>is</span> <span m='2521300'>what</span> <span m='2521450'>we</span>
  <span m='2521540'>call</span> <span m='2521930'>masking.</span> </p><p><span m='2525950'>So</span>
  <span m='2526160'>that's</span> <span m='2526580'>the</span> <span m='2526820'>obvious</span>
  <span m='2527150'>thing</span> <span m='2527330'>to</span> <span m='2527420'>do.</span>
  <span m='2528480'>And</span> <span m='2528530'>then</span> <span m='2528650'>the</span>
  <span m='2528740'>second</span> <span m='2529070'>idea</span> <span m='2529430'>is</span>
  <span m='2531420'>multiplication.</span> <span m='2534100'>And</span> <span m='2534280'>it's</span>
  <span m='2534400'>just</span> <span m='2534580'>like,</span> <span m='2534760'>well,</span>
  <span m='2535300'>maybe</span> <span m='2535570'>we</span> <span m='2535660'>could</span>
  <span m='2535780'>do it</span> <span m='2535900'>with</span> <span m='2536040'>a</span>
  <span m='2536110'>multiply,</span> <span m='2537190'>and</span> <span m='2537340'>then</span>
  <span m='2537940'>we'll</span> <span m='2538060'>just</span> <span m='2538450'>work</span>
  <span m='2538660'>it</span> <span m='2538750'>out.</span> <span m='2539060'>And</span>
  <span m='2539160'>the</span> <span m='2539260'>answer</span> <span m='2539350'>is</span>
  <span m='2539470'>yes,</span> <span m='2539740'>you</span> <span m='2539860'>can</span>
  <span m='2539980'>do</span> <span m='2540070'>it</span> <span m='2540130'>with</span>
  <span m='2540240'>a</span> <span m='2540310'>multiply.</span> <span m='2541290'>So</span>
  <span m='2542800'>that</span> <span m='2543010'>I</span> <span m='2543070'>imagine</span>
  <span m='2543430'>was</span> <span m='2543580'>the</span> <span m='2543670'>big</span>
  <span m='2543850'>insight</span> <span m='2544480'>was</span> <span m='2544780'>to</span>
  <span m='2545020'>see</span> <span m='2545290'>that</span> <span m='2545440'>multiplication</span>
  <span m='2546190'>is</span> <span m='2546280'>a</span> <span m='2546340'>very</span>
  <span m='2546490'>powerful</span> <span m='2546940'>operation.</span> <span m='2549520'>So</span>
  <span m='2549620'>we're</span> <span m='2549720'>just</span> <span m='2549760'>going</span>
  <span m='2549910'>to</span> <span m='2549970'>do</span> <span m='2550240'>x</span>
  <span m='2550570'>prime</span> <span m='2551290'>times</span> <span m='2551810'>some</span>
  <span m='2552190'>number</span> <span m='2552460'>m.</span> <span m='2553450'>And</span>
  <span m='2553540'>we're</span> <span m='2553600'>going</span> <span m='2553720'>to</span>
  <span m='2553780'>prove</span> <span m='2554140'>that</span> <span m='2554290'>there</span>
  <span m='2554410'>exists</span> <span m='2554770'>a</span> <span m='2554800'>number</span>
  <span m='2555100'>m</span> <span m='2555430'>that</span> <span m='2555580'>does</span>
  <span m='2555940'>what</span> <span m='2556090'>we</span> <span m='2556210'>need.</span>
  <span m='2557660'>So</span> <span m='2557860'>I'm</span> <span m='2557950'>going</span>
  <span m='2558070'>to</span> <span m='2558160'>write</span> <span m='2558400'>this</span>
  <span m='2558610'>out</span> <span m='2558760'>a</span> <span m='2558820'>little</span>
  <span m='2559030'>bit</span> <span m='2559900'>algebraically.</span> <span m='2561200'>So</span>
  <span m='2561220'>we</span> <span m='2561310'>can</span> <span m='2561400'>think</span>
  <span m='2561610'>about</span> <span m='2561850'>what</span> <span m='2562070'>m</span>
  <span m='2562300'>might</span> <span m='2562510'>be.</span> </p><p><span m='2564890'>Now</span>
  <span m='2565090'>x</span> <span m='2565330'>prime</span> <span m='2565720'>only</span>
  <span m='2566080'>has</span> <span m='2566710'>the</span> <span m='2566800'>important</span>
  <span m='2567190'>bits.</span> <span m='2568280'>So</span> <span m='2568390'>we</span>
  <span m='2568540'>can</span> <span m='2568720'>write</span> <span m='2568930'>that</span>
  <span m='2569230'>as</span> <span m='2569560'>a</span> <span m='2569620'>sum</span>
  <span m='2570740'>i</span> <span m='2571240'>equals</span> <span m='2571900'>0</span>
  <span m='2573220'>to</span> <span m='2573370'>r</span> <span m='2573610'>minus</span>
  <span m='2574000'>1</span> <span m='2575896'>of</span> <span m='2576370'>xbi</span>
  <span m='2579800'>2</span> <span m='2580620'>to the</span> <span m='2580990'>bi.</span>
  <span m='2582010'>So</span> <span m='2582130'>I</span> <span m='2582160'>am</span>
  <span m='2582220'>introducing</span> <span m='2582730'>some</span> <span m='2582880'>notation</span>
  <span m='2583290'>here.</span> <span m='2583480'>xbi,</span> <span m='2584500'>is</span>
  <span m='2584710'>that</span> <span m='2584950'>important</span> <span m='2585400'>bit</span>
  <span m='2585640'>bi</span> <span m='2586720'>1</span> <span m='2586960'>or</span>
  <span m='2587020'>0?</span> <span m='2588840'>This</span> <span m='2588940'>is</span>
  <span m='2589030'>just</span> <span m='2589270'>a</span> <span m='2589390'>de-reference</span>
  <span m='2590140'>of</span> <span m='2590380'>the</span> <span m='2591220'>bit</span>
  <span m='2591400'>vector</span> <span m='2592690'>or</span> <span m='2592770'>a</span>
  <span m='2592840'>bit</span> <span m='2592990'>string.</span> <span m='2595090'>And</span>
  <span m='2595180'>so</span> <span m='2595300'>you</span> <span m='2595420'>multiply</span>
  <span m='2595840'>that</span> <span m='2596050'>by</span> <span m='2596380'>that</span>
  <span m='2596590'>position.</span> <span m='2597240'>I</span> <span m='2597520'>mean</span>
  <span m='2597730'>this</span> <span m='2598000'>the</span> <span m='2598480'>definition</span>
  <span m='2598960'>of</span> <span m='2599020'>binary</span> <span m='2599320'>notation,</span>
  <span m='2599900'>right?</span> <span m='2600820'>But</span> <span m='2601030'>we</span>
  <span m='2601150'>only</span> <span m='2601360'>care</span> <span m='2601540'>about</span>
  <span m='2601690'>the</span> <span m='2601780'>important</span> <span m='2602140'>bits.</span>
  <span m='2602440'>Because</span> <span m='2602680'>only</span> <span m='2602920'>those</span>
  <span m='2603130'>are</span> <span m='2603220'>set.</span> <span m='2603910'>So</span>
  <span m='2604090'>that's</span> <span m='2604300'>x</span> <span m='2604510'>prime.</span>
  </p><p><span m='2605410'>And</span> <span m='2605530'>then</span> <span m='2605680'>we're</span>
  <span m='2605770'>multiplying</span> <span m='2606400'>that</span> <span m='2607360'>by</span>
  <span m='2607810'>m.</span> <span m='2608440'>Now</span> <span m='2608620'>m</span>
  <span m='2608980'>could</span> <span m='2609160'>have</span> <span m='2609310'>any</span>
  <span m='2609520'>bit</span> <span m='2609950'>set.</span> <span m='2611110'>So</span>
  <span m='2611560'>I'm</span> <span m='2611800'>going</span> <span m='2612070'>to--</span>
  <span m='2614010'>but</span> <span m='2614230'>I'm</span> <span m='2614290'>going</span>
  <span m='2614410'>to</span> <span m='2614470'>write it</span> <span m='2614680'>like</span>
  <span m='2615010'>this.</span> <span m='2634160'>I'm</span> <span m='2634250'>going</span>
  <span m='2634460'>to</span> <span m='2634530'>assume</span> <span m='2635010'>that</span>
  <span m='2635400'>m</span> <span m='2636180'>only</span> <span m='2636540'>has</span>
  <span m='2637080'>r</span> <span m='2637380'>bits</span> <span m='2637830'>set,</span>
  <span m='2638670'>same</span> <span m='2639120'>as</span> <span m='2640620'>the</span>
  <span m='2640740'>number</span> <span m='2640950'>of</span> <span m='2641040'>important</span>
  <span m='2641460'>bits,</span> <span m='2641950'>r</span> <span m='2642100'>is</span>
  <span m='2642270'>a</span> <span m='2642360'>number</span> <span m='2642570'>of</span>
  <span m='2642660'>important</span> <span m='2643020'>bits.</span> <span m='2650640'>But</span>
  <span m='2650890'>I</span> <span m='2650950'>don't</span> <span m='2651100'>know</span>
  <span m='2651220'>where</span> <span m='2651340'>they</span> <span m='2651550'>are.</span>
  <span m='2651740'>So</span> <span m='2651910'>I'm</span> <span m='2652000'>just</span>
  <span m='2652150'>going</span> <span m='2652270'>to</span> <span m='2652330'>suppose</span>
  <span m='2652810'>they're</span> <span m='2653080'>at</span> <span m='2653170'>positions</span>
  <span m='2653950'>m0,</span> <span m='2654460'>m1,</span> <span m='2654850'>up</span>
  <span m='2655000'>to</span> <span m='2655120'>mr</span> <span m='2655420'>minus</span>
  <span m='2655750'>1.</span> <span m='2656440'>I've</span> <span m='2656530'>got</span>
  <span m='2656620'>to</span> <span m='2656710'>find</span> <span m='2657220'>what</span>
  <span m='2657430'>these</span> <span m='2657610'>mi's</span> <span m='2657880'>should</span>
  <span m='2658090'>be,</span> <span m='2658840'>or</span> <span m='2659110'>mj's.</span>
  <span m='2660730'>And</span> <span m='2660850'>now</span> <span m='2661060'>just</span>
  <span m='2661210'>taking</span> <span m='2661810'>this</span> <span m='2661990'>product,</span>
  <span m='2662830'>so</span> <span m='2662980'>we</span> <span m='2663070'>can</span>
  <span m='2663220'>expand</span> <span m='2663640'>out</span> <span m='2663790'>the</span>
  <span m='2663880'>product</span> <span m='2664450'>algebraically</span> <span m='2665980'>and</span>
  <span m='2666310'>see</span> <span m='2666490'>what</span> <span m='2666610'>we</span>
  <span m='2666730'>get.</span> </p><p><span m='2686960'>So,</span> <span m='2690100'>what's</span>
  <span m='2690355'>this</span> <span m='2690610'>product?</span> <span m='2691930'>Sum</span>
  <span m='2692770'>i</span> <span m='2693070'>equals</span> <span m='2693280'>0</span>
  <span m='2693600'>to</span> <span m='2693920'>r minus</span> <span m='2694360'>1</span>
  <span m='2695440'>sum</span> <span m='2695820'>j</span> <span m='2696200'>equals</span>
  <span m='2697000'>0</span> <span m='2697570'>to</span> <span m='2697720'>r</span>
  <span m='2697930'>minus</span> <span m='2698280'>1</span> <span m='2699585'>of</span>
  <span m='2700330'>xbi--</span> <span m='2704452'>I</span> <span m='2704880'>mean</span>
  <span m='2705100'>just</span> <span m='2705270'>the</span> <span m='2705340'>product</span>
  <span m='2705730'>of</span> <span m='2705820'>these.</span> <span m='2706210'>So
  2</span> <span m='2706390'>to</span> <span m='2706560'>the</span> <span m='2706870'>bi</span>
  <span m='2707530'>plus</span> <span m='2708040'>mj.</span> <span m='2710320'>That's</span>
  <span m='2710620'>the</span> <span m='2710920'>algebraic</span> <span m='2711430'>product</span>
  <span m='2711850'>of</span> <span m='2711940'>those</span> <span m='2712230'>two
  things.</span> <span m='2712480'>That's</span> <span m='2712660'>why</span> <span
  m='2712840'>I</span> <span m='2712870'>wrote</span> <span m='2713050'>it</span>
  <span m='2713140'>out</span> <span m='2713290'>this</span> <span m='2713440'>way.</span>
  <span m='2713620'>So</span> <span m='2713770'>I</span> <span m='2713830'>can</span>
  <span m='2713980'>see</span> <span m='2714190'>what's</span> <span m='2714370'>going</span>
  <span m='2714640'>on.</span> <span m='2715270'>The</span> <span m='2715720'>point</span>
  <span m='2715930'>is</span> <span m='2716020'>when</span> <span m='2716140'>you</span>
  <span m='2716230'>do</span> <span m='2716350'>multiplication,</span> <span m='2717070'>you're</span>
  <span m='2717190'>doing</span> <span m='2717570'>these</span> <span m='2717730'>pairwise</span>
  <span m='2719620'>products.</span> </p><p><span m='2721140'>Now</span> <span m='2721420'>the</span>
  <span m='2721540'>guys</span> <span m='2721780'>that</span> <span m='2721870'>are</span>
  <span m='2721900'>going</span> <span m='2722020'>to</span> <span m='2722080'>survive</span>
  <span m='2722770'>are</span> <span m='2722860'>the</span> <span m='2722980'>ones</span>
  <span m='2723280'>where</span> <span m='2723430'>the</span> <span m='2723550'>xbi's</span>
  <span m='2724210'>are</span> <span m='2724300'>1,</span> <span m='2724630'>of</span>
  <span m='2724750'>course.</span> <span m='2725890'>But</span> <span m='2726070'>they</span>
  <span m='2726400'>survive</span> <span m='2726910'>in</span> <span m='2727030'>multiple</span>
  <span m='2727420'>places.</span> <span m='2728590'>Essentially</span> <span m='2729160'>the</span>
  <span m='2729340'>mj's</span> <span m='2730420'>shift</span> <span m='2731470'>all</span>
  <span m='2731710'>of</span> <span m='2731800'>those</span> <span m='2732040'>bits</span>
  <span m='2733090'>by</span> <span m='2733300'>various</span> <span m='2733690'>amounts.</span>
  <span m='2735610'>So</span> <span m='2736090'>it</span> <span m='2736180'>used</span>
  <span m='2736450'>to</span> <span m='2736570'>be</span> <span m='2736720'>at</span>
  <span m='2736840'>this</span> <span m='2737020'>position,</span> <span m='2738320'>2</span>
  <span m='2738450'>to</span> <span m='2738550'>the</span> <span m='2738640'>bi.</span>
  <span m='2739510'>But</span> <span m='2739630'>now</span> <span m='2739790'>we're</span>
  <span m='2739870'>shifting</span> <span m='2740230'>it</span> <span m='2740320'>by</span>
  <span m='2740500'>mj</span> <span m='2740860'>for</span> <span m='2741040'>all</span>
  <span m='2741210'>j.</span> <span m='2743140'>So</span> <span m='2743320'>some</span>
  <span m='2743590'>of</span> <span m='2743650'>those</span> <span m='2743830'>bits</span>
  <span m='2744190'>might</span> <span m='2744580'>hit</span> <span m='2744850'>each</span>
  <span m='2745060'>other.</span> <span m='2745960'>Then</span> <span m='2746110'>they</span>
  <span m='2746230'>add</span> <span m='2746500'>up.</span> <span m='2746770'>That's</span>
  <span m='2747010'>really</span> <span m='2747280'>messy.</span> <span m='2748150'>We're</span>
  <span m='2748270'>going</span> <span m='2748480'>to</span> <span m='2748590'>avoid</span>
  <span m='2748900'>that,</span> <span m='2749320'>and</span> <span m='2749470'>design</span>
  <span m='2749830'>the</span> <span m='2749920'>mj's</span> <span m='2750260'>so</span>
  <span m='2750430'>that</span> <span m='2750610'>all</span> <span m='2750880'>of</span>
  <span m='2751000'>these</span> <span m='2751210'>values</span> <span m='2752260'>are</span>
  <span m='2752530'>unique.</span> <span m='2753750'>Therefore,</span> <span m='2754060'>bits</span>
  <span m='2754300'>never</span> <span m='2754630'>hit</span> <span m='2754780'>each</span>
  <span m='2754960'>other.</span> <span m='2756250'>That's</span> <span m='2756430'>step</span>
  <span m='2756760'>one.</span> <span m='2757990'>And</span> <span m='2758080'>then</span>
  <span m='2758230'>furthermore,</span> <span m='2758810'>what</span> <span m='2759010'>we</span>
  <span m='2759280'>care</span> <span m='2759610'>about</span> <span m='2761035'>or</span>
  <span m='2761330'>what</span> <span m='2761680'>we're</span> <span m='2761800'>trying</span>
  <span m='2762130'>to</span> <span m='2762220'>do</span> <span m='2762460'>is</span>
  <span m='2762580'>to</span> <span m='2764170'>get</span> <span m='2764350'>the</span>
  <span m='2764470'>xbi's</span> <span m='2765130'>to</span> <span m='2765360'>appear</span>
  <span m='2765790'>in</span> <span m='2765940'>a</span> <span m='2766000'>nice</span>
  <span m='2766420'>little</span> <span m='2766900'>window,</span> <span m='2768160'>consecutive</span>
  <span m='2768730'>interval</span> <span m='2769660'>of</span> <span m='2770560'>w</span>
  <span m='2770980'>to</span> <span m='2771130'>the</span> <span m='2771260'>4/5</span>
  <span m='2771820'>bits,</span> <span m='2774280'>somehow</span> <span m='2774760'>by</span>
  <span m='2774910'>setting</span> <span m='2775210'>the</span> <span m='2775300'>mj's.</span>
  <span m='2775780'>So</span> <span m='2775960'>let</span> <span m='2776080'>me</span>
  <span m='2776200'>tell</span> <span m='2776350'>you</span> <span m='2776500'>the</span>
  <span m='2776590'>claim,</span> <span m='2777930'>which we</span> <span m='2778490'>will</span>
  <span m='2778660'>prove</span> <span m='2779710'>by</span> <span m='2779920'>induction.</span>
  </p><p><span m='2785790'>So</span> <span m='2785910'>we're</span> <span m='2786040'>given</span>
  <span m='2786400'>these</span> <span m='2786610'>bi's</span> <span m='2787120'>that</span>
  <span m='2787300'>we</span> <span m='2787390'>can't</span> <span m='2787630'>control.</span>
  <span m='2788120'>Those</span> <span m='2788230'>are</span> <span m='2788290'>the</span>
  <span m='2788410'>important</span> <span m='2788800'>bits.</span> <span m='2791860'>And</span>
  <span m='2792220'>the</span> <span m='2792310'>claim</span> <span m='2792640'>is</span>
  <span m='2792910'>we</span> <span m='2793090'>can</span> <span m='2793270'>choose</span>
  <span m='2796100'>the</span> <span m='2796420'>mi's</span> <span m='2804490'>such</span>
  <span m='2804790'>that</span> <span m='2804910'>three</span> <span m='2805150'>properties</span>
  <span m='2805630'>hold.</span> <span m='2807070'>First</span> <span m='2807370'>one</span>
  <span m='2808480'>is</span> <span m='2808720'>that</span> <span m='2809020'>bi</span>
  <span m='2810340'>plus</span> <span m='2810610'>mj</span> <span m='2812290'>are</span>
  <span m='2812530'>distinct</span> <span m='2816250'>for</span> <span m='2816490'>all</span>
  <span m='2817000'>i</span> <span m='2817240'>and</span> <span m='2817360'>j.</span>
  <span m='2819790'>So</span> <span m='2819940'>that</span> <span m='2820120'>was</span>
  <span m='2820330'>that</span> <span m='2820660'>these</span> <span m='2820990'>bits</span>
  <span m='2821290'>don't</span> <span m='2821500'>collide</span> <span m='2821890'>with</span>
  <span m='2822010'>each</span> <span m='2822190'>other.</span> <span m='2822820'>So</span>
  <span m='2822940'>there's</span> <span m='2823090'>no</span> <span m='2823240'>actual</span>
  <span m='2823540'>summation</span> <span m='2824050'>here.</span> <span m='2824200'>These</span>
  <span m='2824550'>sums</span> <span m='2824950'>could</span> <span m='2825090'>then</span>
  <span m='2825280'>be</span> <span m='2825370'>replaced</span> <span m='2825730'>by</span>
  <span m='2825910'>ORs,</span> <span m='2827350'>which</span> <span m='2827560'>makes</span>
  <span m='2827800'>it</span> <span m='2827920'>very</span> <span m='2828130'>easy</span>
  <span m='2828400'>to</span> <span m='2828670'>keep</span> <span m='2828820'>track</span>
  <span m='2829090'>of</span> <span m='2829150'>where</span> <span m='2829300'>the</span>
  <span m='2829390'>bits</span> <span m='2829600'>are</span> <span m='2829690'>going,</span>
  <span m='2829960'>if</span> <span m='2830140'>we</span> <span m='2830230'>can</span>
  <span m='2830350'>achieve</span> <span m='2830650'>this</span> <span m='2830830'>property.</span>
  </p><p><span m='2832540'>Property</span> <span m='2833060'>b</span> <span m='2834760'>is</span>
  <span m='2835030'>that</span> <span m='2848893'>it</span> <span m='2849410'>turns</span>
  <span m='2849650'>out</span> <span m='2849740'>that</span> <span m='2850010'>the</span>
  <span m='2850400'>bits</span> <span m='2850670'>I'm</span> <span m='2850790'>going</span>
  <span m='2850940'>to</span> <span m='2851000'>end</span> <span m='2851180'>up</span>
  <span m='2851300'>caring</span> <span m='2851660'>about</span> <span m='2852280'>our</span>
  <span m='2852410'>b0</span> <span m='2852860'>plus</span> <span m='2853310'>m0,</span>
  <span m='2853800'>b1</span> <span m='2854180'>plus</span> <span m='2854420'>m1,</span>
  <span m='2855350'>and</span> <span m='2855440'>general</span> <span m='2855740'>bi</span>
  <span m='2856070'>plus</span> <span m='2856430'>mi.</span> <span m='2857360'>In</span>
  <span m='2857570'>general,</span> <span m='2857920'>we have</span> <span m='2858050'>bi</span>
  <span m='2858360'>plus</span> <span m='2858680'>mj</span> <span m='2859400'>for</span>
  <span m='2859580'>different</span> <span m='2859940'>values</span> <span m='2860330'>of</span>
  <span m='2860420'>i</span> <span m='2860570'>and</span> <span m='2860690'>j.</span>
  <span m='2861530'>I</span> <span m='2861650'>claim</span> <span m='2861860'>the</span>
  <span m='2861950'>ones</span> <span m='2862190'>I</span> <span m='2862340'>care</span>
  <span m='2862610'>about</span> <span m='2862880'>are</span> <span m='2862970'>the</span>
  <span m='2863090'>ones</span> <span m='2863330'>where</span> <span m='2863540'>i</span>
  <span m='2863690'>and</span> <span m='2863810'>j</span> <span m='2863900'>are</span>
  <span m='2864020'>equal.</span> <span m='2865220'>So I'm</span> <span m='2865320'>going
  to</span> <span m='2865340'>look</span> <span m='2865580'>at</span> <span m='2865640'>these</span>
  <span m='2865820'>bits,</span> <span m='2866120'>and</span> <span m='2866210'>in</span>
  <span m='2866300'>particular</span> <span m='2866780'>I</span> <span m='2866810'>want</span>
  <span m='2867050'>them</span> <span m='2867200'>to</span> <span m='2867320'>appear</span>
  <span m='2867680'>in</span> <span m='2867920'>order</span> <span m='2870860'>in</span>
  <span m='2871010'>the</span> <span m='2871200'>bit</span> <span m='2871500'>string.</span>
  </p><p><span m='2874730'>And</span> <span m='2874910'>then</span> <span m='2875570'>third</span>
  <span m='2875810'>property--</span> <span m='2877376'>I</span> <span m='2877860'>need</span>
  <span m='2878190'>some</span> <span m='2878390'>more</span> <span m='2878510'>space--</span>
  <span m='2881570'>is</span> <span m='2881810'>that</span> <span m='2882020'>if</span>
  <span m='2882230'>I</span> <span m='2882350'>look</span> <span m='2882650'>at</span>
  <span m='2883010'>the</span> <span m='2883280'>span</span> <span m='2884000'>of</span>
  <span m='2884120'>those</span> <span m='2884390'>bits,</span> <span m='2885110'>so
  I</span> <span m='2885200'>look</span> <span m='2885440'>at</span> <span m='2886220'>br</span>
  <span m='2887480'>minus</span> <span m='2887810'>1</span> <span m='2888320'>plus</span>
  <span m='2888620'>mr</span> <span m='2889040'>minus</span> <span m='2889340'>1</span>
  <span m='2890150'>minus</span> <span m='2891770'>b0</span> <span m='2892250'>plus</span>
  <span m='2892760'>m0</span> <span m='2893930'>that</span> <span m='2894170'>is</span>
  <span m='2894380'>the</span> <span m='2894830'>interval</span> <span m='2895400'>that</span>
  <span m='2895580'>these</span> <span m='2895790'>bits</span> <span m='2896030'>span.</span>
  <span m='2897680'>I</span> <span m='2897830'>want</span> <span m='2898100'>that</span>
  <span m='2899180'>to</span> <span m='2899330'>be</span> <span m='2899540'>order</span>
  <span m='2900810'>r</span> <span m='2901190'>to</span> <span m='2901280'>the</span>
  <span m='2901400'>fourth</span> <span m='2901790'>power.</span> <span m='2903380'>Because</span>
  <span m='2903740'>r</span> <span m='2904820'>was</span> <span m='2905120'>w</span>
  <span m='2905390'>to</span> <span m='2905510'>the</span> <span m='2905630'>1/5.</span>
  <span m='2907130'>So this</span> <span m='2907250'>would be</span> <span m='2907580'>order</span>
  <span m='2908310'>w</span> <span m='2908660'>to</span> <span m='2908960'>the</span>
  <span m='2909050'>4/5.</span> <span m='2909710'>That's</span> <span m='2909920'>what</span>
  <span m='2910070'>I</span> <span m='2910130'>need</span> <span m='2910970'>for</span>
  <span m='2911060'>everything</span> <span m='2911360'>to</span> <span m='2911420'>fit</span>
  <span m='2911690'>in.</span> <span m='2915200'>So</span> <span m='2915380'>this</span>
  <span m='2915590'>is</span> <span m='2915680'>guaranteeing</span> <span m='2916250'>that</span>
  <span m='2916610'>these</span> <span m='2916880'>bits</span> <span m='2917810'>are</span>
  <span m='2918980'>the</span> <span m='2919130'>sketch</span> <span m='2919430'>that</span>
  <span m='2919610'>I</span> <span m='2919670'>need.</span> <span m='2921510'>They</span>
  <span m='2921710'>appear</span> <span m='2922040'>in</span> <span m='2922160'>order,</span>
  <span m='2922890'>and</span> <span m='2924560'>they</span> <span m='2924650'>don't</span>
  <span m='2924800'>span</span> <span m='2925040'>a</span> <span m='2925100'>very</span>
  <span m='2925280'>large</span> <span m='2925580'>interval,</span> <span m='2926530'>just</span>
  <span m='2926690'>w</span> <span m='2926960'>to</span> <span m='2927080'>the</span>
  <span m='2927200'>4/5.</span> <span m='2928370'>This</span> <span m='2928520'>is</span>
  <span m='2928580'>what</span> <span m='2928730'>I</span> <span m='2928790'>need</span>
  <span m='2928940'>to</span> <span m='2929000'>prove.</span> <span m='2929300'>If</span>
  <span m='2929390'>I</span> <span m='2929480'>can</span> <span m='2929630'>prove</span>
  <span m='2929840'>this,</span> <span m='2930440'>I</span> <span m='2930500'>have</span>
  <span m='2930650'>approximate</span> <span m='2931160'>sketching.</span> <span m='2933695'>So</span>
  <span m='2934120'>let's</span> <span m='2934280'>prove</span> <span m='2934550'>it.</span>
  </p><p><span m='2959600'>Proof</span> <span m='2960160'>happens</span> <span m='2960580'>in</span>
  <span m='2960700'>two</span> <span m='2960910'>steps.</span> <span m='2962030'>First</span>
  <span m='2962170'>thing</span> <span m='2962320'>I'm</span> <span m='2962410'>going</span>
  <span m='2962530'>to</span> <span m='2962590'>worry</span> <span m='2962800'>about</span>
  <span m='2963010'>is</span> <span m='2963160'>just</span> <span m='2963370'>getting</span>
  <span m='2963670'>these</span> <span m='2963850'>guys</span> <span m='2964150'>distinct.</span>
  <span m='2965890'>Then</span> <span m='2966060'>I'll</span> <span m='2966130'>worry</span>
  <span m='2966310'>about</span> <span m='2966520'>the</span> <span m='2966620'>order</span>
  <span m='2966910'>property.</span> <span m='2968840'>So</span> <span m='2968920'>here's</span>
  <span m='2969190'>how</span> <span m='2969370'>we</span> <span m='2969490'>get</span>
  <span m='2969700'>them</span> <span m='2970340'>distinct.</span> <span m='2971890'>And</span>
  <span m='2972010'>these</span> <span m='2972190'>are</span> <span m='2972280'>going</span>
  <span m='2972400'>to</span> <span m='2972490'>be</span> <span m='2975800'>the</span>
  <span m='2975960'>mi</span> <span m='2976330'>primes,</span> <span m='2977530'>not</span>
  <span m='2977680'>quite</span> <span m='2977920'>the</span> <span m='2978110'>mi's</span>
  <span m='2978430'>that</span> <span m='2978550'>we</span> <span m='2978670'>want.</span>
  <span m='2982450'>They're</span> <span m='2982660'>all</span> <span m='2982780'>going</span>
  <span m='2982930'>to</span> <span m='2983020'>be</span> <span m='2983800'>integers</span>
  <span m='2984940'>less</span> <span m='2985270'>than</span> <span m='2985450'>r</span>
  <span m='2985660'>cubed,</span> <span m='2986900'>greater</span> <span m='2987100'>than</span>
  <span m='2987210'>or</span> <span m='2987250'>equal</span> <span m='2987460'>to</span>
  <span m='2987550'>0,</span> <span m='2990640'>and</span> <span m='2990790'>they're</span>
  <span m='2990880'>going</span> <span m='2991000'>to</span> <span m='2991060'>have</span>
  <span m='2991210'>the</span> <span m='2991330'>property</span> <span m='2991810'>that</span>
  <span m='2993400'>the</span> <span m='2993670'>bi's</span> <span m='2994450'>plus</span>
  <span m='2995020'>mj</span> <span m='2995510'>primes</span> <span m='2997570'>are</span>
  <span m='2997990'>distinct</span> <span m='3002430'>mod</span> <span m='3003735'>r</span>
  <span m='3004170'>cubed.</span> <span m='3006030'>So</span> <span m='3006180'>this</span>
  <span m='3006390'>is</span> <span m='3006450'>a</span> <span m='3006540'>stronger</span>
  <span m='3007020'>version</span> <span m='3007350'>of</span> <span m='3007470'>a.</span>
  <span m='3007740'>We</span> <span m='3007890'>really</span> <span m='3008130'>just</span>
  <span m='3008280'>need</span> <span m='3008430'>them</span> <span m='3008550'>to</span>
  <span m='3008670'>be</span> <span m='3008790'>distinct.</span> <span m='3009990'>But</span>
  <span m='3010260'>to</span> <span m='3010410'>make</span> <span m='3010590'>it</span>
  <span m='3010650'>easier</span> <span m='3010980'>for</span> <span m='3011220'>the</span>
  <span m='3011370'>other</span> <span m='3011610'>steps,</span> <span m='3012060'>we're</span>
  <span m='3012150'>going</span> <span m='3012270'>to</span> <span m='3012810'>force</span>
  <span m='3013080'>them</span> <span m='3013200'>to</span> <span m='3013320'>be</span>
  <span m='3013440'>distinct</span> <span m='3013900'>mod</span> <span m='3014400'>r</span>
  <span m='3014850'>cubed.</span> </p><p><span m='3018390'>How</span> <span m='3018540'>do</span>
  <span m='3018630'>we</span> <span m='3018750'>do</span> <span m='3018870'>this?</span>
  <span m='3020400'>By</span> <span m='3020640'>induction.</span> <span m='3022000'>So</span>
  <span m='3022080'>let's</span> <span m='3022260'>suppose</span> <span m='3023430'>that</span>
  <span m='3023550'>we've</span> <span m='3023760'>picked</span> <span m='3025070'>m0</span>
  <span m='3027000'>up</span> <span m='3027220'>to</span> <span m='3028830'>mt</span>
  <span m='3029790'>minus</span> <span m='3030240'>1.</span> <span m='3031716'>So</span>
  <span m='3032208'>suppose</span> <span m='3032700'>by</span> <span m='3032850'>induction</span>
  <span m='3033270'>that</span> <span m='3033360'>we've</span> <span m='3033540'>done</span>
  <span m='3033720'>that.</span> <span m='3035650'>And</span> <span m='3035670'>now</span>
  <span m='3035900'>our</span> <span m='3036030'>goal</span> <span m='3036390'>is</span>
  <span m='3036540'>to</span> <span m='3036630'>pick</span> <span m='3037450'>mt</span>
  <span m='3038250'>prime.</span> <span m='3041970'>So</span> <span m='3042020'>how</span>
  <span m='3042200'>do</span> <span m='3042290'>we</span> <span m='3042410'>choose</span>
  <span m='3043790'>mt</span> <span m='3044120'>prime?</span> <span m='3046330'>Well,</span>
  <span m='3047570'>what</span> <span m='3047810'>can't</span> <span m='3048200'>it</span>
  <span m='3048320'>be?</span> <span m='3049970'>mt</span> <span m='3050270'>prime</span>
  <span m='3050810'>has</span> <span m='3051110'>to</span> <span m='3051260'>avoid</span>
  <span m='3054860'>basically</span> <span m='3055370'>mi</span> <span m='3056690'>prime,</span>
  <span m='3058070'>and</span> <span m='3058550'>believe</span> <span m='3058910'>minus</span>
  <span m='3059630'>bj</span> <span m='3061070'>plus</span> <span m='3062420'>b--</span>
  <span m='3063611'>we're going</span> <span m='3064010'>to call</span> <span m='3064250'>it</span>
  <span m='3064470'>k?</span> <span m='3065050'>I guess</span> <span m='3065220'>so.</span>
  </p><p><span m='3068990'>If</span> <span m='3069170'>it</span> <span m='3069260'>avoids</span>
  <span m='3069770'>all</span> <span m='3069950'>expressions</span> <span m='3070550'>like</span>
  <span m='3070730'>this,</span> <span m='3072550'>then</span> <span m='3074290'>mt</span>
  <span m='3074740'>prime</span> <span m='3075970'>plus</span> <span m='3076690'>bj</span>
  <span m='3078010'>will</span> <span m='3078190'>be</span> <span m='3078340'>different</span>
  <span m='3078760'>from</span> <span m='3079240'>mi</span> <span m='3079600'>prime</span>
  <span m='3080110'>plus</span> <span m='3080470'>bk.</span> <span m='3081170'>In</span>
  <span m='3081540'>other</span> <span m='3081730'>words,</span> <span m='3082480'>all</span>
  <span m='3082660'>of</span> <span m='3082780'>these</span> <span m='3082990'>things</span>
  <span m='3083290'>will</span> <span m='3083410'>be</span> <span m='3083560'>distinct.</span>
  <span m='3083980'>So</span> <span m='3084120'>it has</span> <span m='3084340'>to</span>
  <span m='3084730'>avoid</span> <span m='3085060'>this</span> <span m='3085670'>modulo</span>
  <span m='3086500'>r</span> <span m='3086770'>cubed.</span> <span m='3089560'>If</span>
  <span m='3089650'>I</span> <span m='3089710'>can</span> <span m='3089860'>avoid</span>
  <span m='3090220'>all</span> <span m='3090430'>of</span> <span m='3090520'>these</span>
  <span m='3090820'>things--</span> <span m='3091910'>so</span> <span m='3091960'>this</span>
  <span m='3092140'>is</span> <span m='3092260'>for</span> <span m='3092470'>all</span>
  <span m='3094060'>ijk--</span> <span m='3098010'>if</span> <span m='3098140'>I</span>
  <span m='3098200'>can</span> <span m='3098320'>choose</span> <span m='3098530'>mt</span>
  <span m='3098800'>prime</span> <span m='3099070'>to</span> <span m='3099190'>avoid</span>
  <span m='3099490'>all</span> <span m='3099640'>those,</span> <span m='3100600'>then</span>
  <span m='3100750'>I'm</span> <span m='3100900'>happy.</span> <span m='3103260'>Because</span>
  <span m='3103470'>then</span> <span m='3104010'>these</span> <span m='3104250'>things</span>
  <span m='3104520'>will</span> <span m='3104730'>continue</span> <span m='3105060'>to</span>
  <span m='3105150'>be</span> <span m='3105270'>distinct,</span> <span m='3105690'>and</span>
  <span m='3105780'>then</span> <span m='3105900'>I</span> <span m='3105970'>apply</span>
  <span m='3106230'>induction.</span> </p><p><span m='3107700'>Well,</span> <span
  m='3107850'>how</span> <span m='3108060'>many</span> <span m='3108270'>choices</span>
  <span m='3108720'>are</span> <span m='3108870'>there</span> <span m='3109020'>for</span>
  <span m='3109240'>i,</span> <span m='3109340'>j, and</span> <span m='3109610'>k?</span>
  <span m='3110320'>For</span> <span m='3110590'>i,</span> <span m='3111840'>there's</span>
  <span m='3112590'>I</span> <span m='3112740'>guess</span> <span m='3113430'>t</span>
  <span m='3113610'>choices.</span> <span m='3115116'>Because</span> <span m='3115570'>mi</span>
  <span m='3116040'>can</span> <span m='3116220'>be</span> <span m='3116820'>any</span>
  <span m='3117270'>of</span> <span m='3117330'>the</span> <span m='3117420'>previous</span>
  <span m='3117870'>values.</span> <span m='3118950'>For</span> <span m='3119100'>j,</span>
  <span m='3121595'>let's</span> <span m='3122000'>call</span> <span m='3122405'>it</span>
  <span m='3122810'>r</span> <span m='3123060'>choices</span> <span m='3123930'>for</span>
  <span m='3124080'>k,</span> <span m='3124880'>there's</span> <span m='3125140'>r</span>
  <span m='3125370'>choices.</span> <span m='3126970'>That's</span> <span m='3127150'>how</span>
  <span m='3127240'>many</span> <span m='3127390'>important</span> <span m='3127720'>bits</span>
  <span m='3127930'>there</span> <span m='3128080'>are.</span> <span m='3128740'>So</span>
  <span m='3129070'>total</span> <span m='3129370'>number</span> <span m='3129580'>of</span>
  <span m='3129670'>choices</span> <span m='3130210'>is</span> <span m='3130570'>tr</span>
  <span m='3131500'>squared.</span> <span m='3134410'>But</span> <span m='3134620'>t</span>
  <span m='3134950'>here</span> <span m='3135220'>is</span> <span m='3135310'>always</span>
  <span m='3135580'>less</span> <span m='3135970'>than</span> <span m='3136180'>r.</span>
  <span m='3136960'>So</span> <span m='3137110'>this</span> <span m='3137350'>is</span>
  <span m='3137440'>going</span> <span m='3137590'>to</span> <span m='3137680'>be</span>
  <span m='3137860'>less</span> <span m='3138220'>than</span> <span m='3138430'>r</span>
  <span m='3138640'>cubed.</span> <span m='3140530'>So</span> <span m='3140680'>that</span>
  <span m='3140800'>means</span> <span m='3141070'>there</span> <span m='3141200'>is</span>
  <span m='3141340'>less</span> <span m='3141640'>than</span> <span m='3141760'>r</span>
  <span m='3141880'>cubed</span> <span m='3142090'>things</span> <span m='3142330'>we</span>
  <span m='3142420'>have</span> <span m='3142600'>to</span> <span m='3142690'>avoid.</span>
  <span m='3143560'>But</span> <span m='3143710'>I</span> <span m='3143770'>have</span>
  <span m='3143980'>r</span> <span m='3144420'>cubed</span> <span m='3144670'>allowable</span>
  <span m='3145300'>choices</span> <span m='3145740'>on</span> <span m='3145840'>working</span>
  <span m='3146170'>modulo</span> <span m='3146620'>r</span> <span m='3146760'>cubed.</span>
  <span m='3147100'>So</span> <span m='3147220'>I</span> <span m='3147280'>just</span>
  <span m='3147400'>pick</span> <span m='3147640'>any one</span> <span m='3148030'>that</span>
  <span m='3148150'>avoids</span> <span m='3148480'>the</span> <span m='3148570'>collision.</span>
  <span m='3150020'>This</span> <span m='3150070'>is</span> <span m='3150190'>basically</span>
  <span m='3150820'>deterministic</span> <span m='3151490'>hashing,</span> <span m='3152690'>in
  a</span> <span m='3152770'>certain</span> <span m='3153070'>sense.</span> <span
  m='3153340'>We</span> <span m='3153460'>are</span> <span m='3153550'>choosing</span>
  <span m='3154000'>these</span> <span m='3154120'>values</span> <span m='3154450'>deterministically</span>
  <span m='3155680'>to</span> <span m='3155800'>avoid</span> <span m='3156370'>collisions</span>
  <span m='3157100'>in</span> <span m='3157270'>this</span> <span m='3157600'>simple</span>
  <span m='3157990'>hash</span> <span m='3158260'>function.</span> </p><p><span m='3159340'>OK.</span>
  <span m='3159730'>It takes</span> <span m='3160180'>time.</span> <span m='3161290'>It's</span>
  <span m='3161380'>going</span> <span m='3161530'>to</span> <span m='3161590'>take</span>
  <span m='3161770'>polynomial</span> <span m='3162250'>time</span> <span m='3162430'>to</span>
  <span m='3162520'>compute</span> <span m='3162820'>this</span> <span m='3163000'>thing.</span>
  <span m='3163180'>And</span> <span m='3163270'>you</span> <span m='3163360'>can</span>
  <span m='3163450'>imagine</span> <span m='3163900'>if</span> <span m='3163990'>you</span>
  <span m='3164080'>just</span> <span m='3164200'>plug in</span> <span m='3164530'>hashing,</span>
  <span m='3165430'>this</span> <span m='3165600'>will</span> <span m='3165700'>work</span>
  <span m='3165910'>with</span> <span m='3166000'>some</span> <span m='3166170'>probability,</span>
  <span m='3166870'>and</span> <span m='3166960'>blah,</span> <span m='3167210'>blah,</span>
  <span m='3167330'>blah.</span> <span m='3167600'>But</span> <span m='3167650'>I</span>
  <span m='3167710'>want</span> <span m='3167860'>to</span> <span m='3167920'>make</span>
  <span m='3168100'>it</span> <span m='3168280'>always</span> <span m='3168550'>work</span>
  <span m='3169900'>deterministically.</span> <span m='3170590'>Because</span> <span
  m='3170770'>we</span> <span m='3170860'>know</span> <span m='3171050'>what</span>
  <span m='3171130'>the</span> <span m='3171250'>xi's</span> <span m='3171970'>are</span>
  <span m='3172600'>here.</span> </p><p><span m='3174900'>All</span> <span m='3174960'>right.</span>
  <span m='3175180'>So</span> <span m='3175480'>we've</span> <span m='3175690'>avoided</span>
  <span m='3175990'>collisions.</span> <span m='3176930'>There's</span> <span m='3176980'>enough</span>
  <span m='3177160'>space.</span> <span m='3177880'>That's</span> <span m='3178090'>all.</span>
  <span m='3179110'>That</span> <span m='3179230'>was</span> <span m='3179320'>step</span>
  <span m='3179590'>one.</span> <span m='3180540'>Step</span> <span m='3180880'>two,</span>
  <span m='3181720'>and</span> <span m='3182200'>this</span> <span m='3182440'>will</span>
  <span m='3182560'>solve</span> <span m='3183190'>property</span> <span m='3183565'>a,</span>
  <span m='3184540'>even</span> <span m='3184810'>modulo</span> <span m='3185280'>r</span>
  <span m='3185470'>cubed.</span> <span m='3186230'>Now</span> <span m='3186520'>we</span>
  <span m='3186640'>have</span> <span m='3186760'>a</span> <span m='3186820'>little</span>
  <span m='3187030'>bit</span> <span m='3187150'>of</span> <span m='3187210'>space.</span>
  <span m='3187570'>We're</span> <span m='3187690'>allowed</span> <span m='3187900'>to</span>
  <span m='3187990'>go</span> <span m='3188080'>up</span> <span m='3188170'>to r</span>
  <span m='3188470'>to the</span> <span m='3188580'>fourth.</span> <span m='3189470'>And</span>
  <span m='3189490'>now</span> <span m='3189610'>we</span> <span m='3189700'>just</span>
  <span m='3189820'>need</span> <span m='3189970'>to</span> <span m='3190060'>spread</span>
  <span m='3190390'>out</span> <span m='3190630'>these</span> <span m='3190840'>bits.</span>
  <span m='3192560'>So</span> <span m='3194110'>that's</span> <span m='3194380'>step</span>
  <span m='3194740'>two.</span> </p><p><span m='3197200'>Basically</span> <span m='3198210'>we're</span>
  <span m='3198330'>going</span> <span m='3198480'>to</span> <span m='3198560'>set</span>
  <span m='3199390'>mi</span> <span m='3200300'>to</span> <span m='3200470'>be</span>
  <span m='3200650'>these</span> <span m='3200830'>values</span> <span m='3201250'>that</span>
  <span m='3201400'>we</span> <span m='3201520'>chose</span> <span m='3202810'>plus</span>
  <span m='3203890'>this</span> <span m='3204100'>weird</span> <span m='3204430'>thing,</span>
  <span m='3205600'>w</span> <span m='3206440'>minus</span> <span m='3206920'>bi</span>
  <span m='3208750'>plus</span> <span m='3209510'>ir</span> <span m='3210630'>cubed</span>
  <span m='3212680'>rounded</span> <span m='3213220'>down</span> <span m='3218690'>to</span>
  <span m='3219290'>a</span> <span m='3219350'>multiple</span> <span m='3222070'>of</span>
  <span m='3222290'>r</span> <span m='3222530'>cubed.</span> <span m='3225718'>So</span>
  <span m='3226160'>I</span> <span m='3226280'>guess</span> <span m='3226520'>you</span>
  <span m='3226580'>could</span> <span m='3226700'>put</span> <span m='3226850'>this</span>
  <span m='3227030'>in</span> <span m='3227150'>parentheses</span> <span m='3227840'>if</span>
  <span m='3227990'>you</span> <span m='3228080'>want.</span> <span m='3230360'>Rough</span>
  <span m='3230660'>idea</span> <span m='3231020'>is,</span> <span m='3231410'>we</span>
  <span m='3231500'>want</span> <span m='3231680'>to</span> <span m='3231740'>take</span>
  <span m='3231980'>mi</span> <span m='3232310'>prime</span> <span m='3233150'>plus</span>
  <span m='3233840'>ir</span> <span m='3234320'>cubed.</span> <span m='3235400'>Because</span>
  <span m='3235580'>these</span> <span m='3235760'>mi</span> <span m='3236000'>primes,</span>
  <span m='3236390'>they're</span> <span m='3236540'>all</span> <span m='3236660'>values</span>
  <span m='3237020'>between</span> <span m='3237350'>0,</span> <span m='3237780'>and</span>
  <span m='3237800'>r</span> <span m='3237950'>cubed</span> <span m='3238190'>minus</span>
  <span m='3238520'>1.</span> <span m='3239450'>We</span> <span m='3239570'>got</span>
  <span m='3239780'>everything</span> <span m='3240200'>working</span> <span m='3240530'>modulo</span>
  <span m='3240940'>r</span> <span m='3241150'>cubed.</span> </p><p><span m='3243230'>If</span>
  <span m='3243440'>we</span> <span m='3243590'>could</span> <span m='3243740'>just</span>
  <span m='3244100'>add</span> <span m='3244870'>ir</span> <span m='3245050'>cubed</span>
  <span m='3245420'>to</span> <span m='3245510'>each</span> <span m='3245690'>of</span>
  <span m='3245750'>these</span> <span m='3245930'>values</span> <span m='3246320'>that</span>
  <span m='3246530'>we'll</span> <span m='3246650'>spread</span> <span m='3246980'>them</span>
  <span m='3247130'>out.</span> <span m='3248770'>Because</span> <span m='3249310'>each</span>
  <span m='3249520'>of</span> <span m='3249580'>these</span> <span m='3249700'>values</span>
  <span m='3250090'>used</span> <span m='3250270'>to</span> <span m='3250390'>fall</span>
  <span m='3250660'>just</span> <span m='3250810'>in</span> <span m='3250930'>this</span>
  <span m='3251050'>tiny</span> <span m='3251380'>range</span> <span m='3251860'>ir</span>
  <span m='3252010'>cubed.</span> <span m='3252250'>So</span> <span m='3252520'>we</span>
  <span m='3252670'>can</span> <span m='3253630'>move</span> <span m='3254070'>the</span>
  <span m='3254170'>next</span> <span m='3254200'>one</span> <span m='3254410'>to</span>
  <span m='3254620'>the</span> <span m='3254710'>next</span> <span m='3254950'>position,</span>
  <span m='3255940'>move</span> <span m='3256060'>the</span> <span m='3256120'>next</span>
  <span m='3256300'>one</span> <span m='3256450'>to</span> <span m='3256510'>the</span>
  <span m='3256570'>next</span> <span m='3256780'>position,</span> <span m='3257110'>and</span>
  <span m='3257200'>so</span> <span m='3257380'>on.</span> <span m='3258130'>Spread</span>
  <span m='3258460'>them</span> <span m='3258580'>out</span> <span m='3258730'>to</span>
  <span m='3258820'>the</span> <span m='3258940'>left</span> <span m='3260500'>by</span>
  <span m='3260860'>adding</span> <span m='3261280'>on</span> <span m='3261460'>multiples</span>
  <span m='3261940'>of</span> <span m='3262750'>r</span> <span m='3262960'>cubed,</span>
  <span m='3263880'>then</span> <span m='3264250'>that</span> <span m='3264490'>will</span>
  <span m='3264640'>achieve</span> <span m='3265030'>property</span> <span m='3265480'>b.</span>
  </p><p><span m='3268800'>The</span> <span m='3269080'>annoying</span> <span m='3269410'>issue</span>
  <span m='3269680'>here</span> <span m='3269950'>is</span> <span m='3270460'>we</span>
  <span m='3270580'>don't</span> <span m='3270820'>want</span> <span m='3270940'>to</span>
  <span m='3271030'>mess</span> <span m='3271270'>things</span> <span m='3271510'>up</span>
  <span m='3271630'>modulo</span> <span m='3272080'>r</span> <span m='3272250'>cubed.</span>
  <span m='3273230'>So</span> <span m='3273310'>we</span> <span m='3273370'>need</span>
  <span m='3273550'>to</span> <span m='3273670'>round</span> <span m='3273970'>things</span>
  <span m='3274270'>down</span> <span m='3274750'>to</span> <span m='3274900'>be</span>
  <span m='3275050'>a</span> <span m='3275110'>multiple</span> <span m='3275560'>of</span>
  <span m='3275650'>r</span> <span m='3275800'>cubed</span> <span m='3280915'>so</span>
  <span m='3281370'>that</span> <span m='3281520'>this</span> <span m='3281760'>is</span>
  <span m='3281880'>congruent</span> <span m='3282360'>to</span> <span m='3282540'>mi</span>
  <span m='3283860'>prime.</span> <span m='3284850'>That's</span> <span m='3285030'>what</span>
  <span m='3285120'>we</span> <span m='3285210'>want.</span> <span m='3285450'>We</span>
  <span m='3285600'>want</span> <span m='3285750'>it</span> <span m='3285840'>to</span>
  <span m='3285960'>stay</span> <span m='3286280'>congruent</span> <span m='3286460'>to</span>
  <span m='3286940'>mod r</span> <span m='3287100'>cubed.</span> <span m='3290160'>Well,</span>
  <span m='3290280'>why</span> <span m='3290460'>do</span> <span m='3290580'>we</span>
  <span m='3290700'>need</span> <span m='3290850'>to</span> <span m='3291060'>round</span>
  <span m='3291330'>down</span> <span m='3291570'>to a</span> <span m='3291690'>multiple</span>
  <span m='3292020'>of</span> <span m='3292110'>r</span> <span m='3292200'>cubed?</span>
  <span m='3292470'>We</span> <span m='3292590'>were</span> <span m='3292710'>adding</span>
  <span m='3293040'>on</span> <span m='3293240'>ir</span> <span m='3293580'>cubed.</span>
  <span m='3294690'>Well,</span> <span m='3295080'>it's</span> <span m='3295230'>not</span>
  <span m='3295410'>quite</span> <span m='3295710'>mi</span> <span m='3296130'>that</span>
  <span m='3296250'>we</span> <span m='3296370'>care</span> <span m='3296550'>about.</span>
  <span m='3296850'>It's</span> <span m='3297060'>mi</span> <span m='3297420'>plus</span>
  <span m='3297690'>bi.</span> <span m='3298860'>Those</span> <span m='3299130'>are</span>
  <span m='3299190'>the</span> <span m='3299280'>bits</span> <span m='3299670'>that</span>
  <span m='3299820'>we</span> <span m='3300000'>want</span> <span m='3300270'>to</span>
  <span m='3300420'>be</span> <span m='3300570'>nicely</span> <span m='3300960'>ordered.</span>
  <span m='3302260'>And</span> <span m='3302400'>so</span> <span m='3302550'>we</span>
  <span m='3302670'>kind</span> <span m='3302940'>of</span> <span m='3303000'>need</span>
  <span m='3303450'>a</span> <span m='3303510'>minus</span> <span m='3304020'>bi</span>
  <span m='3304530'>here,</span> <span m='3305790'>so</span> <span m='3306000'>that</span>
  <span m='3306150'>when</span> <span m='3306300'>we</span> <span m='3306390'>take</span>
  <span m='3306720'>mi</span> <span m='3306960'>plus</span> <span m='3307290'>bi,</span>
  <span m='3307650'>those</span> <span m='3308040'>cancel.</span> </p><p><span m='3310030'>But</span>
  <span m='3310200'>then</span> <span m='3310440'>bi</span> <span m='3310920'>is</span>
  <span m='3311070'>not</span> <span m='3311310'>a</span> <span m='3311370'>multiple</span>
  <span m='3311790'>of</span> <span m='3311880'>r</span> <span m='3312000'>cubed.</span>
  <span m='3312990'>So</span> <span m='3313290'>you've</span> <span m='3313410'>got</span>
  <span m='3313560'>to</span> <span m='3313650'>do</span> <span m='3313770'>this</span>
  <span m='3313920'>rounding</span> <span m='3314310'>down</span> <span m='3314520'>to</span>
  <span m='3314610'>r</span> <span m='3314790'>cubed.</span> <span m='3315150'>Also</span>
  <span m='3315900'>negative</span> <span m='3316230'>bi</span> <span m='3316680'>is</span>
  <span m='3316800'>a</span> <span m='3316920'>negative</span> <span m='3317340'>number.</span>
  <span m='3317870'>And we</span> <span m='3317880'>can't</span> <span m='3318240'>really</span>
  <span m='3318870'>deal</span> <span m='3319080'>with</span> <span m='3319200'>negative</span>
  <span m='3319530'>numbers.</span> <span m='3319920'>Because</span> <span m='3320070'>you</span>
  <span m='3320160'>can't</span> <span m='3320370'>go</span> <span m='3320550'>left</span>
  <span m='3320850'>of</span> <span m='3320940'>0.</span> <span m='3321810'>So</span>
  <span m='3321930'>we</span> <span m='3321990'>have</span> <span m='3322080'>to</span>
  <span m='3322170'>add</span> <span m='3322380'>on</span> <span m='3322500'>this</span>
  <span m='3322650'>w</span> <span m='3323130'>just</span> <span m='3323370'>to</span>
  <span m='3323550'>make</span> <span m='3323730'>things</span> <span m='3323970'>work</span>
  <span m='3324180'>out.</span> <span m='3325080'>So</span> <span m='3325200'>it's</span>
  <span m='3325320'>a</span> <span m='3325380'>little</span> <span m='3325590'>messy,</span>
  <span m='3327200'>and</span> <span m='3327570'>I</span> <span m='3327600'>don't</span>
  <span m='3327720'>want</span> <span m='3327840'>to</span> <span m='3327900'>spend</span>
  <span m='3328110'>too</span> <span m='3328230'>much</span> <span m='3328410'>time</span>
  <span m='3328590'>on</span> <span m='3328680'>why</span> <span m='3328890'>this</span>
  <span m='3329040'>formula</span> <span m='3330190'>works.</span> <span m='3331440'>But</span>
  <span m='3331620'>I</span> <span m='3331680'>think</span> <span m='3331890'>you</span>
  <span m='3331980'>have</span> <span m='3332250'>the</span> <span m='3332400'>essence</span>
  <span m='3332760'>of</span> <span m='3332910'>what's</span> <span m='3333090'>working.</span>
  </p><p><span m='3333750'>This</span> <span m='3333960'>is</span> <span m='3334050'>just</span>
  <span m='3334230'>to</span> <span m='3334350'>avoid</span> <span m='3334620'>negative</span>
  <span m='3334920'>numbers.</span> <span m='3336150'>This</span> <span m='3336600'>negative</span>
  <span m='3336960'>bi</span> <span m='3337215'>is</span> <span m='3337470'>so</span>
  <span m='3337620'>that</span> <span m='3337740'>when</span> <span m='3337890'>you</span>
  <span m='3338010'>add</span> <span m='3338280'>it</span> <span m='3338370'>to</span>
  <span m='3338570'>mi</span> <span m='3342090'>that</span> <span m='3342240'>cancels.</span>
  <span m='3343200'>And</span> <span m='3343320'>so</span> <span m='3344670'>you</span>
  <span m='3344820'>get</span> <span m='3345000'>these</span> <span m='3345180'>r</span>
  <span m='3345390'>cubes</span> <span m='3345720'>separations.</span> <span m='3347130'>In</span>
  <span m='3347280'>the</span> <span m='3347400'>end,</span> <span m='3347790'>let</span>
  <span m='3347910'>me</span> <span m='3348000'>draw</span> <span m='3348240'>a</span>
  <span m='3348270'>picture,</span> <span m='3348640'>perhaps.</span> </p><p><span
  m='3369860'>In</span> <span m='3369980'>the</span> <span m='3370100'>end,</span>
  <span m='3370250'>if</span> <span m='3370370'>you</span> <span m='3370490'>look</span>
  <span m='3370730'>at</span> <span m='3370880'>the</span> <span m='3371150'>bit</span>
  <span m='3371600'>space,</span> <span m='3374780'>so</span> <span m='3374960'>this</span>
  <span m='3375180'>is</span> <span m='3375500'>w</span> <span m='3375890'>bits.</span>
  <span m='3377520'>And</span> <span m='3377630'>you</span> <span m='3377750'>divide</span>
  <span m='3378070'>it</span> <span m='3378230'>up</span> <span m='3378500'>into</span>
  <span m='3380030'>multiples</span> <span m='3380510'>of</span> <span m='3380600'>r</span>
  <span m='3380780'>cubed.</span> <span m='3384710'>All</span> <span m='3385010'>of</span>
  <span m='3385130'>the</span> <span m='3386520'>mi</span> <span m='3386990'>primes</span>
  <span m='3387590'>are</span> <span m='3387650'>over</span> <span m='3387890'>here.</span>
  <span m='3390360'>So these</span> <span m='3390630'>are</span> <span m='3390850'>mi</span>
  <span m='3391070'>primes.</span> <span m='3391670'>You</span> <span m='3391760'>don't</span>
  <span m='3391940'>know</span> <span m='3392180'>in</span> <span m='3392270'>what</span>
  <span m='3392450'>order</span> <span m='3392840'>or</span> <span m='3392870'>anything.</span>
  <span m='3393420'>They're</span> <span m='3393520'>just</span> <span m='3393590'>kind</span>
  <span m='3393800'>of</span> <span m='3394280'>randomly</span> <span m='3394760'>in</span>
  <span m='3394840'>there,</span> <span m='3395080'>and chosen</span> <span m='3395420'>pretty</span>
  <span m='3395630'>much</span> <span m='3395780'>arbitrarily</span> <span m='3397010'>on</span>
  <span m='3397100'>the</span> <span m='3397190'>low</span> <span m='3397490'>end</span>
  <span m='3397730'>of</span> <span m='3397790'>the</span> <span m='3397880'>spectrum,</span>
  <span m='3398600'>from</span> <span m='3398810'>0</span> <span m='3399110'>to</span>
  <span m='3399230'>r</span> <span m='3399620'>cubed</span> <span m='3399920'>minus</span>
  <span m='3400250'>1.</span> <span m='3401550'>And</span> <span m='3401570'>then</span>
  <span m='3401720'>what</span> <span m='3401840'>we</span> <span m='3401990'>want</span>
  <span m='3402440'>is</span> <span m='3402680'>for</span> <span m='3405130'>x0</span>
  <span m='3405770'>plus</span> <span m='3406040'>m0</span> <span m='3406550'>to</span>
  <span m='3406670'>fall</span> <span m='3406910'>somewhere</span> <span m='3407300'>in</span>
  <span m='3407390'>this</span> <span m='3407570'>range,</span> <span m='3408560'>and</span>
  <span m='3408740'>then</span> <span m='3409160'>x1</span> <span m='3409700'>plus</span>
  <span m='3410010'>m1</span> <span m='3410540'>to</span> <span m='3410690'>fall</span>
  <span m='3411020'>somewhere</span> <span m='3411350'>in</span> <span m='3411440'>this</span>
  <span m='3411620'>range,</span> <span m='3412670'>and</span> <span m='3413000'>x2</span>
  <span m='3413420'>plus</span> <span m='3413660'>m2</span> <span m='3414140'>to fall</span>
  <span m='3414980'>somewhere</span> <span m='3415460'>in</span> <span m='3415640'>this</span>
  <span m='3415880'>range.</span> </p><p><span m='3417350'>If</span> <span m='3417470'>I</span>
  <span m='3417560'>do</span> <span m='3417770'>that,</span> <span m='3419330'>and</span>
  <span m='3419690'>it's</span> <span m='3419840'>weird</span> <span m='3420110'>because</span>
  <span m='3420260'>the</span> <span m='3420350'>bits</span> <span m='3420620'>are</span>
  <span m='3420710'>numbered</span> <span m='3421010'>from</span> <span m='3421190'>0</span>
  <span m='3421520'>to</span> <span m='3421620'>the</span> <span m='3421670'>left</span>
  <span m='3422060'>here.</span> <span m='3423140'>Then</span> <span m='3423380'>I</span>
  <span m='3423470'>will</span> <span m='3423620'>have</span> <span m='3423800'>this</span>
  <span m='3423980'>property.</span> <span m='3426680'>I</span> <span m='3427070'>claim</span>
  <span m='3427580'>this</span> <span m='3428390'>assignment</span> <span m='3428840'>does</span>
  <span m='3429110'>that.</span> <span m='3430070'>It's</span> <span m='3430190'>an</span>
  <span m='3430250'>exercise</span> <span m='3430820'>you</span> <span m='3430910'>can</span>
  <span m='3431060'>check</span> <span m='3432280'>that</span> <span m='3432680'>indeed</span>
  <span m='3433910'>xi</span> <span m='3434240'>plus</span> <span m='3434620'>mi</span>
  <span m='3434900'>will</span> <span m='3435140'>fall</span> <span m='3435560'>in</span>
  <span m='3435710'>this</span> <span m='3435890'>range.</span> </p><p><span m='3441410'>So</span>
  <span m='3441620'>this</span> <span m='3441860'>gives</span> <span m='3442160'>us</span>
  <span m='3442400'>property</span> <span m='3442880'>b.</span> <span m='3444620'>It</span>
  <span m='3444800'>also</span> <span m='3445070'>gives</span> <span m='3445280'>us</span>
  <span m='3445400'>property</span> <span m='3445880'>c.</span> <span m='3446680'>Because</span>
  <span m='3446870'>we've</span> <span m='3447020'>been</span> <span m='3447170'>fairly</span>
  <span m='3447590'>tight</span> <span m='3447950'>here.</span> <span m='3449120'>There's</span>
  <span m='3449420'>r</span> <span m='3449750'>of</span> <span m='3449870'>these</span>
  <span m='3450050'>guys,</span> <span m='3454310'>and</span> <span m='3454950'>r</span>
  <span m='3456220'>of</span> <span m='3456380'>these</span> <span m='3456530'>intervals</span>
  <span m='3456950'>of</span> <span m='3457040'>size</span> <span m='3457310'>r</span>
  <span m='3457520'>cubed.</span> <span m='3458380'>And</span> <span m='3458480'>so</span>
  <span m='3458630'>the</span> <span m='3458720'>total</span> <span m='3459110'>range</span>
  <span m='3459470'>of</span> <span m='3459560'>these</span> <span m='3459770'>bits</span>
  <span m='3460580'>is</span> <span m='3460670'>going</span> <span m='3460820'>to</span>
  <span m='3460880'>be</span> <span m='3461090'>r</span> <span m='3461380'>to</span>
  <span m='3461450'>the</span> <span m='3461540'>fourth.</span> <span m='3463040'>We</span>
  <span m='3463190'>started</span> <span m='3463580'>at</span> <span m='3463670'>x0</span>
  <span m='3464180'>plus</span> <span m='3464530'>m0.</span> <span m='3464810'>We</span>
  <span m='3465020'>end</span> <span m='3465380'>at</span> <span m='3465930'>xr</span>
  <span m='3466460'>minus</span> <span m='3466790'>1,</span> <span m='3468030'>plus,</span>
  <span m='3468910'>mr</span> <span m='3469380'>minus</span> <span m='3469580'>1.</span>
  <span m='3469790'>That's</span> <span m='3470000'>going</span> <span m='3470120'>to</span>
  <span m='3470210'>be</span> <span m='3470390'>somewhere</span> <span m='3470780'>here.</span>
  <span m='3472530'>But</span> <span m='3472630'>if</span> <span m='3472730'>you</span>
  <span m='3472830'>look</span> <span m='3472940'>at</span> <span m='3473090'>just</span>
  <span m='3473330'>that</span> <span m='3473570'>interval</span> <span m='3473990'>of</span>
  <span m='3474080'>bits--</span> <span m='3475050'>so</span> <span m='3475100'>there</span>
  <span m='3475540'>are</span> <span m='3475610'>more</span> <span m='3475850'>bits</span>
  <span m='3476120'>actually</span> <span m='3476450'>over</span> <span m='3476630'>here,</span>
  <span m='3480060'>in</span> <span m='3480230'>particular,</span> <span m='3481560'>because</span>
  <span m='3481790'>of this</span> <span m='3482000'>w</span> <span m='3482490'>bit</span>
  <span m='3482820'>part.</span> <span m='3484040'>This</span> <span m='3484220'>whole</span>
  <span m='3484430'>picture</span> <span m='3484880'>basically</span> <span m='3485240'>starts</span>
  <span m='3485720'>at</span> <span m='3485960'>bit</span> <span m='3486408'>w.</span>
  <span m='3488650'>Then</span> <span m='3488750'>there's</span> <span m='3488900'>all</span>
  <span m='3489110'>this</span> <span m='3489290'>stuff</span> <span m='3490550'>to</span>
  <span m='3490640'>0.</span> <span m='3491120'>So</span> <span m='3491350'>this is</span>
  <span m='3491480'>a</span> <span m='3491540'>more</span> <span m='3491720'>accurate</span>
  <span m='3492050'>picture.</span> </p><p><span m='3492320'>You're</span> <span m='3492380'>doing</span>
  <span m='3492570'>this</span> <span m='3492710'>multiplication.</span> <span m='3494370'>Garbage</span>
  <span m='3494870'>happens</span> <span m='3495230'>here.</span> <span m='3495500'>We</span>
  <span m='3495590'>have</span> <span m='3495710'>no</span> <span m='3495920'>idea.</span>
  <span m='3496970'>Garbage</span> <span m='3497420'>happens</span> <span m='3497870'>here.</span>
  <span m='3498200'>We</span> <span m='3498290'>have</span> <span m='3498410'>no</span>
  <span m='3498530'>idea.</span> <span m='3498860'>Actually,</span> <span m='3499190'>garbage</span>
  <span m='3499520'>happens</span> <span m='3499820'>all</span> <span m='3500030'>over</span>
  <span m='3500330'>here.</span> <span m='3501390'>But</span> <span m='3501560'>what</span>
  <span m='3501710'>we</span> <span m='3501860'>know</span> <span m='3502100'>is</span>
  <span m='3502220'>that</span> <span m='3502360'>these</span> <span m='3502820'>bits</span>
  <span m='3503990'>are</span> <span m='3504920'>the</span> <span m='3505040'>bits</span>
  <span m='3505280'>we</span> <span m='3505430'>care</span> <span m='3505670'>about.</span>
  <span m='3507350'>These</span> <span m='3507590'>are</span> <span m='3507650'>the</span>
  <span m='3507800'>xi</span> <span m='3508175'>plus</span> <span m='3508550'>mi</span>
  <span m='3508790'>bits.</span> <span m='3511010'>If</span> <span m='3511130'>you</span>
  <span m='3511220'>look</span> <span m='3511430'>at</span> <span m='3511530'>xi</span>
  <span m='3511910'>plus</span> <span m='3512150'>mi,</span> <span m='3512510'>they</span>
  <span m='3512720'>give</span> <span m='3512990'>you</span> <span m='3513500'>xbi.</span>
  <span m='3515930'>They</span> <span m='3516080'>exist</span> <span m='3516410'>in</span>
  <span m='3516530'>other</span> <span m='3516710'>places.</span> <span m='3517160'>But</span>
  <span m='3517700'>these</span> <span m='3517940'>bits</span> <span m='3518720'>will</span>
  <span m='3518900'>have</span> <span m='3519250'>the</span> <span m='3519710'>important</span>
  <span m='3520100'>bits.</span> <span m='3521410'>Now</span> <span m='3521840'>the</span>
  <span m='3521960'>bits</span> <span m='3522170'>are</span> <span m='3522260'>also</span>
  <span m='3522840'>all</span> <span m='3523070'>over</span> <span m='3523610'>everywhere</span>
  <span m='3523970'>else.</span> <span m='3524240'>But</span> <span m='3524450'>none</span>
  <span m='3524660'>of</span> <span m='3524750'>the</span> <span m='3524840'>bits</span>
  <span m='3525020'>hit</span> <span m='3525200'>each</span> <span m='3525410'>other.</span>
  <span m='3525770'>So</span> <span m='3525830'>these</span> <span m='3526010'>bits</span>
  <span m='3526280'>remain</span> <span m='3527380'>correct,</span> <span m='3528490'>because</span>
  <span m='3528950'>nothing</span> <span m='3529280'>else</span> <span m='3529490'>collides</span>
  <span m='3529880'>with</span> <span m='3530000'>it.</span> <span m='3531110'>And</span>
  <span m='3531230'>so</span> <span m='3531320'>if</span> <span m='3531440'>I</span>
  <span m='3531500'>just</span> <span m='3531710'>mask</span> <span m='3532150'>out</span>
  <span m='3532310'>those</span> <span m='3532520'>bits,</span> <span m='3534700'>again,</span>
  <span m='3535270'>so</span> <span m='3535450'>I</span> <span m='3535480'>have</span>
  <span m='3535630'>to</span> <span m='3535720'>do</span> <span m='3535900'>another</span>
  <span m='3536260'>mask.</span> </p><p><span m='3537670'>I</span> <span m='3537790'>did</span>
  <span m='3537970'>one</span> <span m='3538180'>mask</span> <span m='3538720'>here.</span>
  <span m='3539830'>I</span> <span m='3539890'>did</span> <span m='3540040'>a</span>
  <span m='3540100'>multiplication,</span> <span m='3541810'>and</span> <span m='3541900'>then</span>
  <span m='3542050'>I</span> <span m='3542110'>have</span> <span m='3542260'>to</span>
  <span m='3542350'>do</span> <span m='3542500'>another</span> <span m='3542800'>mask.</span>
  <span m='3546310'>So</span> <span m='3546610'>why</span> <span m='3546880'>don't</span>
  <span m='3546940'>I write</span> <span m='3547090'>it</span> <span m='3547180'>over</span>
  <span m='3547360'>here?</span> <span m='3548330'>So</span> <span m='3553810'>we</span>
  <span m='3554320'>AND</span> <span m='3557380'>with</span> <span m='3557980'>sum</span>
  <span m='3559420'>i</span> <span m='3559750'>equal</span> <span m='3559870'>0</span>
  <span m='3560560'>to</span> <span m='3561220'>r</span> <span m='3561540'>minus</span>
  <span m='3561910'>1</span> <span m='3563236'>of</span> <span m='3564730'>2</span>
  <span m='3565570'>to</span> <span m='3565840'>the</span> <span m='3566150'>bi</span>
  <span m='3567720'>plus</span> <span m='3568200'>mi.</span> <span m='3569800'>Those</span>
  <span m='3570160'>are</span> <span m='3570340'>the</span> <span m='3570490'>circled</span>
  <span m='3570910'>bits.</span> <span m='3572330'>So</span> <span m='3572350'>if</span>
  <span m='3572440'>we</span> <span m='3572530'>grab</span> <span m='3572890'>those</span>
  <span m='3573160'>things,</span> <span m='3574400'>and</span> <span m='3574480'>then</span>
  <span m='3574660'>we</span> <span m='3574810'>shift</span> <span m='3575170'>right</span>
  <span m='3579040'>by--</span> <span m='3582859'>why am</span> <span m='3583310'>I
  writing</span> <span m='3583990'>x?</span> <span m='3585310'>Sorry.</span> <span
  m='3585580'>These</span> <span m='3585760'>are</span> <span m='3585880'>all</span>
  <span m='3586010'>b's.</span> <span m='3590040'>Too</span> <span m='3590490'>many</span>
  <span m='3590750'>letters.</span> <span m='3593180'>We</span> <span m='3593340'>shift</span>
  <span m='3593610'>right</span> <span m='3593910'>by</span> <span m='3594750'>b0</span>
  <span m='3595200'>plus</span> <span m='3595740'>m0.</span> <span m='3596730'>Because</span>
  <span m='3596910'>we</span> <span m='3597000'>don't</span> <span m='3597180'>care</span>
  <span m='3597420'>about</span> <span m='3597630'>all</span> <span m='3597780'>those</span>
  <span m='3598120'>leading</span> <span m='3598440'>bits.</span> <span m='3599650'>So</span>
  <span m='3600030'>we</span> <span m='3600090'>shift</span> <span m='3600360'>this</span>
  <span m='3600510'>over</span> <span m='3600690'>to</span> <span m='3600810'>the</span>
  <span m='3600870'>left.</span> <span m='3601320'>We</span> <span m='3601440'>did</span>
  <span m='3601620'>the</span> <span m='3601710'>mask,</span> <span m='3603060'>then</span>
  <span m='3603540'>we</span> <span m='3603660'>will</span> <span m='3603810'>just</span>
  <span m='3604050'>have</span> <span m='3604200'>the</span> <span m='3604290'>important</span>
  <span m='3604650'>bits</span> <span m='3605040'>and</span> <span m='3605160'>they</span>
  <span m='3605280'>will</span> <span m='3605430'>occupy</span> <span m='3606070'>over</span>
  <span m='3606300'>here</span> <span m='3607200'>an</span> <span m='3607350'>interval</span>
  <span m='3607860'>of</span> <span m='3608010'>size</span> <span m='3608310'>at</span>
  <span m='3608370'>most--</span> <span m='3609910'>I'll</span> <span m='3610090'>say</span>
  <span m='3610290'>order</span> <span m='3611530'>r to</span> <span m='3611970'>the</span>
  <span m='3612030'>fourth.</span> <span m='3616440'>Clear?</span> </p><p><span m='3618330'>So</span>
  <span m='3618520'>this</span> <span m='3618760'>is</span> <span m='3618910'>approximate</span>
  <span m='3619480'>sketching.</span> <span m='3620710'>This is</span> <span m='3620830'>definitely</span>
  <span m='3622540'>a</span> <span m='3622600'>bit</span> <span m='3622720'>complicated,</span>
  <span m='3623600'>but</span> <span m='3624850'>it</span> <span m='3625150'>works.</span>
  <span m='3626630'>Let</span> <span m='3626730'>me</span> <span m='3626770'>review</span>
  <span m='3627190'>briefly.</span> <span m='3628150'>So,</span> <span m='3629200'>our</span>
  <span m='3629410'>algorithm</span> <span m='3629860'>was</span> <span m='3629980'>simple.</span>
  <span m='3631890'>We</span> <span m='3632110'>have</span> <span m='3632290'>a</span>
  <span m='3632350'>bit</span> <span m='3632590'>string,</span> <span m='3632920'>x.</span>
  <span m='3633310'>We</span> <span m='3633430'>just</span> <span m='3633610'>want</span>
  <span m='3633790'>to</span> <span m='3633850'>get</span> <span m='3634000'>the</span>
  <span m='3634090'>important</span> <span m='3634510'>bits</span> <span m='3634900'>and</span>
  <span m='3635080'>compress</span> <span m='3635620'>them</span> <span m='3636550'>to</span>
  <span m='3636760'>a</span> <span m='3636820'>thing</span> <span m='3637090'>of</span>
  <span m='3637180'>size</span> <span m='3637510'>r</span> <span m='3637780'>to the</span>
  <span m='3637900'>fourth.</span> <span m='3638950'>So</span> <span m='3639130'>first</span>
  <span m='3639460'>of</span> <span m='3639550'>all,</span> <span m='3639700'>we</span>
  <span m='3639820'>threw</span> <span m='3640030'>away</span> <span m='3640240'>all</span>
  <span m='3640390'>the</span> <span m='3640480'>non-important</span> <span m='3641050'>bits</span>
  <span m='3641350'>with</span> <span m='3641500'>this</span> <span m='3641680'>mask.</span>
  <span m='3642410'>That</span> <span m='3642580'>was</span> <span m='3642700'>easy.</span>
  <span m='3643460'>Then</span> <span m='3643600'>we</span> <span m='3643690'>just</span>
  <span m='3643840'>did</span> <span m='3643990'>an</span> <span m='3644080'>arbitrary</span>
  <span m='3644560'>multiplication,</span> <span m='3646240'>and</span> <span m='3646360'>we</span>
  <span m='3646480'>proved</span> <span m='3647020'>that</span> <span m='3647170'>there</span>
  <span m='3647290'>was</span> <span m='3647440'>a</span> <span m='3647500'>multiplication</span>
  <span m='3648340'>that</span> <span m='3649120'>avoided</span> <span m='3649630'>collision.</span>
  <span m='3650660'>So</span> <span m='3651040'>the</span> <span m='3651220'>sums</span>
  <span m='3651760'>basically</span> <span m='3652150'>turned</span> <span m='3652360'>into</span>
  <span m='3653440'>ORs</span> <span m='3653980'>or</span> <span m='3654130'>XORs.</span>
  <span m='3654760'>I</span> <span m='3654790'>mean</span> <span m='3654910'>you</span>
  <span m='3655000'>never</span> <span m='3655330'>get</span> <span m='3655570'>two</span>
  <span m='3655810'>1</span> <span m='3656020'>bits</span> <span m='3656290'>hitting</span>
  <span m='3656560'>each</span> <span m='3656740'>other,</span> <span m='3657420'>so</span>
  <span m='3657490'>you</span> <span m='3657550'>don't</span> <span m='3657670'>have</span>
  <span m='3657760'>to</span> <span m='3657850'>worry</span> <span m='3658060'>about</span>
  <span m='3658300'>that.</span> <span m='3659230'>And</span> <span m='3659680'>we</span>
  <span m='3659770'>did</span> <span m='3659920'>that</span> <span m='3660220'>with</span>
  <span m='3660370'>the</span> <span m='3660490'>simple</span> <span m='3660790'>inductive</span>
  <span m='3661180'>argument.</span> </p><p><span m='3662360'>And</span> <span m='3662410'>then</span>
  <span m='3662530'>we</span> <span m='3662650'>also</span> <span m='3662990'>wanted</span>
  <span m='3663400'>the</span> <span m='3663640'>bi's</span> <span m='3664060'>plus</span>
  <span m='3664300'>mi's</span> <span m='3664840'>to</span> <span m='3664960'>be</span>
  <span m='3665110'>linearly</span> <span m='3665590'>ordered.</span> <span m='3666820'>Because</span>
  <span m='3667000'>we</span> <span m='3667090'>need</span> <span m='3667270'>to</span>
  <span m='3667360'>preserve</span> <span m='3667720'>the</span> <span m='3667840'>order</span>
  <span m='3668170'>of</span> <span m='3668260'>the</span> <span m='3668350'>important</span>
  <span m='3668680'>bits.</span> <span m='3668950'>We</span> <span m='3669040'>can't</span>
  <span m='3669280'>just</span> <span m='3670180'>permute</span> <span m='3670570'>them.</span>
  <span m='3671800'>And</span> <span m='3672100'>we</span> <span m='3672220'>needed</span>
  <span m='3672460'>them</span> <span m='3672610'>to</span> <span m='3672700'>occupy</span>
  <span m='3673240'>a</span> <span m='3673300'>small</span> <span m='3673630'>range.</span>
  <span m='3674410'>And</span> <span m='3674530'>we</span> <span m='3674650'>did</span>
  <span m='3674800'>that</span> <span m='3674980'>basically</span> <span m='3675520'>by</span>
  <span m='3675670'>adding</span> <span m='3676370'>ir</span> <span m='3676420'>cubed</span>
  <span m='3676720'>to</span> <span m='3676810'>each</span> <span m='3677020'>of</span>
  <span m='3677080'>them.</span> <span m='3677290'>But</span> <span m='3677400'>it</span>
  <span m='3677550'>was a</span> <span m='3677580'>little</span> <span m='3677770'>messy</span>
  <span m='3678280'>and we had</span> <span m='3678470'>to add</span> <span m='3678650'>w,</span>
  <span m='3679090'>and</span> <span m='3679210'>blah-blah-blah.</span> <span m='3682060'>But</span>
  <span m='3682240'>in</span> <span m='3682360'>the</span> <span m='3682480'>end,</span>
  <span m='3683170'>we</span> <span m='3683320'>got</span> <span m='3683845'>our</span>
  <span m='3684130'>important</span> <span m='3684520'>bits</span> <span m='3684790'>to</span>
  <span m='3684910'>be</span> <span m='3685060'>nicely</span> <span m='3685450'>spaced</span>
  <span m='3685870'>out</span> <span m='3686080'>here</span> <span m='3686800'>by</span>
  <span m='3687520'>pretty</span> <span m='3687700'>much</span> <span m='3688180'>putting</span>
  <span m='3688480'>an</span> <span m='3688570'>r</span> <span m='3688810'>cubed</span>
  <span m='3689140'>in</span> <span m='3689230'>between</span> <span m='3689560'>each</span>
  <span m='3689740'>one.</span> <span m='3691390'>So</span> <span m='3691570'>those</span>
  <span m='3691810'>were</span> <span m='3691930'>our</span> <span m='3691990'>bi</span>
  <span m='3692320'>plus</span> <span m='3692570'>mi</span> <span m='3692910'>bits.</span>
  <span m='3693670'>They</span> <span m='3693850'>occupied</span> <span m='3694240'>this</span>
  <span m='3694420'>range</span> <span m='3694690'>of</span> <span m='3694780'>r to</span>
  <span m='3694960'>the</span> <span m='3695050'>fourth.</span> <span m='3695640'>We'll
  mask</span> <span m='3696000'>out</span> <span m='3696220'>all</span> <span m='3696370'>the</span>
  <span m='3696460'>rest</span> <span m='3696760'>of</span> <span m='3696820'>the</span>
  <span m='3696910'>garbage.</span> <span m='3697390'>Because</span> <span m='3697600'>this</span>
  <span m='3697720'>multiplication</span> <span m='3698350'>made</span> <span m='3698500'>a</span>
  <span m='3698560'>quadratic</span> <span m='3699100'>number</span> <span m='3699370'>of</span>
  <span m='3699470'>bits.</span> <span m='3699640'>We</span> <span m='3699760'>only</span>
  <span m='3699970'>want</span> <span m='3700210'>these</span> <span m='3700630'>r</span>
  <span m='3700840'>bits,</span> <span m='3701830'>the</span> <span m='3702010'>r</span>
  <span m='3702160'>squared</span> <span m='3702550'>1</span> <span m='3702760'>bits</span>
  <span m='3703000'>in</span> <span m='3703120'>here.</span> <span m='3703360'>We'll</span>
  <span m='3703890'>mask</span> <span m='3704170'>away</span> <span m='3704380'>all</span>
  <span m='3704500'>the</span> <span m='3704620'>others.</span> <span m='3705280'>Take</span>
  <span m='3705460'>these</span> <span m='3705640'>bits,</span> <span m='3705970'>shift</span>
  <span m='3706300'>them</span> <span m='3706450'>over.</span> <span m='3707210'>Now</span>
  <span m='3707260'>they</span> <span m='3707380'>occupy</span> <span m='3707770'>a</span>
  <span m='3707830'>nice</span> <span m='3708100'>interval</span> <span m='3708610'>at</span>
  <span m='3708700'>the</span> <span m='3708820'>beginning</span> <span m='3709650'>size</span>
  <span m='3710050'>order</span> <span m='3711280'>r</span> <span m='3711450'>to</span>
  <span m='3711850'>the</span> <span m='3712000'>fourth.</span> <span m='3713560'>And</span>
  <span m='3714640'>that's</span> <span m='3714940'>our</span> <span m='3715060'>approximate</span>
  <span m='3715540'>sketch.</span> </p><p><span m='3716440'>So</span> <span m='3716560'>sketch</span>
  <span m='3716860'>should</span> <span m='3717130'>only</span> <span m='3717370'>take</span>
  <span m='3717660'>r,</span> <span m='3718720'>but</span> <span m='3719260'>we're</span>
  <span m='3719440'>being</span> <span m='3719620'>sloppy.</span> <span m='3720480'>With</span>
  <span m='3720670'>this</span> <span m='3720790'>multiplication</span> <span m='3721390'>trick,</span>
  <span m='3721600'>the</span> <span m='3721690'>best</span> <span m='3721930'>we</span>
  <span m='3722020'>know</span> <span m='3722230'>is</span> <span m='3722350'>to</span>
  <span m='3722500'>get</span> <span m='3722650'>down</span> <span m='3723040'>to</span>
  <span m='3723130'>r to the</span> <span m='3723190'>fourth.</span> <span m='3723640'>And</span>
  <span m='3724420'>that's</span> <span m='3725140'>good</span> <span m='3725290'>enough.</span>
  <span m='3727440'>And</span> <span m='3727540'>that's</span> <span m='3727720'>why</span>
  <span m='3727870'>I</span> <span m='3727900'>set</span> <span m='3728140'>everything</span>
  <span m='3728620'>to</span> <span m='3729370'>w</span> <span m='3729610'>to</span>
  <span m='3729710'>the</span> <span m='3729820'>one</span> <span m='3730110'>fifth.</span>
  <span m='3730400'>Because</span> <span m='3730600'>this</span> <span m='3730780'>is</span>
  <span m='3730870'>w</span> <span m='3731140'>to</span> <span m='3731260'>the</span>
  <span m='3731380'>4/5.</span> <span m='3732640'>We're</span> <span m='3732730'>going</span>
  <span m='3732850'>to</span> <span m='3732940'>have</span> <span m='3733240'>w</span>
  <span m='3733600'>to</span> <span m='3733720'>the</span> <span m='3733810'>1/5</span>
  <span m='3734230'>of</span> <span m='3734290'>them.</span> <span m='3734960'>And</span>
  <span m='3734980'>so</span> <span m='3735160'>if</span> <span m='3735370'>you</span>
  <span m='3736030'>take</span> <span m='3736270'>these</span> <span m='3736410'>sketches</span>
  <span m='3736900'>and</span> <span m='3736990'>you</span> <span m='3737110'>concatenate</span>
  <span m='3737830'>them,</span> <span m='3738760'>fuse</span> <span m='3739270'>them</span>
  <span m='3739450'>together</span> <span m='3739930'>if</span> <span m='3740050'>you</span>
  <span m='3740170'>will,</span> <span m='3740940'>and</span> <span m='3741010'>that's</span>
  <span m='3741250'>fusion</span> <span m='3741640'>trees.</span> <span m='3742700'>Then</span>
  <span m='3744210'>the</span> <span m='3744360'>sketches</span> <span m='3744910'>of</span>
  <span m='3745030'>all</span> <span m='3745390'>of</span> <span m='3745480'>the</span>
  <span m='3745570'>keys</span> <span m='3746130'>x0</span> <span m='3746530'>up</span>
  <span m='3746650'>to</span> <span m='3746740'>xk</span> <span m='3747970'>minus</span>
  <span m='3748270'>1</span> <span m='3748690'>will</span> <span m='3749110'>occupy</span>
  <span m='3750370'>order</span> <span m='3750640'>1</span> <span m='3750850'>words.</span>
  <span m='3751980'>Because</span> <span m='3752280'>it's</span> <span m='3752410'>order</span>
  <span m='3752680'>w</span> <span m='3753070'>bits,</span> <span m='3753720'>w</span>
  <span m='3754150'>to</span> <span m='3754270'>the</span> <span m='3754360'>4/5</span>
  <span m='3754960'>times</span> <span m='3755470'>w</span> <span m='3755740'>to</span>
  <span m='3755860'>the</span> <span m='3755980'>1/5.</span> </p><p><span m='3759730'>Which</span>
  <span m='3759940'>brings</span> <span m='3760300'>us</span> <span m='3760510'>to</span>
  <span m='3761530'>parallel</span> <span m='3762040'>comparison.</span> <span m='3765250'>I</span>
  <span m='3765370'>have</span> <span m='3765880'>all</span> <span m='3766120'>of</span>
  <span m='3766240'>these</span> <span m='3766780'>approximate</span> <span m='3767320'>sketches.</span>
  <span m='3767860'>So</span> <span m='3767890'>you</span> <span m='3767950'>could</span>
  <span m='3768100'>start</span> <span m='3768370'>forgetting</span> <span m='3768910'>approximate</span>
  <span m='3769420'>sketching.</span> <span m='3770620'>Somehow,</span> <span m='3771010'>we</span>
  <span m='3771130'>get</span> <span m='3771280'>these</span> <span m='3771430'>w</span>
  <span m='3771640'>to</span> <span m='3771820'>the</span> <span m='3771910'>4/5</span>
  <span m='3772420'>bits.</span> <span m='3773410'>We</span> <span m='3773470'>want</span>
  <span m='3773620'>to</span> <span m='3773680'>concatenate</span> <span m='3774220'>them</span>
  <span m='3774370'>together,</span> <span m='3775240'>and</span> <span m='3775330'>then</span>
  <span m='3775480'>in</span> <span m='3775630'>parallel</span> <span m='3776050'>compare</span>
  <span m='3776620'>all</span> <span m='3776920'>of</span> <span m='3777040'>them</span>
  <span m='3777820'>to</span> <span m='3777970'>the</span> <span m='3778060'>sketch</span>
  <span m='3778390'>of</span> <span m='3778520'>q.</span> <span m='3780690'>The</span>
  <span m='3780820'>sketch</span> <span m='3781120'>of</span> <span m='3781150'>the</span>
  <span m='3781380'>xi's</span> <span m='3781690'>we</span> <span m='3781810'>can</span>
  <span m='3781930'>preprocess.</span> <span m='3782620'>We</span> <span m='3782710'>can</span>
  <span m='3782830'>actually</span> <span m='3783040'>spend</span> <span m='3783310'>a</span>
  <span m='3783340'>lot</span> <span m='3783520'>of</span> <span m='3783580'>time</span>
  <span m='3784420'>finding</span> <span m='3784930'>the</span> <span m='3785030'>sketch</span>
  <span m='3785410'>function.</span> <span m='3786190'>But</span> <span m='3786280'>then</span>
  <span m='3786430'>we</span> <span m='3786520'>have</span> <span m='3786610'>to</span>
  <span m='3786730'>fix</span> <span m='3787030'>the</span> <span m='3787120'>sketch</span>
  <span m='3787480'>function.</span> <span m='3787890'>We</span> <span m='3787960'>have</span>
  <span m='3788050'>to</span> <span m='3788170'>be</span> <span m='3788290'>able</span>
  <span m='3788470'>to</span> <span m='3788560'>compute</span> <span m='3788850'>a</span>
  <span m='3788890'>sketch</span> <span m='3789190'>of</span> <span m='3789310'>q</span>
  <span m='3789610'>in</span> <span m='3789850'>constant</span> <span m='3790300'>time.</span>
  <span m='3790610'>That's</span> <span m='3790750'>what</span> <span m='3790840'>we</span>
  <span m='3790930'>just</span> <span m='3791140'>did.</span> <span m='3791680'>Sketch</span>
  <span m='3791950'>of</span> <span m='3792070'>q</span> <span m='3792250'>is</span>
  <span m='3792370'>one</span> <span m='3792610'>AND</span> <span m='3792880'>one</span>
  <span m='3793060'>multiplication</span> <span m='3793630'>and</span> <span m='3793720'>another</span>
  <span m='3794050'>AND.</span> <span m='3795130'>So</span> <span m='3795280'>computing</span>
  <span m='3795670'>sketches</span> <span m='3796090'>is</span> <span m='3796180'>fast.</span>
  <span m='3797530'>That's</span> <span m='3797800'>the</span> <span m='3797920'>steps</span>
  <span m='3798240'>of</span> <span m='3798560'>computing</span> <span m='3798790'>sketch</span>
  <span m='3799100'>of</span> <span m='3799210'>q.</span> </p><p><span m='3800110'>Now,</span>
  <span m='3800470'>next</span> <span m='3800680'>step</span> <span m='3800950'>is</span>
  <span m='3801160'>find</span> <span m='3801490'>it</span> <span m='3801580'>among</span>
  <span m='3801910'>the</span> <span m='3801970'>sketch</span> <span m='3802240'>of</span>
  <span m='3802300'>the</span> <span m='3802440'>xi's.</span> <span m='3803080'>So</span>
  <span m='3803260'>this</span> <span m='3803470'>is</span> <span m='3803620'>the</span>
  <span m='3803740'>next</span> <span m='3803980'>thing</span> <span m='3804730'>we</span>
  <span m='3804880'>want</span> <span m='3805030'>to</span> <span m='3805090'>make</span>
  <span m='3805270'>fast.</span> <span m='3822050'>It's</span> <span m='3822170'>actually</span>
  <span m='3822440'>pretty</span> <span m='3822650'>easy.</span> <span m='3823580'>You</span>
  <span m='3823670'>probably</span> <span m='3824000'>know</span> <span m='3824150'>you</span>
  <span m='3824300'>can</span> <span m='3824450'>compare</span> <span m='3824810'>two</span>
  <span m='3824990'>integers</span> <span m='3825410'>by</span> <span m='3825560'>subtracting</span>
  <span m='3826250'>one</span> <span m='3826400'>from</span> <span m='3826550'>the</span>
  <span m='3826670'>other.</span> <span m='3827400'>So</span> <span m='3827500'>we're</span>
  <span m='3827600'>just</span> <span m='3827700'>going</span> <span m='3827720'>to</span>
  <span m='3827810'>do</span> <span m='3827960'>that,</span> <span m='3828910'>but</span>
  <span m='3829040'>in</span> <span m='3829190'>a</span> <span m='3829220'>clever</span>
  <span m='3829580'>way,</span> <span m='3830090'>so</span> <span m='3830270'>we</span>
  <span m='3830390'>can</span> <span m='3830570'>do</span> <span m='3831290'>k</span>
  <span m='3831650'>subtractions</span> <span m='3832430'>for</span> <span m='3832640'>the</span>
  <span m='3832730'>price</span> <span m='3833030'>of</span> <span m='3833120'>one.</span>
  </p><p><span m='3843976'>I'm</span> <span m='3844370'>going</span> <span m='3844490'>to</span>
  <span m='3844550'>define</span> <span m='3844980'>the</span> <span m='3845060'>sketch</span>
  <span m='3845370'>of</span> <span m='3845440'>a</span> <span m='3845510'>node</span>
  <span m='3846200'>to</span> <span m='3846350'>be</span> <span m='3846740'>1</span>
  <span m='3847070'>bit</span> <span m='3848210'>followed</span> <span m='3848600'>by</span>
  <span m='3848980'>the</span> <span m='3849030'>sketch</span> <span m='3849530'>of</span>
  <span m='3849770'>x0</span> <span m='3851420'>dot,</span> <span m='3851630'>dot,</span>
  <span m='3851840'>dot,</span> <span m='3852400'>1</span> <span m='3853790'>sketch</span>
  <span m='3855850'>of</span> <span m='3856310'>xk</span> <span m='3857320'>minus</span>
  <span m='3857810'>one.</span> <span m='3859985'>And</span> <span m='3860420'>I'm</span>
  <span m='3860540'>going</span> <span m='3860780'>to</span> <span m='3860930'>define</span>
  <span m='3861770'>a</span> <span m='3861800'>sketch</span> <span m='3863630'>of</span>
  <span m='3863930'>q</span> <span m='3865340'>to</span> <span m='3865520'>the</span>
  <span m='3865660'>k-th</span> <span m='3866180'>power,</span> <span m='3866850'>so</span>
  <span m='3866930'>to</span> <span m='3867050'>speak,</span> <span m='3867450'>to</span>
  <span m='3867500'>be</span> <span m='3868050'>a</span> <span m='3868130'>0</span>
  <span m='3868520'>bit</span> <span m='3868880'>followed</span> <span m='3869270'>by</span>
  <span m='3870230'>sketch</span> <span m='3870620'>of</span> <span m='3870780'>q,</span>
  <span m='3872144'>dot, dot</span> <span m='3872626'>dot,</span> <span m='3873110'>zero</span>
  <span m='3873860'>bit</span> <span m='3875000'>sketch</span> <span m='3875780'>of</span>
  <span m='3876140'>q.</span> <span m='3879860'>This</span> <span m='3880040'>is</span>
  <span m='3880890'>aligning</span> <span m='3881450'>things,</span> <span m='3881910'>so</span>
  <span m='3882200'>that if</span> <span m='3882380'>I</span> <span m='3882620'>did</span>
  <span m='3882860'>this</span> <span m='3883040'>subtraction</span> <span m='3884270'>and</span>
  <span m='3884420'>this</span> <span m='3884660'>one,</span> <span m='3884990'>I</span>
  <span m='3885140'>would</span> <span m='3885500'>basically</span> <span m='3885860'>be</span>
  <span m='3885980'>comparing</span> <span m='3886550'>q</span> <span m='3887330'>with</span>
  <span m='3887480'>all</span> <span m='3887690'>the</span> <span m='3887840'>xi's</span>
  <span m='3888230'>at</span> <span m='3888320'>once.</span> </p><p><span m='3892490'>The</span>
  <span m='3892610'>point</span> <span m='3892850'>is</span> <span m='3893570'>these</span>
  <span m='3893720'>sketches--</span> <span m='3894260'>this</span> <span m='3894530'>is</span>
  <span m='3894620'>the</span> <span m='3894740'>thing</span> <span m='3894950'>that</span>
  <span m='3895070'>fits</span> <span m='3895340'>in</span> <span m='3895430'>order</span>
  <span m='3895650'>1</span> <span m='3895850'>words.</span> <span m='3897110'>These</span>
  <span m='3897290'>sketches</span> <span m='3897605'>are</span> <span m='3897920'>w</span>
  <span m='3898340'>to</span> <span m='3898490'>the</span> <span m='3898670'>4/5</span>
  <span m='3899210'>bits,</span> <span m='3900650'>and</span> <span m='3900800'>there's</span>
  <span m='3901010'>w</span> <span m='3901300'>to</span> <span m='3901420'>the</span>
  <span m='3901490'>1/5</span> <span m='3901940'>of</span> <span m='3902030'>them.</span>
  <span m='3902690'>So</span> <span m='3902840'>this</span> <span m='3902990'>whole</span>
  <span m='3903170'>thing</span> <span m='3903350'>is</span> <span m='3903440'>order</span>
  <span m='3903650'>w</span> <span m='3904010'>bits.</span> <span m='3904360'>So it</span>
  <span m='3904460'>fits</span> <span m='3904700'>in</span> <span m='3904790'>one</span>
  <span m='3905330'>word.</span> <span m='3906350'>This</span> <span m='3906530'>thing</span>
  <span m='3906740'>also.</span> <span m='3907850'>It</span> <span m='3908210'>happens</span>
  <span m='3908630'>to</span> <span m='3908750'>be</span> <span m='3908840'>the</span>
  <span m='3908930'>same</span> <span m='3909140'>bits</span> <span m='3909320'>repeated</span>
  <span m='3909710'>many</span> <span m='3909920'>times</span> <span m='3910280'>but</span>
  <span m='3910850'>also it</span> <span m='3911120'>fits</span> <span m='3911360'>in</span>
  <span m='3911480'>one</span> <span m='3911660'>word.</span> <span m='3913310'>How</span>
  <span m='3913490'>do</span> <span m='3913580'>I</span> <span m='3913670'>compute</span>
  <span m='3914030'>this</span> <span m='3914270'>thing?</span> <span m='3915920'>I</span>
  <span m='3916040'>can</span> <span m='3916190'>do it</span> <span m='3916310'>with</span>
  <span m='3916490'>multiplication.</span> <span m='3919330'>It's</span> <span m='3919400'>sketch</span>
  <span m='3919850'>of</span> <span m='3919970'>q</span> <span m='3921310'>times</span>
  <span m='3923180'>0000001,</span> <span m='3928226'>000000001.</span> </p><p><span
  m='3933600'>So,</span> <span m='3934160'>ahead</span> <span m='3934400'>of</span>
  <span m='3934490'>time,</span> <span m='3934790'>I'll</span> <span m='3934880'>just</span>
  <span m='3935190'>pre-compute</span> <span m='3936055'>this</span> <span m='3936550'>bit</span>
  <span m='3936740'>string</span> <span m='3936990'>that</span> <span m='3937070'>has</span>
  <span m='3937280'>1's</span> <span m='3938360'>at</span> <span m='3938510'>the</span>
  <span m='3938630'>rightmost</span> <span m='3939350'>slot</span> <span m='3939860'>for</span>
  <span m='3940040'>each</span> <span m='3940220'>of</span> <span m='3940310'>these</span>
  <span m='3941330'>k</span> <span m='3943010'>fields.</span> <span m='3944910'>If</span>
  <span m='3945050'>I</span> <span m='3945080'>just</span> <span m='3945230'>take</span>
  <span m='3945440'>that</span> <span m='3945620'>and</span> <span m='3945720'>multiply</span>
  <span m='3946070'>it by</span> <span m='3946190'>sketch</span> <span m='3946490'>of</span>
  <span m='3946580'>q,</span> <span m='3946790'>then</span> <span m='3946940'>I</span>
  <span m='3947030'>get</span> <span m='3947180'>this.</span> <span m='3948330'>So</span>
  <span m='3948410'>this</span> <span m='3948560'>is</span> <span m='3948650'>easy</span>
  <span m='3948860'>to</span> <span m='3948950'>do</span> <span m='3949170'>in</span>
  <span m='3949400'>one</span> <span m='3949610'>multiplication.</span> <span m='3952250'>Now,</span>
  <span m='3953080'>I</span> <span m='3953180'>take</span> <span m='3953390'>this</span>
  <span m='3953660'>thing</span> <span m='3954620'>minus</span> <span m='3955070'>this</span>
  <span m='3955310'>thing.</span> <span m='3959450'>I</span> <span m='3959940'>take</span>
  <span m='3960630'>the</span> <span m='3960720'>difference.</span> <span m='3964500'>And</span>
  <span m='3964710'>the</span> <span m='3964800'>key</span> <span m='3964950'>thing</span>
  <span m='3965160'>is</span> <span m='3965250'>because</span> <span m='3965640'>I</span>
  <span m='3965730'>put</span> <span m='3965970'>these</span> <span m='3966240'>1</span>
  <span m='3966570'>bits</span> <span m='3966870'>here,</span> <span m='3967770'>I'm</span>
  <span m='3968340'>taking</span> <span m='3968640'>this</span> <span m='3968850'>minus</span>
  <span m='3969240'>this.</span> <span m='3969600'>The</span> <span m='3969930'>point</span>
  <span m='3970140'>is</span> <span m='3970350'>either</span> <span m='3970650'>this</span>
  <span m='3970830'>1</span> <span m='3971070'>bit</span> <span m='3971310'>will</span>
  <span m='3971460'>get</span> <span m='3971640'>borrowed</span> <span m='3972270'>when</span>
  <span m='3972420'>I</span> <span m='3972480'>do</span> <span m='3972630'>binary</span>
  <span m='3972960'>subtraction,</span> <span m='3973530'>or</span> <span m='3973740'>it</span>
  <span m='3973800'>won't.</span> <span m='3974730'>It</span> <span m='3974820'>gets</span>
  <span m='3975000'>borrowed</span> <span m='3975570'>when</span> <span m='3975750'>this</span>
  <span m='3976020'>is</span> <span m='3976140'>bigger</span> <span m='3976380'>than</span>
  <span m='3976530'>this,</span> <span m='3977770'>otherwise</span> <span m='3978060'>it</span>
  <span m='3978120'>doesn't</span> <span m='3978360'>get</span> <span m='3978480'>borrowed.</span>
  <span m='3978990'>So</span> <span m='3979170'>I'm</span> <span m='3979230'>going</span>
  <span m='3979380'>to</span> <span m='3979470'>get</span> <span m='3980550'>either
  a</span> <span m='3980940'>0</span> <span m='3981420'>or</span> <span m='3981690'>1</span>
  <span m='3982740'>here,</span> <span m='3983620'>and</span> <span m='3983640'>then</span>
  <span m='3983760'>some</span> <span m='3983940'>garbage</span> <span m='3984360'>which</span>
  <span m='3984510'>I</span> <span m='3984570'>don't</span> <span m='3984750'>care</span>
  <span m='3984930'>about,</span> <span m='3985860'>and</span> <span m='3986120'>a</span>
  <span m='3986190'>0</span> <span m='3986580'>or</span> <span m='3986800'>a</span>
  <span m='3986860'>1</span> <span m='3987210'>here,</span> <span m='3988330'>and</span>
  <span m='3988350'>then</span> <span m='3988470'>some</span> <span m='3988620'>garbage.</span>
  </p><p><span m='3990430'>And</span> <span m='3990630'>I'll</span> <span m='3990810'>just</span>
  <span m='3991440'>mask</span> <span m='3991950'>that</span> <span m='3992190'>out.</span>
  <span m='3994110'>I'm</span> <span m='3994710'>ANDing</span> <span m='3996330'>with</span>
  <span m='3999210'>10000,</span> <span m='4001158'>100000.</span> <span m='4004760'>And</span>
  <span m='4004910'>so</span> <span m='4005060'>I</span> <span m='4005150'>end</span>
  <span m='4005300'>up</span> <span m='4005480'>just</span> <span m='4005780'>with</span>
  <span m='4006080'>01</span> <span m='4006770'>bits</span> <span m='4008720'>and</span>
  <span m='4008900'>the</span> <span m='4008990'>rest</span> <span m='4009210'>0's.</span>
  <span m='4017290'>And</span> <span m='4017440'>these</span> <span m='4017680'>bits,</span>
  <span m='4018655'>if I</span> <span m='4019150'>get</span> <span m='4019300'>it</span>
  <span m='4019360'>right,</span> <span m='4020440'>it's</span> <span m='4020600'>1</span>
  <span m='4021790'>if</span> <span m='4025540'>the</span> <span m='4025660'>sketch</span>
  <span m='4026230'>of</span> <span m='4026390'>q</span> <span m='4031690'>is</span>
  <span m='4031870'>less</span> <span m='4032290'>than</span> <span m='4032410'>or</span>
  <span m='4032500'>equal</span> <span m='4032800'>to</span> <span m='4034090'>the</span>
  <span m='4034210'>sketch</span> <span m='4034810'>of</span> <span m='4034990'>xi.</span>
  <span m='4037870'>And</span> <span m='4038020'>it's</span> <span m='4038140'>0</span>
  <span m='4039670'>if</span> <span m='4040090'>the</span> <span m='4040190'>sketch</span>
  <span m='4040660'>of</span> <span m='4040810'>q</span> <span m='4042400'>is</span>
  <span m='4042640'>greater</span> <span m='4043120'>than</span> <span m='4043885'>the</span>
  <span m='4044320'>sketch</span> <span m='4044680'>of</span> <span m='4044770'>xi.</span>
  <span m='4046560'>Because</span> <span m='4046780'>when</span> <span m='4046930'>it's</span>
  <span m='4047110'>greater</span> <span m='4047830'>that's</span> <span m='4048040'>when</span>
  <span m='4048190'>the</span> <span m='4048280'>borrow</span> <span m='4048610'>happens.</span>
  <span m='4049150'>And</span> <span m='4049240'>then</span> <span m='4049390'>the</span>
  <span m='4049480'>1</span> <span m='4049690'>turns</span> <span m='4049960'>into</span>
  <span m='4050140'>a</span> <span m='4050210'>0.</span> <span m='4050860'>So</span>
  <span m='4051170'>1's</span> <span m='4051670'>indicate</span> <span m='4053050'>the</span>
  <span m='4053260'>query</span> <span m='4053560'>is</span> <span m='4053860'>too</span>
  <span m='4054040'>small</span> <span m='4055860'>or</span> <span m='4056010'>they're</span>
  <span m='4056170'>just</span> <span m='4056440'>right.</span> <span m='4057130'>And</span>
  <span m='4057250'>0's</span> <span m='4057640'>indicate</span> <span m='4058750'>that</span>
  <span m='4058900'>they're</span> <span m='4059050'>greater.</span> </p><p><span
  m='4060370'>Now</span> <span m='4060720'>the</span> <span m='4060860'>xi's</span>
  <span m='4061280'>were</span> <span m='4061420'>in</span> <span m='4061570'>order.</span>
  <span m='4063220'>So</span> <span m='4063370'>probably</span> <span m='4064240'>x0</span>
  <span m='4065080'>is</span> <span m='4065200'>too</span> <span m='4065410'>small.</span>
  <span m='4066500'>And</span> <span m='4066600'>so</span> <span m='4066640'>this</span>
  <span m='4066850'>bit</span> <span m='4067060'>will</span> <span m='4067210'>end</span>
  <span m='4067360'>up</span> <span m='4067450'>being</span> <span m='4067660'>a</span>
  <span m='4067720'>0.</span> <span m='4068530'>Probably</span> <span m='4069040'>xk</span>
  <span m='4069450'>this</span> <span m='4069610'>plus 1</span> <span m='4069790'>is</span>
  <span m='4069880'>too</span> <span m='4070060'>big.</span> <span m='4070340'>So</span>
  <span m='4070480'>this</span> <span m='4070660'>bit</span> <span m='4070870'>will</span>
  <span m='4070990'>be</span> <span m='4071560'>a</span> <span m='4071650'>1.</span>
  <span m='4071920'>In</span> <span m='4072010'>general,</span> <span m='4072310'>it's</span>
  <span m='4072400'>going</span> <span m='4072520'>to</span> <span m='4072610'>be</span>
  <span m='4072730'>a</span> <span m='4072790'>monotone</span> <span m='4073990'>sequence</span>
  <span m='4074380'>of</span> <span m='4074440'>bits.</span> <span m='4074680'>If</span>
  <span m='4074740'>you</span> <span m='4074830'>look</span> <span m='4075010'>at</span>
  <span m='4075100'>these</span> <span m='4075970'>bits,</span> <span m='4077330'>these</span>
  <span m='4077560'>01</span> <span m='4078130'>bits,</span> <span m='4078940'>they
  are</span> <span m='4079180'>going</span> <span m='4079420'>to</span> <span m='4079540'>be</span>
  <span m='4079810'>monotone.</span> <span m='4081940'>They'll</span> <span m='4082150'>be</span>
  <span m='4082330'>0</span> <span m='4082690'>for</span> <span m='4082870'>a</span>
  <span m='4082900'>while,</span> <span m='4086640'>and</span> <span m='4086850'>then</span>
  <span m='4087060'>at</span> <span m='4087270'>some</span> <span m='4087510'>point</span>
  <span m='4087750'>they'll</span> <span m='4087930'>switch</span> <span m='4088230'>to</span>
  <span m='4088320'>being</span> <span m='4088530'>1's.</span> <span m='4090120'>And</span>
  <span m='4090360'>that</span> <span m='4091170'>transition</span> <span m='4091830'>from</span>
  <span m='4092010'>0</span> <span m='4092220'>to</span> <span m='4092310'>1</span>
  <span m='4092640'>that's</span> <span m='4092880'>what</span> <span m='4093000'>we</span>
  <span m='4093120'>want</span> <span m='4093270'>to</span> <span m='4093330'>find.</span>
  <span m='4094740'>These</span> <span m='4095490'>keys</span> <span m='4095730'>are</span>
  <span m='4095820'>too</span> <span m='4096000'>small.</span> <span m='4096660'>These</span>
  <span m='4096840'>keys</span> <span m='4097080'>are</span> <span m='4097140'>too</span>
  <span m='4097319'>big.</span> <span m='4098020'>This</span> <span m='4098069'>key</span>
  <span m='4098240'>is</span> <span m='4098370'>just</span> <span m='4098580'>right.</span>
  </p><p><span m='4101220'>So</span> <span m='4101939'>we</span> <span m='4102330'>fit</span>
  <span m='4102569'>between--</span> <span m='4103529'>this</span> <span m='4103740'>would</span>
  <span m='4103830'>be</span> <span m='4104430'>position</span> <span m='4105069'>i</span>
  <span m='4105420'>and</span> <span m='4105779'>position</span> <span m='4106180'>i</span>
  <span m='4106350'>plus</span> <span m='4106620'>1.</span> <span m='4106890'>And</span>
  <span m='4106979'>we</span> <span m='4107100'>fit</span> <span m='4107279'>between</span>
  <span m='4107700'>xi</span> <span m='4108090'>and</span> <span m='4108180'>xi</span>
  <span m='4108450'>plus</span> <span m='4108689'>1.</span> <span m='4108830'>Well,</span>
  <span m='4109020'>not</span> <span m='4109229'>actually</span> <span m='4109560'>xi</span>
  <span m='4109830'>and</span> <span m='4109920'>xi</span> <span m='4110069'>plus</span>
  <span m='4110250'>1.</span> <span m='4110899'>We</span> <span m='4111000'>fit</span>
  <span m='4111180'>between</span> <span m='4111479'>sketch</span> <span m='4111810'>of</span>
  <span m='4111899'>xi</span> <span m='4112260'>and</span> <span m='4112350'>sketch</span>
  <span m='4112710'>of</span> <span m='4112800'>xi</span> <span m='4113069'>plus</span>
  <span m='4113310'>1.</span> <span m='4115170'>That's</span> <span m='4115410'>what</span>
  <span m='4115500'>we</span> <span m='4115620'>need</span> <span m='4115770'>to</span>
  <span m='4115859'>find.</span> <span m='4116180'>Now</span> <span m='4116310'>that</span>
  <span m='4116520'>is</span> <span m='4116670'>again</span> <span m='4117120'>the</span>
  <span m='4117359'>problem</span> <span m='4117720'>of</span> <span m='4117810'>finding</span>
  <span m='4118170'>the</span> <span m='4118260'>most</span> <span m='4118470'>significant</span>
  <span m='4119370'>1</span> <span m='4119609'>bit.</span> <span m='4120810'>But</span>
  <span m='4121800'>in</span> <span m='4121920'>this</span> <span m='4122069'>case,</span>
  <span m='4122939'>I</span> <span m='4123060'>don't</span> <span m='4123270'>need</span>
  <span m='4123450'>that</span> <span m='4123630'>operation.</span> <span m='4124890'>I</span>
  <span m='4124979'>can</span> <span m='4125130'>do</span> <span m='4125250'>it</span>
  <span m='4125340'>in</span> <span m='4125430'>a</span> <span m='4125490'>simpler</span>
  <span m='4125850'>way.</span> </p><p><span m='4130970'>But</span> <span m='4131090'>we're</span>
  <span m='4131210'>almost</span> <span m='4131479'>done,</span> <span m='4131750'>right?</span>
  <span m='4131899'>We've</span> <span m='4131990'>done</span> <span m='4132170'>all</span>
  <span m='4132270'>of</span> <span m='4132330'>this</span> <span m='4132410'>parallel</span>
  <span m='4132740'>comparison.</span> <span m='4133250'>We</span> <span m='4133310'>just</span>
  <span m='4133520'>need</span> <span m='4133660'>to</span> <span m='4133729'>find</span>
  <span m='4134000'>that</span> <span m='4134180'>transition</span> <span m='4134689'>between</span>
  <span m='4134990'>0's</span> <span m='4135260'>and</span> <span m='4135350'>1's.</span>
  <span m='4137990'>Turns</span> <span m='4138229'>out</span> <span m='4138350'>there's</span>
  <span m='4138500'>a</span> <span m='4138560'>cool</span> <span m='4138830'>way</span>
  <span m='4138979'>to</span> <span m='4139100'>do it.</span> <span m='4150462'>The</span>
  <span m='4150960'>cool</span> <span m='4151260'>way</span> <span m='4151620'>is</span>
  <span m='4152310'>multiply</span> <span m='4156000'>that</span> <span m='4156240'>word</span>
  <span m='4156689'>times</span> <span m='4160677'>our good</span> <span m='4161149'>friend,</span>
  <span m='4161600'>this</span> <span m='4161810'>thing,</span> <span m='4162729'>000001,</span>
  <span m='4166290'>000001.</span> <span m='4169612'>This</span> <span m='4170109'>is</span>
  <span m='4170330'>a</span> <span m='4170390'>little</span> <span m='4170630'>harder</span>
  <span m='4170870'>to</span> <span m='4170930'>think</span> <span m='4171140'>about.</span>
  <span m='4171350'>But</span> <span m='4171410'>take</span> <span m='4171729'>this</span>
  <span m='4172000'>bit</span> <span m='4172189'>string</span> <span m='4172600'>and</span>
  <span m='4172939'>multiply</span> <span m='4173194'>it</span> <span m='4173450'>by</span>
  <span m='4173689'>this.</span> </p><p><span m='4175399'>What</span> <span m='4175550'>that</span>
  <span m='4175729'>does</span> <span m='4176660'>is</span> <span m='4176720'>it</span>
  <span m='4176779'>takes</span> <span m='4177109'>this</span> <span m='4177240'>string.</span>
  <span m='4178130'>It</span> <span m='4178220'>includes</span> <span m='4178640'>it.</span>
  <span m='4178760'>Because</span> <span m='4178910'>there's</span> <span m='4179060'>a</span>
  <span m='4179149'>1</span> <span m='4179390'>right</span> <span m='4179600'>there.</span>
  <span m='4180260'>It</span> <span m='4180359'>shifts</span> <span m='4180680'>it</span>
  <span m='4180830'>over</span> <span m='4181520'>by</span> <span m='4181729'>one</span>
  <span m='4181970'>field,</span> <span m='4182960'>and</span> <span m='4183080'>includes</span>
  <span m='4183410'>it,</span> <span m='4183649'>shifts</span> <span m='4183910'>it</span>
  <span m='4184160'>over</span> <span m='4184399'>by</span> <span m='4184550'>another</span>
  <span m='4184850'>field,</span> <span m='4185510'>includes</span> <span m='4185930'>it.</span>
  <span m='4186380'>So this</span> <span m='4186680'>repeats</span> <span m='4187189'>this</span>
  <span m='4187399'>thing.</span> <span m='4188000'>And</span> <span m='4188120'>now</span>
  <span m='4188540'>collision</span> <span m='4189020'>happens,</span> <span m='4189979'>because</span>
  <span m='4190189'>they're</span> <span m='4190279'>perfectly</span> <span m='4190760'>aligned.</span>
  <span m='4191720'>If</span> <span m='4191870'>these</span> <span m='4192050'>1</span>
  <span m='4192260'>bits</span> <span m='4192510'>ever</span> <span m='4192800'>hit</span>
  <span m='4192950'>each</span> <span m='4193130'>other,</span> <span m='4193850'>they'll</span>
  <span m='4194000'>be</span> <span m='4194120'>summing.</span> <span m='4195490'>Now,</span>
  <span m='4195880'>some</span> <span m='4196100'>of</span> <span m='4196160'>them</span>
  <span m='4196280'>are</span> <span m='4196370'>0,</span> <span m='4196640'>some</span>
  <span m='4196820'>of</span> <span m='4196880'>them</span> <span m='4197030'>are</span>
  <span m='4197090'>1.</span> <span m='4198440'>Instead</span> <span m='4198830'>of</span>
  <span m='4199130'>computing</span> <span m='4200120'>the</span> <span m='4200240'>position</span>
  <span m='4200780'>of</span> <span m='4200900'>the</span> <span m='4200990'>0</span>
  <span m='4201200'>to</span> <span m='4201290'>1</span> <span m='4201470'>transition,</span>
  <span m='4201950'>we</span> <span m='4202070'>could</span> <span m='4202220'>equivalently</span>
  <span m='4202790'>just</span> <span m='4202970'>count</span> <span m='4203300'>how</span>
  <span m='4203540'>many</span> <span m='4203780'>1's</span> <span m='4204140'>are</span>
  <span m='4204300'>there.</span> <span m='4205730'>I</span> <span m='4205790'>mean</span>
  <span m='4205940'>that's</span> <span m='4206090'>counting</span> <span m='4206360'>from</span>
  <span m='4206510'>the</span> <span m='4206600'>right,</span> <span m='4206920'>whereas</span>
  <span m='4207220'>this is</span> <span m='4207350'>counting</span> <span m='4207550'>of</span>
  <span m='4207710'>from</span> <span m='4207830'>the</span> <span m='4207920'>left,</span>
  <span m='4208220'>whatever,</span> <span m='4209090'>same</span> <span m='4209330'>thing.</span>
  </p><p><span m='4210870'>So</span> <span m='4210920'>if</span> <span m='4211010'>I</span>
  <span m='4211070'>could</span> <span m='4211190'>count</span> <span m='4211430'>how</span>
  <span m='4211550'>many</span> <span m='4211730'>1's</span> <span m='4212060'>I'd</span>
  <span m='4212150'>be</span> <span m='4212300'>all</span> <span m='4212450'>set.</span>
  <span m='4213020'>And</span> <span m='4213140'>in</span> <span m='4213230'>this</span>
  <span m='4213380'>case,</span> <span m='4213960'>if</span> <span m='4214040'>you</span>
  <span m='4214190'>look</span> <span m='4214460'>at</span> <span m='4218000'>right</span>
  <span m='4218390'>here,</span> <span m='4221460'>this</span> <span m='4221570'>will</span>
  <span m='4221750'>be</span> <span m='4222100'>the</span> <span m='4222260'>number</span>
  <span m='4222650'>of</span> <span m='4222890'>1's</span> <span m='4224850'>I</span>
  <span m='4225050'>claim.</span> <span m='4225570'>Because</span> <span m='4226400'>if</span>
  <span m='4226550'>this</span> <span m='4226760'>one</span> <span m='4227000'>was</span>
  <span m='4227180'>there,</span> <span m='4227540'>it</span> <span m='4227690'>will</span>
  <span m='4227810'>stay</span> <span m='4228050'>there.</span> <span m='4229070'>And</span>
  <span m='4229190'>then</span> <span m='4229340'>all</span> <span m='4229610'>the</span>
  <span m='4229760'>other</span> <span m='4230000'>bits</span> <span m='4230270'>get</span>
  <span m='4230450'>shifted</span> <span m='4230810'>over</span> <span m='4231170'>and</span>
  <span m='4231410'>fall</span> <span m='4231860'>right</span> <span m='4232220'>here</span>
  <span m='4233060'>on</span> <span m='4233240'>top</span> <span m='4233510'>of</span>
  <span m='4233600'>this</span> <span m='4233780'>bit.</span> <span m='4234380'>So</span>
  <span m='4234560'>as</span> <span m='4234710'>they</span> <span m='4234830'>get</span>
  <span m='4235010'>added</span> <span m='4235280'>up,</span> <span m='4235550'>you'll</span>
  <span m='4235790'>get</span> <span m='4235940'>some</span> <span m='4236120'>carries</span>
  <span m='4236690'>and</span> <span m='4237020'>things</span> <span m='4237260'>will</span>
  <span m='4237500'>move</span> <span m='4237740'>over.</span> <span m='4238460'>But</span>
  <span m='4238640'>this</span> <span m='4238820'>is</span> <span m='4238940'>not</span>
  <span m='4239150'>very</span> <span m='4239360'>big.</span> <span m='4239930'>Because</span>
  <span m='4240170'>we're</span> <span m='4240290'>talking</span> <span m='4240590'>about</span>
  <span m='4242380'>k</span> <span m='4242780'>bits.</span> <span m='4243450'>So</span>
  <span m='4243530'>this</span> <span m='4243740'>is</span> <span m='4243830'>only</span>
  <span m='4244040'>going</span> <span m='4244160'>to</span> <span m='4244250'>be</span>
  <span m='4244430'>with</span> <span m='4244670'>log</span> <span m='4245030'>k.</span>
  <span m='4247940'>I</span> <span m='4248000'>mean</span> <span m='4248150'>there's</span>
  <span m='4248300'>tons</span> <span m='4248630'>of</span> <span m='4248720'>room</span>
  <span m='4248930'>here</span> <span m='4249110'>before</span> <span m='4249410'>we</span>
  <span m='4249560'>get</span> <span m='4249740'>to</span> <span m='4249830'>the</span>
  <span m='4249950'>next</span> <span m='4250220'>shift.</span> </p><p><span m='4251660'>So</span>
  <span m='4251780'>I</span> <span m='4251870'>just</span> <span m='4252020'>look</span>
  <span m='4252230'>at</span> <span m='4252350'>these</span> <span m='4252560'>bits.</span>
  <span m='4252830'>I</span> <span m='4252920'>mask</span> <span m='4253210'>them</span>
  <span m='4253360'>out.</span> <span m='4253550'>I</span> <span m='4253640'>shift</span>
  <span m='4253880'>them</span> <span m='4254000'>over.</span> <span m='4254570'>And</span>
  <span m='4254690'>that</span> <span m='4254900'>gives</span> <span m='4255140'>me</span>
  <span m='4255290'>the</span> <span m='4255380'>number</span> <span m='4255740'>of</span>
  <span m='4255830'>1's.</span> <span m='4257340'>This</span> <span m='4257390'>is</span>
  <span m='4257540'>a</span> <span m='4257720'>cute</span> <span m='4257990'>way</span>
  <span m='4258290'>to</span> <span m='4259130'>count</span> <span m='4259370'>the</span>
  <span m='4259430'>number</span> <span m='4259670'>of</span> <span m='4259760'>ones</span>
  <span m='4259970'>in</span> <span m='4260060'>a</span> <span m='4260120'>bit string</span>
  <span m='4260600'>when</span> <span m='4261350'>the</span> <span m='4261470'>bits</span>
  <span m='4261710'>are</span> <span m='4261800'>spread</span> <span m='4262190'>out</span>
  <span m='4262430'>nicely.</span> <span m='4263330'>They</span> <span m='4263450'>have</span>
  <span m='4263690'>to</span> <span m='4263780'>be</span> <span m='4263930'>at</span>
  <span m='4263990'>least</span> <span m='4264230'>log k</span> <span m='4264680'>away</span>
  <span m='4264890'>from</span> <span m='4265010'>each</span> <span m='4265130'>other.</span>
  <span m='4265590'>Otherwise</span> <span m='4265850'>you</span> <span m='4265910'>get</span>
  <span m='4266050'>collision.</span> <span m='4266840'>It</span> <span m='4266930'>doesn't</span>
  <span m='4267140'>work</span> <span m='4267290'>for</span> <span m='4267380'>an</span>
  <span m='4267440'>arbitrary</span> <span m='4267800'>bit</span> <span m='4267950'>string.</span>
  <span m='4268640'>But for</span> <span m='4268800'>a bit</span> <span m='4268970'>string</span>
  <span m='4269210'>like</span> <span m='4269360'>this,</span> <span m='4270020'>we're</span>
  <span m='4270110'>all</span> <span m='4270230'>set.</span> <span m='4270600'>We</span>
  <span m='4270700'>can</span> <span m='4270710'>count</span> <span m='4270920'>how</span>
  <span m='4271010'>many</span> <span m='4271220'>1's</span> <span m='4271430'>there</span>
  <span m='4271550'>are.</span> <span m='4272090'>Then</span> <span m='4272270'>we</span>
  <span m='4272390'>figure</span> <span m='4272660'>out</span> <span m='4272780'>where</span>
  <span m='4273110'>this</span> <span m='4273440'>transition</span> <span m='4273950'>is.</span>
  <span m='4276500'>That</span> <span m='4276770'>is</span> <span m='4277010'>parallel</span>
  <span m='4277580'>comparison.</span> </p><p><span m='4279410'>One</span> <span m='4279740'>more</span>
  <span m='4279920'>thing</span> <span m='4280160'>to</span> <span m='4280280'>do,</span>
  <span m='4281720'>which</span> <span m='4281990'>is</span> <span m='4283850'>most</span>
  <span m='4284060'>significant</span> <span m='4286310'>set</span> <span m='4286930'>bit.</span>
  <span m='4293800'>The</span> <span m='4294290'>place</span> <span m='4294560'>we</span>
  <span m='4294650'>needed</span> <span m='4294920'>this,</span> <span m='4295130'>was</span>
  <span m='4295280'>we</span> <span m='4295340'>were</span> <span m='4295430'>taking</span>
  <span m='4295760'>the</span> <span m='4295910'>XOR</span> <span m='4296710'>of</span>
  <span m='4297680'>q</span> <span m='4298640'>with</span> <span m='4298790'>xi.</span>
  <span m='4300020'>And</span> <span m='4300110'>then</span> <span m='4300230'>we</span>
  <span m='4300320'>wanted</span> <span m='4300530'>to</span> <span m='4300620'>find</span>
  <span m='4300890'>the</span> <span m='4300980'>first</span> <span m='4301250'>bit</span>
  <span m='4301490'>where</span> <span m='4301640'>they</span> <span m='4301880'>were</span>
  <span m='4302030'>differing.</span> <span m='4303050'>So</span> <span m='4303170'>after</span>
  <span m='4303410'>you</span> <span m='4303470'>take</span> <span m='4303680'>the</span>
  <span m='4303770'>XOR,</span> <span m='4304190'>you've</span> <span m='4304340'>got</span>
  <span m='4304550'>some</span> <span m='4305255'>bit</span> <span m='4305510'>string</span>
  <span m='4305790'>that</span> <span m='4305870'>looks</span> <span m='4306080'>like</span>
  <span m='4306260'>this.</span> <span m='4307440'>And</span> <span m='4307850'>you</span>
  <span m='4307970'>want</span> <span m='4308090'>to</span> <span m='4308150'>find</span>
  <span m='4308450'>this</span> <span m='4308630'>bit,</span> <span m='4309320'>because</span>
  <span m='4309500'>that's</span> <span m='4309710'>the</span> <span m='4309800'>place</span>
  <span m='4310040'>you</span> <span m='4310160'>diverged.</span> <span m='4311180'>Then</span>
  <span m='4311390'>we</span> <span m='4311570'>would</span> <span m='4311720'>turn</span>
  <span m='4311960'>that</span> <span m='4312110'>to</span> <span m='4312230'>0</span>
  <span m='4312620'>and</span> <span m='4312710'>change</span> <span m='4312950'>the</span>
  <span m='4313040'>rest</span> <span m='4313220'>to</span> <span m='4313400'>1's.</span>
  <span m='4313730'>That's</span> <span m='4313910'>easy</span> <span m='4314150'>to</span>
  <span m='4314240'>do</span> <span m='4314510'>if</span> <span m='4314720'>we</span>
  <span m='4314840'>know</span> <span m='4315080'>where</span> <span m='4315230'>this</span>
  <span m='4315440'>bit</span> <span m='4315710'>is.</span> <span m='4317060'>And</span>
  <span m='4317150'>this</span> <span m='4317330'>is</span> <span m='4317450'>a</span>
  <span m='4317540'>generally</span> <span m='4317930'>useful</span> <span m='4318260'>operation.</span>
  <span m='4318560'>It's</span> <span m='4318860'>used</span> <span m='4319070'>all</span>
  <span m='4319220'>over</span> <span m='4320840'>computer</span> <span m='4321230'>science,</span>
  <span m='4321650'>I</span> <span m='4321770'>would</span> <span m='4321890'>say.</span>
  <span m='4323720'>So</span> <span m='4323930'>much</span> <span m='4324110'>so</span>
  <span m='4324260'>that</span> <span m='4324380'>most</span> <span m='4324660'>CPUs</span>
  <span m='4325070'>have</span> <span m='4325310'>it</span> <span m='4325400'>as</span>
  <span m='4325580'>an</span> <span m='4325820'>instruction,</span> <span m='4326750'>so</span>
  <span m='4326990'>on</span> <span m='4328250'>Intel it's</span> <span m='4328610'>called</span>
  <span m='4328790'>CLZ.</span> <span m='4330130'>And</span> <span m='4330950'>it</span>
  <span m='4331130'>has</span> <span m='4331310'>many</span> <span m='4331520'>names.</span>
  <span m='4331850'>They're</span> <span m='4331940'>in</span> <span m='4332030'>the</span>
  <span m='4332120'>notes.</span> </p><p><span m='4333290'>Most</span> <span m='4334100'>compilers</span>
  <span m='4334700'>provide</span> <span m='4335090'>this</span> <span m='4335240'>to</span>
  <span m='4335330'>you</span> <span m='4335390'>as</span> <span m='4335480'>an</span>
  <span m='4335540'>operation</span> <span m='4336830'>on</span> <span m='4337100'>architectures</span>
  <span m='4337610'>that</span> <span m='4337730'>have</span> <span m='4337940'>it,</span>
  <span m='4338120'>otherwise</span> <span m='4338510'>they</span> <span m='4338600'>simulate</span>
  <span m='4339050'>it.</span> <span m='4340160'>They</span> <span m='4340340'>probably</span>
  <span m='4340580'>don't</span> <span m='4340730'>simulate</span> <span m='4341120'>it
  as</span> <span m='4341360'>well</span> <span m='4341660'>as</span> <span m='4341840'>I'm</span>
  <span m='4341990'>going</span> <span m='4342200'>to</span> <span m='4342290'>tell</span>
  <span m='4342560'>you.</span> <span m='4343280'>Because</span> <span m='4343430'>we're</span>
  <span m='4343550'>going</span> <span m='4343670'>to</span> <span m='4343730'>do</span>
  <span m='4343820'>this</span> <span m='4344000'>in</span> <span m='4344180'>constant</span>
  <span m='4344580'>time</span> <span m='4344930'>on</span> <span m='4345110'>a</span>
  <span m='4345170'>regular</span> <span m='4345680'>word</span> <span m='4345920'>RAM,</span>
  <span m='4346160'>just</span> <span m='4346340'>C</span> <span m='4346550'>operations,</span>
  <span m='4347920'>which</span> <span m='4348550'>does</span> <span m='4348710'>not</span>
  <span m='4349580'>seem</span> <span m='4349790'>to</span> <span m='4349850'>have</span>
  <span m='4349940'>made</span> <span m='4350120'>it</span> <span m='4350180'>into</span>
  <span m='4350420'>popular</span> <span m='4350810'>culture.</span> <span m='4351620'>It's</span>
  <span m='4351770'>slightly</span> <span m='4352490'>complicated,</span> <span m='4353860'>which</span>
  <span m='4353970'>is</span> <span m='4354120'>why.</span> <span m='4356600'>But</span>
  <span m='4356810'>what's</span> <span m='4356990'>cool</span> <span m='4357860'>is</span>
  <span m='4358010'>we're</span> <span m='4358100'>going</span> <span m='4358220'>to</span>
  <span m='4358310'>use--</span> <span m='4358790'>I'm</span> <span m='4358850'>going</span>
  <span m='4358970'>to</span> <span m='4359030'>do</span> <span m='4359150'>this</span>
  <span m='4359330'>relatively</span> <span m='4359870'>quickly.</span> <span m='4360290'>Because</span>
  <span m='4360460'>I</span> <span m='4360500'>don't</span> <span m='4360650'>have</span>
  <span m='4360830'>a</span> <span m='4360890'>ton</span> <span m='4361100'>of</span>
  <span m='4361160'>time.</span> </p><p><span m='4362000'>We're</span> <span m='4362090'>going</span>
  <span m='4362200'>to</span> <span m='4362270'>use</span> <span m='4362570'>all</span>
  <span m='4362840'>the</span> <span m='4362960'>things</span> <span m='4363230'>that</span>
  <span m='4363350'>we</span> <span m='4363470'>just</span> <span m='4363710'>did</span>
  <span m='4364460'>again,</span> <span m='4366310'>quickly.</span> <span m='4367020'>Most</span>
  <span m='4367160'>of</span> <span m='4367220'>them</span> <span m='4367370'>just</span>
  <span m='4367550'>as</span> <span m='4367670'>black</span> <span m='4367910'>boxes.</span>
  <span m='4369710'>All</span> <span m='4369800'>right.</span> <span m='4371010'>So,</span>
  <span m='4371390'>here's</span> <span m='4371840'>what</span> <span m='4371990'>we're</span>
  <span m='4372080'>going</span> <span m='4372230'>to</span> <span m='4372350'>do.</span>
  <span m='4373700'>Maybe</span> <span m='4373970'>I</span> <span m='4374060'>should</span>
  <span m='4374270'>go</span> <span m='4375680'>somewhere</span> <span m='4375980'>new.</span>
  <span m='4381430'>So,</span> <span m='4381610'>I'm</span> <span m='4381700'>going</span>
  <span m='4381820'>to</span> <span m='4381910'>use</span> <span m='4382120'>sketches,</span>
  <span m='4383140'>not</span> <span m='4383320'>approximate</span> <span m='4383740'>sketches,</span>
  <span m='4384100'>but</span> <span m='4384220'>I'm</span> <span m='4384280'>going</span>
  <span m='4384400'>to</span> <span m='4384520'>sketches.</span> <span m='4384940'>I'm
  going</span> <span m='4384990'>to</span> <span m='4385090'>use</span> <span m='4385270'>multiplication.</span>
  <span m='4386210'>I'm</span> <span m='4386400'>going to use</span> <span m='4386620'>parallel</span>
  <span m='4386980'>comparison.</span> <span m='4388570'>And</span> <span m='4388690'>in</span>
  <span m='4388750'>some</span> <span m='4388930'>sense</span> <span m='4389180'>I'm
  going</span> <span m='4389270'>to use</span> <span m='4389440'>most</span> <span
  m='4389620'>significant</span> <span m='4390100'>set</span> <span m='4390390'>bit.</span>
  <span m='4390930'>All of</span> <span m='4391270'>these</span> <span m='4391480'>things</span>
  <span m='4392350'>I'm</span> <span m='4392440'>going</span> <span m='4392560'>to</span>
  <span m='4392650'>use</span> <span m='4393010'>to</span> <span m='4393130'>solve</span>
  <span m='4393430'>the</span> <span m='4393520'>most</span> <span m='4393700'>significant</span>
  <span m='4394190'>set</span> <span m='4394560'>bit problem.</span> </p><p><span
  m='4405410'>So</span> <span m='4405670'>here's</span> <span m='4405970'>what</span>
  <span m='4406060'>we</span> <span m='4406180'>do.</span> <span m='4406390'>We</span>
  <span m='4406780'>split</span> <span m='4407860'>the</span> <span m='4410020'>word</span>
  <span m='4411610'>into</span> <span m='4412880'>root</span> <span m='4413780'>w</span>
  <span m='4414190'>clusters</span> <span m='4417710'>of</span> <span m='4418120'>root</span>
  <span m='4418450'>w</span> <span m='4419800'>bits.</span> <span m='4421270'>Sound</span>
  <span m='4421510'>familiar?</span> <span m='4421990'>This</span> <span m='4422140'>is</span>
  <span m='4422200'>exactly</span> <span m='4422630'>what</span> <span m='4422740'>we</span>
  <span m='4422830'>did in</span> <span m='4422950'>van Emde</span> <span m='4423470'>Boas.</span>
  <span m='4424370'>So</span> <span m='4424510'>van Emde</span> <span m='4424810'>Boas</span>
  <span m='4425140'>did</span> <span m='4425290'>this</span> <span m='4425440'>recursively.</span>
  <span m='4426070'>We're</span> <span m='4426220'>going</span> <span m='4426330'>to</span>
  <span m='4426430'>do</span> <span m='4426580'>it</span> <span m='4426760'>once.</span>
  <span m='4427360'>We</span> <span m='4427570'>can</span> <span m='4427690'>only</span>
  <span m='4427900'>afford</span> <span m='4428170'>constant</span> <span m='4428610'>time.</span>
  <span m='4429890'>So</span> <span m='4429970'>here's</span> <span m='4430210'>an</span>
  <span m='4430270'>example.</span> <span m='4431170'>x</span> <span m='4431500'>is</span>
  <span m='4432190'>0101,</span> <span m='4434845'>0000,</span> <span m='4438340'>1000,</span>
  <span m='4441600'>1101.</span> <span m='4443590'>So</span> <span m='4443770'>each</span>
  <span m='4443980'>of</span> <span m='4444040'>these</span> <span m='4444380'>is</span>
  <span m='4444670'>root</span> <span m='4444850'>w</span> <span m='4445180'>bits.</span>
  <span m='4445660'>There's</span> <span m='4446100'>root</span> <span m='4446410'>w</span>
  <span m='4446710'>of</span> <span m='4446830'>them.</span> <span m='4447730'>It's</span>
  <span m='4448150'>approximate.</span> <span m='4448420'>It</span> <span m='4448690'>doesn't</span>
  <span m='4448900'>it</span> <span m='4448990'>to</span> <span m='4449080'>be</span>
  <span m='4449140'>exactly.</span> <span m='4449710'>But</span> <span m='4449860'>we'll</span>
  <span m='4450010'>assume</span> <span m='4451030'>x</span> <span m='4451270'>is</span>
  <span m='4451420'>a</span> <span m='4451480'>nice</span> <span m='4452650'>power</span>
  <span m='4452830'>of</span> <span m='4452920'>two,</span> <span m='4453310'>so that</span>
  <span m='4453550'>works</span> <span m='4453910'>cleanly.</span> </p><p><span m='4458140'>So</span>
  <span m='4458320'>the</span> <span m='4458440'>first</span> <span m='4458680'>thing,</span>
  <span m='4459010'>so</span> <span m='4459200'>what</span> <span m='4459460'>the</span>
  <span m='4459670'>high</span> <span m='4459820'>level</span> <span m='4460090'>idea</span>
  <span m='4460390'>is</span> <span m='4461140'>I</span> <span m='4461200'>need</span>
  <span m='4461350'>to</span> <span m='4461440'>find</span> <span m='4461710'>the</span>
  <span m='4461800'>first</span> <span m='4462190'>non-empty</span> <span m='4462640'>cluster.</span>
  <span m='4463090'>Here it</span> <span m='4463270'>happens</span> <span m='4463570'>to</span>
  <span m='4463690'>be</span> <span m='4463870'>the</span> <span m='4463990'>first</span>
  <span m='4464200'>cluster.</span> <span m='4465100'>And</span> <span m='4465220'>then</span>
  <span m='4465370'>I</span> <span m='4465430'>need</span> <span m='4465580'>to</span>
  <span m='4465670'>find</span> <span m='4465880'>the</span> <span m='4465940'>first</span>
  <span m='4466150'>1</span> <span m='4466360'>bit</span> <span m='4466540'>within</span>
  <span m='4466780'>the</span> <span m='4466870'>cluster.</span> <span m='4469300'>Hard</span>
  <span m='4469570'>part</span> <span m='4470140'>is</span> <span m='4470260'>finding</span>
  <span m='4470590'>the</span> <span m='4470680'>first</span> <span m='4470890'>non-empty</span>
  <span m='4471310'>cluster.</span> <span m='4472480'>Actually,</span> <span m='4472810'>the</span>
  <span m='4472900'>hard</span> <span m='4473080'>part</span> <span m='4473380'>or</span>
  <span m='4473560'>the</span> <span m='4473680'>messy</span> <span m='4474070'>part</span>
  <span m='4474640'>is</span> <span m='4474760'>finding</span> <span m='4475090'>which</span>
  <span m='4475300'>clusters</span> <span m='4475750'>are</span> <span m='4475840'>empty</span>
  <span m='4476350'>and</span> <span m='4476710'>which</span> <span m='4476890'>clusters</span>
  <span m='4477250'>are</span> <span m='4477310'>not.</span> <span m='4477580'>This</span>
  <span m='4477760'>cluster</span> <span m='4478150'>is</span> <span m='4478240'>not</span>
  <span m='4478420'>empty.</span> <span m='4478690'>This</span> <span m='4478840'>cluster</span>
  <span m='4479160'>is</span> <span m='4479260'>empty.</span> <span m='4480130'>These</span>
  <span m='4480310'>are</span> <span m='4480500'>non-empty.</span> <span m='4481280'>So</span>
  <span m='4481300'>I</span> <span m='4481360'>want</span> <span m='4481850'>the</span>
  <span m='4482170'>summary</span> <span m='4482620'>vector</span> <span m='4483070'>which</span>
  <span m='4483250'>is</span> <span m='4483430'>1011.</span> <span m='4485740'>I</span>
  <span m='4486130'>claim</span> <span m='4486370'>if</span> <span m='4486460'>I</span>
  <span m='4486550'>can</span> <span m='4486670'>do</span> <span m='4486790'>that,</span>
  <span m='4487000'>everything</span> <span m='4487390'>else</span> <span m='4487570'>is</span>
  <span m='4487660'>easy.</span> <span m='4489140'>So</span> <span m='4489310'>let's</span>
  <span m='4489550'>spend</span> <span m='4489850'>some</span> <span m='4490030'>time</span>
  <span m='4490420'>on</span> <span m='4491890'>identifying</span> <span m='4495790'>non-empty</span>
  <span m='4496360'>clusters.</span> </p><p><span m='4503380'>First</span> <span m='4503680'>thing</span>
  <span m='4503860'>I</span> <span m='4503980'>do</span> <span m='4504730'>is</span>
  <span m='4504850'>I</span> <span m='4504940'>take</span> <span m='4505480'>x,</span>
  <span m='4506620'>ANDed</span> <span m='4507010'>with</span> <span m='4510460'>this</span>
  <span m='4510670'>thing,</span> <span m='4510980'>which</span> <span m='4511000'>I'm</span>
  <span m='4511090'>going</span> <span m='4511210'>to</span> <span m='4511270'>call</span>
  <span m='4512470'>F,</span> <span m='4514970'>1000,</span> <span m='4516970'>1000,</span>
  <span m='4518925'>1000,</span> <span m='4521430'>1000;</span> <span m='4522250'>F</span>
  <span m='4523000'>for</span> <span m='4523360'>first.</span> <span m='4525400'>So</span>
  <span m='4526180'>I'm</span> <span m='4526330'>just</span> <span m='4526630'>seeing</span>
  <span m='4527170'>which</span> <span m='4527410'>of</span> <span m='4527500'>these</span>
  <span m='4528340'>first</span> <span m='4528730'>bits</span> <span m='4529270'>in</span>
  <span m='4529390'>each</span> <span m='4529540'>cluster</span> <span m='4529930'>are</span>
  <span m='4530020'>set.</span> <span m='4531280'>So</span> <span m='4531490'>the</span>
  <span m='4531580'>result</span> <span m='4532000'>is</span> <span m='4532210'>I</span>
  <span m='4532300'>get</span> <span m='4532480'>0000,</span> <span m='4536980'>0000,</span>
  <span m='4538830'>1000,</span> <span m='4539730'>and</span> <span m='4541210'>1000.</span>
  <span m='4542890'>So</span> <span m='4543940'>in</span> <span m='4544060'>particular</span>
  <span m='4544510'>that</span> <span m='4544660'>tells</span> <span m='4544900'>me</span>
  <span m='4545020'>this</span> <span m='4545200'>cluster</span> <span m='4545630'>and</span>
  <span m='4545730'>this</span> <span m='4545740'>cluster</span> <span m='4546190'>are</span>
  <span m='4546370'>non-empty,</span> <span m='4548290'>because</span> <span m='4548500'>they</span>
  <span m='4548620'>have</span> <span m='4548770'>the</span> <span m='4548860'>first</span>
  <span m='4549100'>bit</span> <span m='4549460'>set.</span> <span m='4549940'>What</span>
  <span m='4550090'>about</span> <span m='4550270'>all</span> <span m='4550390'>those</span>
  <span m='4550570'>other</span> <span m='4550780'>bits?</span> <span m='4551170'>Well,</span>
  <span m='4551290'>the</span> <span m='4551350'>other</span> <span m='4551530'>bits</span>
  <span m='4551740'>I'm</span> <span m='4551800'>going</span> <span m='4551920'>to</span>
  <span m='4551980'>do</span> <span m='4552130'>in</span> <span m='4552220'>a</span>
  <span m='4552280'>different</span> <span m='4552550'>way.</span> <span m='4553840'>Just</span>
  <span m='4554020'>the</span> <span m='4554110'>first</span> <span m='4554350'>bits,</span>
  <span m='4554570'>I</span> <span m='4554650'>need</span> <span m='4554830'>a</span>
  <span m='4554860'>little</span> <span m='4555070'>bit</span> <span m='4555190'>of</span>
  <span m='4555340'>room.</span> </p><p><span m='4561310'>I</span> <span m='4561430'>need</span>
  <span m='4561640'>this</span> <span m='4561880'>bit</span> <span m='4562090'>of</span>
  <span m='4562210'>room.</span> <span m='4563290'>I</span> <span m='4563380'>want</span>
  <span m='4563560'>to</span> <span m='4563740'>put</span> <span m='4563950'>these</span>
  <span m='4564130'>1's</span> <span m='4564490'>in.</span> <span m='4565790'>So</span>
  <span m='4566110'>I've</span> <span m='4566230'>got</span> <span m='4566410'>to</span>
  <span m='4566530'>get</span> <span m='4567160'>rid</span> <span m='4567490'>of</span>
  <span m='4567700'>some</span> <span m='4568000'>bits</span> <span m='4568330'>to</span>
  <span m='4568480'>make</span> <span m='4568690'>room</span> <span m='4568870'>for</span>
  <span m='4568990'>that.</span> <span m='4569290'>So</span> <span m='4570040'>this</span>
  <span m='4570220'>deals</span> <span m='4570520'>with</span> <span m='4570760'>the</span>
  <span m='4571000'>first</span> <span m='4571300'>bits.</span> <span m='4572540'>Now</span>
  <span m='4572560'>I'm</span> <span m='4572620'>going</span> <span m='4572740'>to</span>
  <span m='4572800'>clear</span> <span m='4573190'>those</span> <span m='4573430'>out.</span>
  <span m='4573940'>So</span> <span m='4574090'>I'm</span> <span m='4574150'>going</span>
  <span m='4574270'>to</span> <span m='4574330'>take</span> <span m='4575140'>x</span>
  <span m='4576490'>XOR</span> <span m='4578140'>this.</span> <span m='4579670'>And</span>
  <span m='4579850'>that</span> <span m='4580060'>will</span> <span m='4580180'>give</span>
  <span m='4580420'>me</span> <span m='4581770'>everything</span> <span m='4582130'>with</span>
  <span m='4582250'>the</span> <span m='4582340'>first</span> <span m='4582580'>bits</span>
  <span m='4582810'>cleared.</span> <span m='4583210'>So</span> <span m='4583370'>I've</span>
  <span m='4583410'>got</span> <span m='4583550'>0101,</span> <span m='4585340'>0000,</span>
  <span m='4588496'>0000,</span> <span m='4591190'>and</span> <span m='4591870'>0101.</span>
  <span m='4594430'>These</span> <span m='4594640'>are</span> <span m='4594730'>the</span>
  <span m='4594940'>rest</span> <span m='4595330'>of</span> <span m='4595390'>the</span>
  <span m='4595510'>bits</span> <span m='4595840'>I've</span> <span m='4595960'>got</span>
  <span m='4596110'>to</span> <span m='4596170'>figure</span> <span m='4596410'>out.</span>
  <span m='4596500'>This</span> <span m='4596650'>one</span> <span m='4596780'>is</span>
  <span m='4597010'>non-empty</span> <span m='4597730'>and</span> <span m='4597880'>this</span>
  <span m='4598060'>one's</span> <span m='4598270'>non-empty.</span> <span m='4599260'>How</span>
  <span m='4599410'>do</span> <span m='4599530'>you</span> <span m='4599590'>do</span>
  <span m='4599770'>it?</span> <span m='4600250'>With</span> <span m='4600370'>subtraction.</span>
  </p><p><span m='4618920'>I</span> <span m='4619070'>take</span> <span m='4619820'>F</span>
  <span m='4620900'>minus</span> <span m='4621980'>that</span> <span m='4622220'>thing.</span>
  <span m='4626340'>This</span> <span m='4626550'>F</span> <span m='4626850'>has</span>
  <span m='4627060'>1's,</span> <span m='4628200'>and</span> <span m='4628350'>they're</span>
  <span m='4628440'>going</span> <span m='4628540'>to</span> <span m='4628680'>get</span>
  <span m='4628890'>borrowed.</span> <span m='4629800'>When</span> <span m='4629940'>I</span>
  <span m='4630000'>take</span> <span m='4630210'>F</span> <span m='4630560'>minus</span>
  <span m='4630910'>this,</span> <span m='4631170'>this 1</span> <span m='4631380'>will</span>
  <span m='4631470'>get</span> <span m='4631620'>borrowed</span> <span m='4632010'>because</span>
  <span m='4632190'>there's</span> <span m='4632310'>something</span> <span m='4632700'>here.</span>
  <span m='4633540'>This</span> <span m='4633690'>one</span> <span m='4633900'>will</span>
  <span m='4633990'>not</span> <span m='4634230'>get</span> <span m='4634410'>borrowed</span>
  <span m='4634710'>because</span> <span m='4634890'>this</span> <span m='4635040'>is</span>
  <span m='4635100'>0.</span> <span m='4635940'>This</span> <span m='4636090'>one</span>
  <span m='4636270'>will</span> <span m='4636390'>not</span> <span m='4636570'>get</span>
  <span m='4636700'>borrowed</span> <span m='4636940'>because</span> <span m='4637110'>this</span>
  <span m='4637260'>is</span> <span m='4637320'>0.</span> <span m='4637560'>This</span>
  <span m='4637770'>one</span> <span m='4637950'>will</span> <span m='4638040'>get</span>
  <span m='4638190'>borrowed</span> <span m='4638550'>because</span> <span m='4638820'>there's</span>
  <span m='4638950'>something</span> <span m='4639270'>here.</span> <span m='4640200'>That's</span>
  <span m='4640380'>it.</span> <span m='4641190'>We're</span> <span m='4641340'>comparing</span>
  <span m='4641730'>with</span> <span m='4641820'>0</span> <span m='4643320'>everything.</span>
  <span m='4644520'>So</span> <span m='4644670'>we're</span> <span m='4644770'>going</span>
  <span m='4644860'>to</span> <span m='4644970'>get,</span> <span m='4645390'>in</span>
  <span m='4645540'>this</span> <span m='4645720'>case,</span> <span m='4647050'>0</span>
  <span m='4647720'>and</span> <span m='4647850'>some</span> <span m='4648040'>garbage,</span>
  <span m='4649050'>1</span> <span m='4649770'>and</span> <span m='4650760'>0's,</span>
  <span m='4651960'>1,</span> <span m='4653520'>and</span> <span m='4655080'>0</span>
  <span m='4655480'>with</span> <span m='4655880'>some</span> <span m='4656130'>garbage.</span>
  <span m='4657210'>I</span> <span m='4657300'>just</span> <span m='4657480'>care</span>
  <span m='4657690'>about</span> <span m='4657930'>these</span> <span m='4658170'>bits.</span>
  <span m='4658540'>These</span> <span m='4658620'>are</span> <span m='4658680'>the</span>
  <span m='4658800'>bits</span> <span m='4659040'>that</span> <span m='4659160'>tell</span>
  <span m='4659430'>me</span> <span m='4660540'>which</span> <span m='4660810'>ones</span>
  <span m='4660990'>were</span> <span m='4661110'>empty.</span> <span m='4661350'>The</span>
  <span m='4661470'>0's</span> <span m='4661890'>are</span> <span m='4661980'>empty.</span>
  <span m='4662340'>The</span> <span m='4662460'>1's</span> <span m='4662670'>are</span>
  <span m='4662760'>non-empty.</span> </p><p><span m='4664230'>So</span> <span m='4664390'>I</span>
  <span m='4664440'>do</span> <span m='4664590'>a</span> <span m='4664620'>mask.</span>
  <span m='4666020'>I</span> <span m='4666090'>get</span> <span m='4666410'>0,</span>
  <span m='4666940'>and some</span> <span m='4667400'>0's,</span> <span m='4668080'>1</span>
  <span m='4668580'>and some</span> <span m='4668820'>0's,</span> <span m='4669540'>1</span>
  <span m='4670070'>and some</span> <span m='4670390'>0's</span> <span m='4671210'>0
  and</span> <span m='4671620'>some</span> <span m='4672030'>0's.</span> <span m='4673930'>OK.</span>
  <span m='4674850'>Then</span> <span m='4675030'>I</span> <span m='4675150'>do</span>
  <span m='4675450'>an</span> <span m='4675720'>XOR</span> <span m='4677040'>with</span>
  <span m='4677460'>F.</span> <span m='4678060'>Because</span> <span m='4678240'>I</span>
  <span m='4678330'>really</span> <span m='4678600'>want</span> <span m='4678840'>1</span>
  <span m='4679770'>for</span> <span m='4679890'>these</span> <span m='4680100'>guys,</span>
  <span m='4681120'>and</span> <span m='4681390'>0</span> <span m='4681960'>for</span>
  <span m='4682320'>these</span> <span m='4682560'>guys.</span> <span m='4683340'>1</span>
  <span m='4683610'>means</span> <span m='4684150'>it's</span> <span m='4684330'>not</span>
  <span m='4684510'>empty.</span> <span m='4685350'>0</span> <span m='4685650'>means</span>
  <span m='4685890'>it's</span> <span m='4686010'>empty.</span> <span m='4690645'>I</span>
  <span m='4691110'>got</span> <span m='4691290'>that</span> <span m='4691470'>right.</span>
  <span m='4691650'>So</span> <span m='4691750'>I'm</span> <span m='4691800'>just</span>
  <span m='4691950'>inverting</span> <span m='4692550'>the</span> <span m='4692670'>0</span>
  <span m='4692930'>bits</span> <span m='4693280'>to</span> <span m='4693470'>1</span>
  <span m='4693690'>bits,</span> <span m='4693930'>and</span> <span m='4694020'>vice</span>
  <span m='4694260'>versa.</span> <span m='4695110'>So</span> <span m='4695190'>1</span>
  <span m='4695520'>means</span> <span m='4695850'>this</span> <span m='4696000'>one's</span>
  <span m='4696090'>not</span> <span m='4696270'>empty.</span> <span m='4697160'>1</span>
  <span m='4697350'>means</span> <span m='4697590'>this</span> <span m='4697720'>one's</span>
  <span m='4697830'>not</span> <span m='4698010'>empty.</span> <span m='4698320'>Those</span>
  <span m='4698480'>are</span> <span m='4698550'>the</span> <span m='4698640'>non-empty</span>
  <span m='4699060'>guys.</span> </p><p><span m='4700340'>I</span> <span m='4700500'>take</span>
  <span m='4700740'>this</span> <span m='4702130'>and</span> <span m='4702410'>I</span>
  <span m='4702570'>OR</span> <span m='4702870'>it</span> <span m='4704420'>with</span>
  <span m='4706200'>this</span> <span m='4706440'>thing.</span> <span m='4709950'>This</span>
  <span m='4710160'>was</span> <span m='4710370'>the</span> <span m='4710460'>thing</span>
  <span m='4710670'>that</span> <span m='4710790'>told</span> <span m='4711000'>me</span>
  <span m='4711150'>which</span> <span m='4711360'>ones</span> <span m='4711630'>had</span>
  <span m='4711900'>that</span> <span m='4712080'>first</span> <span m='4712440'>bit</span>
  <span m='4712650'>set.</span> <span m='4713850'>So</span> <span m='4713940'>if</span>
  <span m='4714030'>I</span> <span m='4714090'>take</span> <span m='4714270'>the</span>
  <span m='4714390'>OR</span> <span m='4714690'>of</span> <span m='4714810'>those</span>
  <span m='4715050'>two</span> <span m='4715890'>I</span> <span m='4716130'>learn,</span>
  <span m='4716930'>or</span> <span m='4717120'>any</span> <span m='4717390'>bit</span>
  <span m='4717630'>set.</span> <span m='4718170'>Because</span> <span m='4718350'>this</span>
  <span m='4718500'>was</span> <span m='4718620'>dealing</span> <span m='4718920'>with</span>
  <span m='4719130'>all</span> <span m='4719400'>of</span> <span m='4719490'>the</span>
  <span m='4719610'>other</span> <span m='4719820'>bits.</span> <span m='4728150'>I</span>
  <span m='4728300'>threw</span> <span m='4728630'>away</span> <span m='4728990'>this</span>
  <span m='4729230'>bit,</span> <span m='4729920'>but</span> <span m='4730070'>I</span>
  <span m='4730130'>had</span> <span m='4730280'>to</span> <span m='4730370'>remember</span>
  <span m='4730790'>that</span> <span m='4730940'>it</span> <span m='4731000'>was</span>
  <span m='4731150'>non-empty.</span> <span m='4731870'>OK.</span> <span m='4732010'>So</span>
  <span m='4732140'>I</span> <span m='4732200'>take</span> <span m='4732410'>that</span>
  <span m='4732560'>OR.</span> <span m='4733160'>Now,</span> <span m='4733400'>this</span>
  <span m='4733580'>tells</span> <span m='4733790'>me</span> <span m='4733910'>those</span>
  <span m='4734150'>three</span> <span m='4734330'>blocks</span> <span m='4735230'>were</span>
  <span m='4735320'>not</span> <span m='4735530'>empty.</span> <span m='4735920'>This</span>
  <span m='4736100'>one</span> <span m='4736280'>was</span> <span m='4736400'>empty.</span>
  <span m='4737550'>So</span> <span m='4737570'>now</span> <span m='4737870'>here</span>
  <span m='4738350'>I</span> <span m='4738470'>have</span> <span m='4738800'>the</span>
  <span m='4738920'>bits</span> <span m='4739700'>that</span> <span m='4739820'>I</span>
  <span m='4739910'>care</span> <span m='4740150'>about.</span> </p><p><span m='4741440'>Sadly</span>
  <span m='4742430'>they're</span> <span m='4742550'>spread</span> <span m='4742970'>out.</span>
  <span m='4743420'>I'd</span> <span m='4743570'>really</span> <span m='4743810'>like</span>
  <span m='4743990'>them</span> <span m='4744170'>compressed.</span> <span m='4745190'>So</span>
  <span m='4745340'>I</span> <span m='4745400'>do</span> <span m='4745550'>that</span>
  <span m='4745850'>with</span> <span m='4746030'>sketch.</span> <span m='4749130'>I</span>
  <span m='4749180'>want</span> <span m='4749300'>to</span> <span m='4749360'>compress</span>
  <span m='4749840'>them</span> <span m='4750080'>to</span> <span m='4750860'>1011.</span>
  <span m='4753186'>It</span> <span m='4753660'>would</span> <span m='4753830'>fit</span>
  <span m='4754070'>in</span> <span m='4754220'>one</span> <span m='4754460'>little</span>
  <span m='4754730'>thing</span> <span m='4754970'>here.</span> <span m='4755150'>Because</span>
  <span m='4755330'>this</span> <span m='4755450'>is</span> <span m='4755570'>root</span>
  <span m='4755780'>w.</span> <span m='4756180'>There's</span> <span m='4756580'>root
  w</span> <span m='4756980'>of them.</span> <span m='4757790'>Sadly,</span> <span
  m='4758180'>I</span> <span m='4758270'>can't</span> <span m='4758570'>use</span>
  <span m='4758750'>approximate</span> <span m='4759320'>sketch.</span> <span m='4759740'>Because</span>
  <span m='4760730'>I</span> <span m='4760790'>don't</span> <span m='4760940'>have</span>
  <span m='4761120'>enough</span> <span m='4761300'>space.</span> <span m='4762170'>This</span>
  <span m='4762350'>is</span> <span m='4762440'>w</span> <span m='4762710'>to</span>
  <span m='4762830'>the</span> <span m='4762950'>1/2.</span> <span m='4764210'>If</span>
  <span m='4764360'>I</span> <span m='4764450'>used</span> <span m='4764720'>approximate</span>
  <span m='4765140'>sketch</span> <span m='4765440'>I</span> <span m='4765530'>get</span>
  <span m='4765720'>w--</span> <span m='4767420'>I'd</span> <span m='4767560'>lose</span>
  <span m='4767840'>this</span> <span m='4768140'>factor</span> <span m='4768590'>of
  4</span> <span m='4769540'>and</span> <span m='4769640'>be</span> <span m='4769730'>bigger</span>
  <span m='4769970'>than</span> <span m='4770330'>w.</span> <span m='4771410'>I</span>
  <span m='4771530'>really</span> <span m='4771830'>need</span> <span m='4772010'>it</span>
  <span m='4772160'>to</span> <span m='4772310'>be</span> <span m='4772610'>perfectly</span>
  <span m='4773240'>sketched.</span> </p><p><span m='4774490'>Conveniently,</span>
  <span m='4775480'>you</span> <span m='4775550'>can</span> <span m='4775730'>do</span>
  <span m='4775880'>perfect</span> <span m='4776300'>sketch</span> <span m='4776720'>in</span>
  <span m='4776870'>this</span> <span m='4777080'>regime.</span> <span m='4778160'>Before</span>
  <span m='4778640'>the</span> <span m='4778900'>bi's</span> <span m='4779180'>were</span>
  <span m='4779300'>arbitrary</span> <span m='4779750'>things.</span> <span m='4780050'>We</span>
  <span m='4780140'>had</span> <span m='4780260'>no</span> <span m='4780410'>idea</span>
  <span m='4780680'>how</span> <span m='4780830'>they</span> <span m='4780900'>were</span>
  <span m='4780980'>spread</span> <span m='4781280'>out.</span> <span m='4781670'>Here</span>
  <span m='4782360'>bi</span> <span m='4783800'>is</span> <span m='4784750'>root</span>
  <span m='4785690'>w</span> <span m='4786020'>minus</span> <span m='4786350'>1--</span>
  <span m='4786620'>that's</span> <span m='4786890'>the first</span> <span m='4787160'>one--</span>
  <span m='4787700'>plus</span> <span m='4788300'>i</span> <span m='4788780'>times</span>
  <span m='4789110'>root</span> <span m='4789260'>w.</span> <span m='4789830'>They're</span>
  <span m='4790070'>nicely</span> <span m='4791900'>uniformly</span> <span m='4792410'>spaced</span>
  <span m='4793380'>by</span> <span m='4793600'>i</span> <span m='4793840'>root</span>
  <span m='4794120'>w.</span> <span m='4794750'>In</span> <span m='4794870'>this</span>
  <span m='4795080'>case--</span> <span m='4798308'>I'm running</span> <span m='4798770'>out
  of</span> <span m='4799130'>time--</span> <span m='4800270'>I</span> <span m='4800390'>claim</span>
  <span m='4800810'>you</span> <span m='4800960'>can</span> <span m='4801110'>use</span>
  <span m='4801320'>mj</span> <span m='4802160'>equal</span> <span m='4802550'>to</span>
  <span m='4804350'>w</span> <span m='4805130'>minus</span> <span m='4805880'>root</span>
  <span m='4806110'>w</span> <span m='4806600'>minus</span> <span m='4807050'>1</span>
  <span m='4808670'>minus</span> <span m='4809330'>j</span> <span m='4809792'>root</span>
  <span m='4810254'>w</span> <span m='4811640'>plus</span> <span m='4812150'>j.</span>
  <span m='4812960'>And</span> <span m='4813080'>I</span> <span m='4813170'>won't</span>
  <span m='4813350'>go</span> <span m='4813480'>to</span> <span m='4813620'>the</span>
  <span m='4813710'>proof.</span> <span m='4814050'>There's</span> <span m='4814270'>a</span>
  <span m='4814340'>sketch</span> <span m='4814760'>in</span> <span m='4814850'>the</span>
  <span m='4814940'>notes.</span> </p><p><span m='4815930'>If</span> <span m='4816050'>you</span>
  <span m='4816140'>do</span> <span m='4816350'>this,</span> <span m='4817541'>this</span>
  <span m='4817940'>is</span> <span m='4818030'>a</span> <span m='4818090'>nice</span>
  <span m='4818390'>setting</span> <span m='4818810'>of</span> <span m='4818990'>mj.</span>
  <span m='4819620'>It</span> <span m='4820070'>turns</span> <span m='4820310'>out</span>
  <span m='4820430'>you</span> <span m='4820610'>will</span> <span m='4820730'>get</span>
  <span m='4821840'>bi--</span> <span m='4822490'>if</span> <span m='4822630'>we</span>
  <span m='4822710'>look</span> <span m='4822890'>at</span> <span m='4822980'>bi</span>
  <span m='4823200'>plus</span> <span m='4823580'>mi,</span> <span m='4825020'>this</span>
  <span m='4825230'>cancels,</span> <span m='4826850'>this</span> <span m='4827300'>cancels,</span>
  <span m='4827900'>because</span> <span m='4828080'>i</span> <span m='4828170'>equals</span>
  <span m='4828440'>j.</span> <span m='4829160'>You're</span> <span m='4829280'>left</span>
  <span m='4829520'>with</span> <span m='4829700'>w</span> <span m='4830150'>plus</span>
  <span m='4830540'>j.</span> <span m='4832290'>So</span> <span m='4832560'>in</span>
  <span m='4832650'>other</span> <span m='4832800'>words,</span> <span m='4833640'>if
  you</span> <span m='4833730'>look</span> <span m='4833910'>at</span> <span m='4833970'>bi</span>
  <span m='4834240'>plus</span> <span m='4834780'>mi,</span> <span m='4835890'>you</span>
  <span m='4836040'>get</span> <span m='4836250'>from</span> <span m='4836640'>bit</span>
  <span m='4836910'>w</span> <span m='4838110'>to</span> <span m='4838340'>bit</span>
  <span m='4838890'>w</span> <span m='4839400'>plus</span> <span m='4840030'>root</span>
  <span m='4840210'>w</span> <span m='4841020'>minus</span> <span m='4841290'>1.</span>
  <span m='4842350'>These</span> <span m='4842550'>bits</span> <span m='4842970'>will</span>
  <span m='4843150'>be</span> <span m='4843270'>exactly</span> <span m='4843690'>the</span>
  <span m='4843810'>bits</span> <span m='4843990'>you</span> <span m='4844110'>care</span>
  <span m='4844290'>about.</span> <span m='4844530'>So</span> <span m='4844590'>you</span>
  <span m='4844680'>take</span> <span m='4844920'>those.</span> <span m='4845220'>You</span>
  <span m='4845280'>mask</span> <span m='4845640'>out</span> <span m='4845820'>the</span>
  <span m='4845940'>others.</span> <span m='4846690'>You</span> <span m='4846780'>shift
  it</span> <span m='4847140'>over</span> <span m='4847290'>to</span> <span m='4847410'>the</span>
  <span m='4847500'>right,</span> <span m='4848820'>and</span> <span m='4848910'>you</span>
  <span m='4849000'>have</span> <span m='4849150'>exactly</span> <span m='4849600'>your</span>
  <span m='4849720'>perfect</span> <span m='4850110'>sketch.</span> </p><p><span m='4850800'>The</span>
  <span m='4851050'>thing</span> <span m='4851280'>you</span> <span m='4851370'>need</span>
  <span m='4851490'>to</span> <span m='4851580'>prove</span> <span m='4851820'>here</span>
  <span m='4851970'>is</span> <span m='4852090'>that</span> <span m='4852270'>bi</span>
  <span m='4852870'>plus</span> <span m='4853080'>mj</span> <span m='4853590'>are</span>
  <span m='4853710'>all</span> <span m='4853830'>distinct.</span> <span m='4854310'>So</span>
  <span m='4854400'>there's</span> <span m='4854550'>no</span> <span m='4854700'>collisions.</span>
  <span m='4855840'>But</span> <span m='4856020'>in</span> <span m='4856140'>this</span>
  <span m='4856290'>case</span> <span m='4856530'>it's</span> <span m='4856620'>easy</span>
  <span m='4856890'>to</span> <span m='4857010'>avoid</span> <span m='4857250'>collisions.</span>
  <span m='4857790'>You've got</span> <span m='4858240'>all</span> <span m='4858360'>your</span>
  <span m='4858510'>bits</span> <span m='4858750'>nice</span> <span m='4858960'>and</span>
  <span m='4859050'>consecutive.</span> <span m='4860070'>Now</span> <span m='4860250'>you've</span>
  <span m='4860400'>got</span> <span m='4860610'>it</span> <span m='4860670'>down</span>
  <span m='4860910'>to</span> <span m='4861000'>this</span> <span m='4861210'>thing.</span>
  <span m='4862640'>OK,</span> <span m='4863700'>not</span> <span m='4863820'>quite</span>
  <span m='4864060'>done</span> <span m='4864300'>though.</span> <span m='4866226'>Only</span>
  <span m='4866640'>one</span> <span m='4866880'>more</span> <span m='4867030'>minute.</span>
  <span m='4868290'>Let's say--</span> <span m='4868560'>well,</span> <span m='4869550'>that</span>
  <span m='4869710'>was</span> <span m='4869850'>step</span> <span m='4870300'>one.</span>
  <span m='4871770'>Identify</span> <span m='4872400'>non-empty</span> <span m='4872910'>clusters.</span>
  <span m='4874440'>Step</span> <span m='4874740'>two</span> <span m='4875150'>was</span>
  <span m='4875210'>sketch.</span> </p><p><span m='4877770'>Step</span> <span m='4878040'>three</span>
  <span m='4878460'>is</span> <span m='4880260'>find</span> <span m='4882060'>the</span>
  <span m='4882270'>first</span> <span m='4883680'>non-empty</span> <span m='4884220'>cluster.</span>
  <span m='4888120'>I</span> <span m='4888240'>claim</span> <span m='4889440'>this</span>
  <span m='4890130'>is</span> <span m='4890310'>easy.</span> <span m='4891710'>So</span>
  <span m='4891790'>I</span> <span m='4891870'>take</span> <span m='4892200'>this</span>
  <span m='4892650'>sketch</span> <span m='4893100'>vector.</span> <span m='4894150'>It</span>
  <span m='4894300'>only</span> <span m='4894540'>has</span> <span m='4894900'>root</span>
  <span m='4895120'>w</span> <span m='4895470'>bits.</span> <span m='4897040'>So</span>
  <span m='4897150'>I</span> <span m='4897240'>use</span> <span m='4898410'>parallel</span>
  <span m='4899010'>comparison.</span> <span m='4904980'>What</span> <span m='4905160'>do</span>
  <span m='4905280'>I</span> <span m='4905340'>compare</span> <span m='4905880'>to?</span>
  <span m='4906180'>I'm</span> <span m='4906300'>going</span> <span m='4906420'>to</span>
  <span m='4906480'>compare</span> <span m='4906960'>many</span> <span m='4907230'>copies</span>
  <span m='4907680'>of</span> <span m='4907770'>this</span> <span m='4907950'>thing</span>
  <span m='4910490'>to</span> <span m='4911110'>0001,</span> <span m='4912610'>0010,</span>
  <span m='4914110'>0100,</span> <span m='4915610'>1000;</span> <span m='4916780'>the</span>
  <span m='4916980'>powers</span> <span m='4917370'>of</span> <span m='4917490'>2.</span>
  <span m='4919020'>So</span> <span m='4919110'>I</span> <span m='4919170'>take</span>
  <span m='4919470'>this.</span> <span m='4920160'>I</span> <span m='4920280'>put</span>
  <span m='4920520'>them</span> <span m='4920700'>in</span> <span m='4920820'>a</span>
  <span m='4920880'>vector</span> <span m='4922140'>like</span> <span m='4922450'>the</span>
  <span m='4922560'>sketch</span> <span m='4922860'>of</span> <span m='4922920'>a</span>
  <span m='4922980'>node.</span> <span m='4924300'>And</span> <span m='4924450'>I</span>
  <span m='4924540'>take</span> <span m='4924930'>the</span> <span m='4925290'>k,</span>
  <span m='4925890'>or</span> <span m='4926040'>I</span> <span m='4926100'>guess</span>
  <span m='4926250'>root</span> <span m='4926460'>w</span> <span m='4926850'>copies</span>
  <span m='4928230'>of</span> <span m='4928440'>the</span> <span m='4928590'>sketch</span>
  <span m='4929760'>of</span> <span m='4929970'>the</span> <span m='4930120'>summary</span>
  <span m='4930540'>vector.</span> <span m='4931030'>That's</span> <span m='4931230'>this</span>
  <span m='4931410'>1011.</span> <span m='4932700'>So I</span> <span m='4932850'>compare</span>
  <span m='4933690'>four</span> <span m='4933930'>copies</span> <span m='4934290'>of</span>
  <span m='4934380'>this</span> <span m='4934950'>to</span> <span m='4935070'>each</span>
  <span m='4935310'>of</span> <span m='4935370'>these,</span> <span m='4936210'>and</span>
  <span m='4936360'>I</span> <span m='4936480'>learn</span> <span m='4937170'>which</span>
  <span m='4937380'>power</span> <span m='4937650'>of</span> <span m='4937740'>2</span>
  <span m='4937950'>it</span> <span m='4938030'>is</span> <span m='4938190'>greater</span>
  <span m='4938490'>than.</span> <span m='4939150'>In</span> <span m='4939240'>other</span>
  <span m='4939420'>words,</span> <span m='4939730'>what</span> <span m='4939810'>is</span>
  <span m='4939960'>the</span> <span m='4940110'>most</span> <span m='4940320'>significant</span>
  <span m='4940830'>set</span> <span m='4941070'>bit.</span> </p><p><span m='4942600'>That's</span>
  <span m='4942840'>why</span> <span m='4943980'>when</span> <span m='4944130'>I</span>
  <span m='4944250'>told</span> <span m='4944550'>you</span> <span m='4944670'>how</span>
  <span m='4944880'>to</span> <span m='4945000'>do</span> <span m='4946470'>over</span>
  <span m='4946710'>here,</span> <span m='4947410'>when</span> <span m='4947550'>I</span>
  <span m='4947640'>told</span> <span m='4947790'>you</span> <span m='4947880'>how</span>
  <span m='4947970'>to</span> <span m='4948060'>do</span> <span m='4948220'>parallel</span>
  <span m='4948510'>comparison,</span> <span m='4948960'>I</span> <span m='4949020'>didn't</span>
  <span m='4949290'>want</span> <span m='4949440'>to</span> <span m='4949530'>use</span>
  <span m='4950250'>most</span> <span m='4950400'>significant</span> <span m='4950880'>bit</span>
  <span m='4951090'>as</span> <span m='4951210'>a</span> <span m='4951270'>subroutine.</span>
  <span m='4951750'>Because</span> <span m='4952020'>this</span> <span m='4952290'>is</span>
  <span m='4952410'>a</span> <span m='4952480'>subroutine</span> <span m='4953070'>to</span>
  <span m='4953250'>most</span> <span m='4953430'>significant</span> <span m='4953910'>bit.</span>
  <span m='4955110'>Over</span> <span m='4955320'>here,</span> <span m='4955650'>we</span>
  <span m='4955830'>could</span> <span m='4955980'>just</span> <span m='4956310'>do</span>
  <span m='4956490'>this</span> <span m='4956640'>multiplication</span> <span m='4957280'>and</span>
  <span m='4957360'>boom,</span> <span m='4958110'>we</span> <span m='4958230'>found</span>
  <span m='4958500'>what</span> <span m='4958620'>the</span> <span m='4958710'>most</span>
  <span m='4958890'>significant</span> <span m='4959340'>set</span> <span m='4959520'>bit</span>
  <span m='4959760'>was</span> <span m='4960360'>as</span> <span m='4960480'>long</span>
  <span m='4960810'>as</span> <span m='4960900'>there</span> <span m='4961020'>was</span>
  <span m='4961170'>room</span> <span m='4961380'>to</span> <span m='4961470'>fit</span>
  <span m='4961680'>all</span> <span m='4961830'>this</span> <span m='4961980'>stuff</span>
  <span m='4962220'>in</span> <span m='4962310'>a</span> <span m='4962370'>word.</span>
  <span m='4963090'>And</span> <span m='4963210'>because</span> <span m='4963900'>I've</span>
  <span m='4964110'>reduced</span> <span m='4964440'>everything</span> <span m='4964800'>to</span>
  <span m='4964860'>size</span> <span m='4965280'>root w,</span> <span m='4965720'>and</span>
  <span m='4965940'>then</span> <span m='4966280'>only</span> <span m='4966650'>there's</span>
  <span m='4967020'>w</span> <span m='4967320'>of</span> <span m='4967410'>these</span>
  <span m='4967620'>things</span> <span m='4968490'>to</span> <span m='4968610'>compare</span>
  <span m='4968970'>to,</span> <span m='4969210'>because</span> <span m='4969390'>that's</span>
  <span m='4969660'>the</span> <span m='4969780'>width</span> <span m='4970020'>of</span>
  <span m='4970110'>one</span> <span m='4970230'>of</span> <span m='4970290'>these</span>
  <span m='4970470'>fields.</span> <span m='4971490'>This</span> <span m='4971700'>all</span>
  <span m='4971820'>fits</span> <span m='4972060'>in</span> <span m='4972180'>a</span>
  <span m='4972240'>word.</span> <span m='4972720'>I</span> <span m='4972810'>can</span>
  <span m='4972930'>do</span> <span m='4973020'>this</span> <span m='4973140'>parallel</span>
  <span m='4973440'>comparison.</span> <span m='4973950'>Boom,</span> <span m='4974670'>I</span>
  <span m='4974820'>find</span> <span m='4975270'>the</span> <span m='4975510'>first</span>
  <span m='4975810'>1</span> <span m='4976020'>bit</span> <span m='4976230'>in</span>
  <span m='4976380'>this</span> <span m='4977010'>bit</span> <span m='4977190'>string,</span>
  <span m='4977430'>which</span> <span m='4977580'>happens</span> <span m='4977850'>to</span>
  <span m='4977940'>be</span> <span m='4978030'>the</span> <span m='4978150'>first</span>
  <span m='4978420'>bit.</span> </p><p><span m='4979710'>That</span> <span m='4979890'>tells</span>
  <span m='4980190'>me</span> <span m='4981150'>that</span> <span m='4982110'>this</span>
  <span m='4982320'>cluster</span> <span m='4983600'>is</span> <span m='4983920'>a</span>
  <span m='4983940'>cluster</span> <span m='4984240'>I</span> <span m='4984300'>care</span>
  <span m='4984480'>about.</span> <span m='4984820'>So</span> <span m='4984840'>I</span>
  <span m='4984870'>take</span> <span m='4985080'>those</span> <span m='4985350'>bits</span>
  <span m='4985590'>out.</span> <span m='4986190'>I</span> <span m='4986340'>mask</span>
  <span m='4986640'>them</span> <span m='4986790'>out,</span> <span m='4987000'>shift</span>
  <span m='4987240'>them</span> <span m='4987420'>over,</span> <span m='4988410'>and</span>
  <span m='4988770'>I</span> <span m='4988890'>find</span> <span m='4990390'>the</span>
  <span m='4990570'>first</span> <span m='4990900'>1</span> <span m='4991170'>bit</span>
  <span m='4993680'>in</span> <span m='4993840'>that</span> <span m='4994020'>cluster.</span>
  <span m='4995030'>How do</span> <span m='4995510'>I</span> <span m='4995580'>do</span>
  <span m='4995760'>it?</span> <span m='4996240'>In</span> <span m='4996360'>exactly</span>
  <span m='4996870'>the</span> <span m='4996960'>same</span> <span m='4997230'>way,</span>
  <span m='4998070'>clusters</span> <span m='4998430'>again,</span> <span m='4998850'>root
  w</span> <span m='4999180'>bits.</span> <span m='4999480'>I</span> <span m='4999540'>can</span>
  <span m='4999870'>use</span> <span m='5000050'>parallel</span> <span m='5000380'>comparison</span>
  <span m='5000890'>to</span> <span m='5000980'>compare</span> <span m='5001250'>it</span>
  <span m='5001310'>to</span> <span m='5001400'>all</span> <span m='5001580'>these</span>
  <span m='5001760'>things</span> <span m='5002470'>in</span> <span m='5002600'>constant</span>
  <span m='5002960'>time.</span> <span m='5003680'>I</span> <span m='5003800'>find</span>
  <span m='5004070'>where</span> <span m='5004190'>the</span> <span m='5004280'>first</span>
  <span m='5004550'>1</span> <span m='5004730'>bit</span> <span m='5004910'>is</span>
  <span m='5005090'>there.</span> <span m='5006140'>And</span> <span m='5006350'>then</span>
  <span m='5007670'>I</span> <span m='5007940'>take</span> <span m='5008210'>this</span>
  <span m='5008390'>cluster</span> <span m='5009370'>C,</span> <span m='5010460'>I</span>
  <span m='5010550'>take</span> <span m='5010850'>this</span> <span m='5011060'>bit</span>
  <span m='5012600'>D,</span> <span m='5013700'>and</span> <span m='5013850'>my</span>
  <span m='5014030'>answer</span> <span m='5014510'>is</span> <span m='5015860'>C</span>
  <span m='5016490'>root</span> <span m='5016730'>w</span> <span m='5017870'>plus</span>
  <span m='5018290'>D.</span> <span m='5020150'>That</span> <span m='5020390'>is</span>
  <span m='5020720'>the</span> <span m='5020840'>final</span> <span m='5021290'>index</span>
  <span m='5021860'>of</span> <span m='5022100'>the</span> <span m='5022710'>most</span>
  <span m='5023060'>significant</span> <span m='5023250'>1</span> <span m='5023420'>bit</span>
  <span m='5023840'>in</span> <span m='5024140'>constant</span> <span m='5024740'>time,</span>
  <span m='5025850'>using</span> <span m='5026120'>all</span> <span m='5026270'>those</span>
  <span m='5026450'>fusion</span> <span m='5026750'>tricks</span> <span m='5027470'>once</span>
  <span m='5027710'>again.</span> </p><p><span m='5027980'>And</span> <span m='5028070'>that</span>
  <span m='5028280'>in</span> <span m='5028430'>the</span> <span m='5028550'>end</span>
  <span m='5028700'>gives</span> <span m='5028850'>you</span> <span m='5028970'>fusion</span>
  <span m='5029300'>trees</span> <span m='5029600'>on</span> <span m='5029750'>a</span>
  <span m='5029810'>word</span> <span m='5030080'>RAM</span> <span m='5030770'>static.</span>
  <span m='5034030'>It's</span> <span m='5034730'>complicated,</span> <span m='5036620'>probably</span>
  <span m='5037010'>impractical,</span> <span m='5037940'>but</span> <span m='5038750'>pretty</span>
  <span m='5038990'>cool.</span> <span m='5040070'>And</span> <span m='5040210'>we're</span>
  <span m='5040300'>going</span> <span m='5040420'>to</span> <span m='5040490'>use</span>
  <span m='5040640'>these bit</span> <span m='5040950'>tricks</span> <span m='5041990'>again.</span>
  </p>
type: course
uid: e67f066785995cf1c2aa8a627ace7871

---
None